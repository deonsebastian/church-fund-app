var FP=Object.defineProperty;var BP=(e,t,n)=>t in e?FP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ln=(e,t,n)=>BP(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var DT={exports:{}},D1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UP=Symbol.for("react.transitional.element"),zP=Symbol.for("react.fragment");function kT(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:UP,type:e,key:i,ref:t!==void 0?t:null,props:n}}D1.Fragment=zP;D1.jsx=kT;D1.jsxs=kT;DT.exports=D1;var yt=DT.exports,OT={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C5=Symbol.for("react.transitional.element"),qP=Symbol.for("react.portal"),HP=Symbol.for("react.fragment"),GP=Symbol.for("react.strict_mode"),WP=Symbol.for("react.profiler"),KP=Symbol.for("react.consumer"),YP=Symbol.for("react.context"),$P=Symbol.for("react.forward_ref"),XP=Symbol.for("react.suspense"),QP=Symbol.for("react.memo"),MT=Symbol.for("react.lazy"),JP=Symbol.for("react.activity"),qw=Symbol.iterator;function ZP(e){return e===null||typeof e!="object"?null:(e=qw&&e[qw]||e["@@iterator"],typeof e=="function"?e:null)}var VT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jT=Object.assign,FT={};function Jh(e,t,n){this.props=e,this.context=t,this.refs=FT,this.updater=n||VT}Jh.prototype.isReactComponent={};Jh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function BT(){}BT.prototype=Jh.prototype;function R5(e,t,n){this.props=e,this.context=t,this.refs=FT,this.updater=n||VT}var I5=R5.prototype=new BT;I5.constructor=R5;jT(I5,Jh.prototype);I5.isPureReactComponent=!0;var Hw=Array.isArray;function Sy(){}var Vn={H:null,A:null,T:null,S:null},UT=Object.prototype.hasOwnProperty;function L5(e,t,n){var i=n.ref;return{$$typeof:C5,type:e,key:t,ref:i!==void 0?i:null,props:n}}function t7(e,t){return L5(e.type,t,e.props)}function P5(e){return typeof e=="object"&&e!==null&&e.$$typeof===C5}function e7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gw=/\/+/g;function F0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?e7(""+e.key):t.toString(36)}function n7(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Sy,Sy):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function jc(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case C5:case qP:a=!0;break;case MT:return a=e._init,jc(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+F0(e,0):i,Hw(r)?(n="",a!=null&&(n=a.replace(Gw,"$&/")+"/"),jc(r,t,n,"",function(u){return u})):r!=null&&(P5(r)&&(r=t7(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Gw,"$&/")+"/")+a)),t.push(r)),1;a=0;var o=i===""?".":i+":";if(Hw(e))for(var l=0;l<e.length;l++)i=e[l],s=o+F0(i,l),a+=jc(i,t,n,s,r);else if(l=ZP(e),typeof l=="function")for(e=l.call(e),l=0;!(i=e.next()).done;)i=i.value,s=o+F0(i,l++),a+=jc(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return jc(n7(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function am(e,t,n){if(e==null)return e;var i=[],r=0;return jc(e,i,"","",function(s){return t.call(n,s,r++)}),i}function i7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ww=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},r7={map:am,forEach:function(e,t,n){am(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return am(e,function(){t++}),t},toArray:function(e){return am(e,function(t){return t})||[]},only:function(e){if(!P5(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Activity=JP;Re.Children=r7;Re.Component=Jh;Re.Fragment=HP;Re.Profiler=WP;Re.PureComponent=R5;Re.StrictMode=GP;Re.Suspense=XP;Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Vn;Re.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Vn.H.useMemoCache(e)}};Re.cache=function(e){return function(){return e.apply(null,arguments)}};Re.cacheSignal=function(){return null};Re.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=jT({},e.props),r=e.key;if(t!=null)for(s in t.key!==void 0&&(r=""+t.key),t)!UT.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];i.children=a}return L5(e.type,r,i)};Re.createContext=function(e){return e={$$typeof:YP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:KP,_context:e},e};Re.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)UT.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return L5(e,s,r)};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:$P,render:e}};Re.isValidElement=P5;Re.lazy=function(e){return{$$typeof:MT,_payload:{_status:-1,_result:e},_init:i7}};Re.memo=function(e,t){return{$$typeof:QP,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Vn.T,n={};Vn.T=n;try{var i=e(),r=Vn.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Sy,Ww)}catch(s){Ww(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),Vn.T=t}};Re.unstable_useCacheRefresh=function(){return Vn.H.useCacheRefresh()};Re.use=function(e){return Vn.H.use(e)};Re.useActionState=function(e,t,n){return Vn.H.useActionState(e,t,n)};Re.useCallback=function(e,t){return Vn.H.useCallback(e,t)};Re.useContext=function(e){return Vn.H.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e,t){return Vn.H.useDeferredValue(e,t)};Re.useEffect=function(e,t){return Vn.H.useEffect(e,t)};Re.useEffectEvent=function(e){return Vn.H.useEffectEvent(e)};Re.useId=function(){return Vn.H.useId()};Re.useImperativeHandle=function(e,t,n){return Vn.H.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return Vn.H.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return Vn.H.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return Vn.H.useMemo(e,t)};Re.useOptimistic=function(e,t){return Vn.H.useOptimistic(e,t)};Re.useReducer=function(e,t,n){return Vn.H.useReducer(e,t,n)};Re.useRef=function(e){return Vn.H.useRef(e)};Re.useState=function(e){return Vn.H.useState(e)};Re.useSyncExternalStore=function(e,t,n){return Vn.H.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return Vn.H.useTransition()};Re.version="19.2.4";OT.exports=Re;var Pt=OT.exports,zT={exports:{}},k1={},qT={exports:{}},HT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(it,at){var Z=it.length;it.push(at);t:for(;0<Z;){var ft=Z-1>>>1,Nt=it[ft];if(0<r(Nt,at))it[ft]=at,it[Z]=Nt,Z=ft;else break t}}function n(it){return it.length===0?null:it[0]}function i(it){if(it.length===0)return null;var at=it[0],Z=it.pop();if(Z!==at){it[0]=Z;t:for(var ft=0,Nt=it.length,Tt=Nt>>>1;ft<Tt;){var F=2*(ft+1)-1,$=it[F],X=F+1,tt=it[X];if(0>r($,Z))X<Nt&&0>r(tt,$)?(it[ft]=tt,it[X]=Z,ft=X):(it[ft]=$,it[F]=Z,ft=F);else if(X<Nt&&0>r(tt,Z))it[ft]=tt,it[X]=Z,ft=X;else break t}}return at}function r(it,at){var Z=it.sortIndex-at.sortIndex;return Z!==0?Z:it.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,p=null,g=3,d=!1,w=!1,x=!1,I=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D(it){for(var at=n(u);at!==null;){if(at.callback===null)i(u);else if(at.startTime<=it)i(u),at.sortIndex=at.expirationTime,t(l,at);else break;at=n(u)}}function G(it){if(x=!1,D(it),!w)if(n(l)!==null)w=!0,et||(et=!0,L());else{var at=n(u);at!==null&&pt(G,at.startTime-it)}}var et=!1,M=-1,N=5,T=-1;function V(){return I?!0:!(e.unstable_now()-T<N)}function A(){if(I=!1,et){var it=e.unstable_now();T=it;var at=!0;try{t:{w=!1,x&&(x=!1,E(M),M=-1),d=!0;var Z=g;try{e:{for(D(it),p=n(l);p!==null&&!(p.expirationTime>it&&V());){var ft=p.callback;if(typeof ft=="function"){p.callback=null,g=p.priorityLevel;var Nt=ft(p.expirationTime<=it);if(it=e.unstable_now(),typeof Nt=="function"){p.callback=Nt,D(it),at=!0;break e}p===n(l)&&i(l),D(it)}else i(l);p=n(l)}if(p!==null)at=!0;else{var Tt=n(u);Tt!==null&&pt(G,Tt.startTime-it),at=!1}}break t}finally{p=null,g=Z,d=!1}at=void 0}}finally{at?L():et=!1}}}var L;if(typeof C=="function")L=function(){C(A)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Q=P.port2;P.port1.onmessage=A,L=function(){Q.postMessage(null)}}else L=function(){_(A,0)};function pt(it,at){M=_(function(){it(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(it){it.callback=null},e.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<it?Math.floor(1e3/it):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(it){switch(g){case 1:case 2:case 3:var at=3;break;default:at=g}var Z=g;g=at;try{return it()}finally{g=Z}},e.unstable_requestPaint=function(){I=!0},e.unstable_runWithPriority=function(it,at){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var Z=g;g=it;try{return at()}finally{g=Z}},e.unstable_scheduleCallback=function(it,at,Z){var ft=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ft+Z:ft):Z=ft,it){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=Z+Nt,it={id:c++,callback:at,priorityLevel:it,startTime:Z,expirationTime:Nt,sortIndex:-1},Z>ft?(it.sortIndex=Z,t(u,it),n(l)===null&&it===n(u)&&(x?(E(M),M=-1):x=!0,pt(G,Z-ft))):(it.sortIndex=Nt,t(l,it),w||d||(w=!0,et||(et=!0,L()))),it},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(it){var at=g;return function(){var Z=g;g=at;try{return it.apply(this,arguments)}finally{g=Z}}}})(HT);qT.exports=HT;var s7=qT.exports,GT={exports:{}},Ar={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a7=Pt;function WT(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ul(){}var _r={d:{f:ul,r:function(){throw Error(WT(522))},D:ul,C:ul,L:ul,m:ul,X:ul,S:ul,M:ul},p:0,findDOMNode:null},o7=Symbol.for("react.portal");function l7(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o7,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var ld=a7.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function O1(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_r;Ar.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(WT(299));return l7(e,t,null,n)};Ar.flushSync=function(e){var t=ld.T,n=_r.p;try{if(ld.T=null,_r.p=2,e)return e()}finally{ld.T=t,_r.p=n,_r.d.f()}};Ar.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,_r.d.C(e,t))};Ar.prefetchDNS=function(e){typeof e=="string"&&_r.d.D(e)};Ar.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=O1(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?_r.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&_r.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ar.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=O1(t.as,t.crossOrigin);_r.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&_r.d.M(e)};Ar.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=O1(n,t.crossOrigin);_r.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ar.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=O1(t.as,t.crossOrigin);_r.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else _r.d.m(e)};Ar.requestFormReset=function(e){_r.d.r(e)};Ar.unstable_batchedUpdates=function(e,t){return e(t)};Ar.useFormState=function(e,t,n){return ld.H.useFormState(e,t,n)};Ar.useFormStatus=function(){return ld.H.useHostTransitionStatus()};Ar.version="19.2.4";function KT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KT)}catch(e){console.error(e)}}KT(),GT.exports=Ar;var u7=GT.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=s7,YT=Pt,c7=u7;function xt(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function $T(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dp(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function XT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function QT(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kw(e){if(dp(e)!==e)throw Error(xt(188))}function h7(e){var t=e.alternate;if(!t){if(t=dp(e),t===null)throw Error(xt(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Kw(r),e;if(s===i)return Kw(r),t;s=s.sibling}throw Error(xt(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a)throw Error(xt(189))}}if(n.alternate!==i)throw Error(xt(190))}if(n.tag!==3)throw Error(xt(188));return n.stateNode.current===n?e:t}function JT(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=JT(e),t!==null)return t;e=e.sibling}return null}var jn=Object.assign,f7=Symbol.for("react.element"),om=Symbol.for("react.transitional.element"),Xf=Symbol.for("react.portal"),Yc=Symbol.for("react.fragment"),ZT=Symbol.for("react.strict_mode"),Ey=Symbol.for("react.profiler"),t6=Symbol.for("react.consumer"),yo=Symbol.for("react.context"),D5=Symbol.for("react.forward_ref"),Ty=Symbol.for("react.suspense"),xy=Symbol.for("react.suspense_list"),k5=Symbol.for("react.memo"),ml=Symbol.for("react.lazy"),Ny=Symbol.for("react.activity"),d7=Symbol.for("react.memo_cache_sentinel"),Yw=Symbol.iterator;function Ff(e){return e===null||typeof e!="object"?null:(e=Yw&&e[Yw]||e["@@iterator"],typeof e=="function"?e:null)}var p7=Symbol.for("react.client.reference");function Cy(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===p7?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yc:return"Fragment";case Ey:return"Profiler";case ZT:return"StrictMode";case Ty:return"Suspense";case xy:return"SuspenseList";case Ny:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Xf:return"Portal";case yo:return e.displayName||"Context";case t6:return(e._context.displayName||"Context")+".Consumer";case D5:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k5:return t=e.displayName||null,t!==null?t:Cy(e.type)||"Memo";case ml:t=e._payload,e=e._init;try{return Cy(e(t))}catch{}}return null}var Qf=Array.isArray,ye=YT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nn=c7.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ju={pending:!1,data:null,method:null,action:null},Ry=[],$c=-1;function Ha(e){return{current:e}}function Pi(e){0>$c||(e.current=Ry[$c],Ry[$c]=null,$c--)}function Rn(e,t){$c++,Ry[$c]=e.current,e.current=t}var Oa=Ha(null),Md=Ha(null),Dl=Ha(null),Eg=Ha(null);function Tg(e,t){switch(Rn(Dl,t),Rn(Md,e),Rn(Oa,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?tS(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=tS(t),e=bN(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Pi(Oa),Rn(Oa,e)}function Ph(){Pi(Oa),Pi(Md),Pi(Dl)}function Iy(e){e.memoizedState!==null&&Rn(Eg,e);var t=Oa.current,n=bN(t,e.type);t!==n&&(Rn(Md,e),Rn(Oa,n))}function xg(e){Md.current===e&&(Pi(Oa),Pi(Md)),Eg.current===e&&(Pi(Eg),Kd._currentValue=ju)}var B0,$w;function Nu(e){if(B0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B0=t&&t[1]||"",$w=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+B0+e+$w}var U0=!1;function z0(e,t){if(!e||U0)return"";U0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(d){var g=d}Reflect.construct(e,[],p)}else{try{p.call()}catch(d){g=d}e.call(p.prototype)}}else{try{throw Error()}catch(d){g=d}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(d){if(d&&g&&typeof d.stack=="string")return[d.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),u=o.split(`
`);for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===u.length)for(i=l.length-1,r=u.length-1;1<=i&&0<=r&&l[i]!==u[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==u[r]){if(i!==1||r!==1)do if(i--,r--,0>r||l[i]!==u[r]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=r);break}}}finally{U0=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Nu(n):""}function m7(e,t){switch(e.tag){case 26:case 27:case 5:return Nu(e.type);case 16:return Nu("Lazy");case 13:return e.child!==t&&t!==null?Nu("Suspense Fallback"):Nu("Suspense");case 19:return Nu("SuspenseList");case 0:case 15:return z0(e.type,!1);case 11:return z0(e.type.render,!1);case 1:return z0(e.type,!0);case 31:return Nu("Activity");default:return""}}function Xw(e){try{var t="",n=null;do t+=m7(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Ly=Object.prototype.hasOwnProperty,O5=Ei.unstable_scheduleCallback,q0=Ei.unstable_cancelCallback,g7=Ei.unstable_shouldYield,y7=Ei.unstable_requestPaint,as=Ei.unstable_now,v7=Ei.unstable_getCurrentPriorityLevel,e6=Ei.unstable_ImmediatePriority,n6=Ei.unstable_UserBlockingPriority,Ng=Ei.unstable_NormalPriority,_7=Ei.unstable_LowPriority,i6=Ei.unstable_IdlePriority,b7=Ei.log,w7=Ei.unstable_setDisableYieldValue,pp=null,os=null;function Tl(e){if(typeof b7=="function"&&w7(e),os&&typeof os.setStrictMode=="function")try{os.setStrictMode(pp,e)}catch{}}var ls=Math.clz32?Math.clz32:E7,A7=Math.log,S7=Math.LN2;function E7(e){return e>>>=0,e===0?32:31-(A7(e)/S7|0)|0}var lm=256,um=262144,cm=4194304;function Cu(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function M1(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~s,i!==0?r=Cu(i):(a&=o,a!==0?r=Cu(a):n||(n=o&~e,n!==0&&(r=Cu(n))))):(o=i&~s,o!==0?r=Cu(o):a!==0?r=Cu(a):n||(n=i&~e,n!==0&&(r=Cu(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function mp(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function T7(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r6(){var e=cm;return cm<<=1,!(cm&62914560)&&(cm=4194304),e}function H0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gp(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function x7(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-ls(n),p=1<<c;o[c]=0,l[c]=-1;var g=u[c];if(g!==null)for(u[c]=null,c=0;c<g.length;c++){var d=g[c];d!==null&&(d.lane&=-536870913)}n&=~p}i!==0&&s6(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function s6(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ls(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function a6(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ls(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function o6(e,t){var n=t&-t;return n=n&42?1:M5(n),n&(e.suspendedLanes|t)?0:n}function M5(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function V5(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function l6(){var e=nn.p;return e!==0?e:(e=window.event,e===void 0?32:LN(e.type))}function Qw(e,t){var n=nn.p;try{return nn.p=e,t()}finally{nn.p=n}}var ou=Math.random().toString(36).slice(2),Bi="__reactFiber$"+ou,Ur="__reactProps$"+ou,Zh="__reactContainer$"+ou,Py="__reactEvents$"+ou,N7="__reactListeners$"+ou,C7="__reactHandles$"+ou,Jw="__reactResources$"+ou,yp="__reactMarker$"+ou;function j5(e){delete e[Bi],delete e[Ur],delete e[Py],delete e[N7],delete e[C7]}function Xc(e){var t=e[Bi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zh]||n[Bi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sS(e);e!==null;){if(n=e[Bi])return n;e=sS(e)}return t}e=n,n=e.parentNode}return null}function tf(e){if(e=e[Bi]||e[Zh]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Jf(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(xt(33))}function dh(e){var t=e[Jw];return t||(t=e[Jw]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Li(e){e[yp]=!0}var u6=new Set,c6={};function oc(e,t){Dh(e,t),Dh(e+"Capture",t)}function Dh(e,t){for(c6[e]=t,e=0;e<t.length;e++)u6.add(t[e])}var R7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zw={},tA={};function I7(e){return Ly.call(tA,e)?!0:Ly.call(Zw,e)?!1:R7.test(e)?tA[e]=!0:(Zw[e]=!0,!1)}function Um(e,t,n){if(I7(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function hm(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ao(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function xs(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function h6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function L7(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dy(e){if(!e._valueTracker){var t=h6(e)?"checked":"value";e._valueTracker=L7(e,t,""+e[t])}}function f6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=h6(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Cg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var P7=/[\n"\\]/g;function Rs(e){return e.replace(P7,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ky(e,t,n,i,r,s,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xs(t)):e.value!==""+xs(t)&&(e.value=""+xs(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Oy(e,a,xs(t)):n!=null?Oy(e,a,xs(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+xs(o):e.removeAttribute("name")}function d6(e,t,n,i,r,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Dy(e);return}n=n!=null?""+xs(n):"",t=t!=null?""+xs(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Dy(e)}function Oy(e,t,n){t==="number"&&Cg(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ph(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+xs(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function p6(e,t,n){if(t!=null&&(t=""+xs(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+xs(n):""}function m6(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(xt(92));if(Qf(i)){if(1<i.length)throw Error(xt(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=xs(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Dy(e)}function kh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var D7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eA(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||D7.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function g6(e,t,n){if(t!=null&&typeof t!="object")throw Error(xt(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&eA(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&eA(e,s,t[s])}function F5(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),O7=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zm(e){return O7.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function vo(){}var My=null;function B5(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qc=null,mh=null;function nA(e){var t=tf(e);if(t&&(e=t.stateNode)){var n=e[Ur]||null;t:switch(e=t.stateNode,t.type){case"input":if(ky(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Rs(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Ur]||null;if(!r)throw Error(xt(90));ky(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&f6(i)}break t;case"textarea":p6(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&ph(e,!!n.multiple,t,!1)}}}var G0=!1;function y6(e,t,n){if(G0)return e(t,n);G0=!0;try{var i=e(t);return i}finally{if(G0=!1,(Qc!==null||mh!==null)&&(Y1(),Qc&&(t=Qc,e=mh,mh=Qc=null,nA(t),e)))for(t=0;t<e.length;t++)nA(e[t])}}function Vd(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ur]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(xt(231,t,typeof n));return n}var No=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vy=!1;if(No)try{var Bf={};Object.defineProperty(Bf,"passive",{get:function(){Vy=!0}}),window.addEventListener("test",Bf,Bf),window.removeEventListener("test",Bf,Bf)}catch{Vy=!1}var xl=null,U5=null,qm=null;function v6(){if(qm)return qm;var e,t=U5,n=t.length,i,r="value"in xl?xl.value:xl.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return qm=r.slice(e,1<i?1-i:void 0)}function Hm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fm(){return!0}function iA(){return!1}function zr(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fm:iA,this.isPropagationStopped=iA,this}return jn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fm)},persist:function(){},isPersistent:fm}),t}var lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V1=zr(lc),vp=jn({},lc,{view:0,detail:0}),M7=zr(vp),W0,K0,Uf,j1=jn({},vp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z5,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Uf&&(Uf&&e.type==="mousemove"?(W0=e.screenX-Uf.screenX,K0=e.screenY-Uf.screenY):K0=W0=0,Uf=e),W0)},movementY:function(e){return"movementY"in e?e.movementY:K0}}),rA=zr(j1),V7=jn({},j1,{dataTransfer:0}),j7=zr(V7),F7=jn({},vp,{relatedTarget:0}),Y0=zr(F7),B7=jn({},lc,{animationName:0,elapsedTime:0,pseudoElement:0}),U7=zr(B7),z7=jn({},lc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),q7=zr(z7),H7=jn({},lc,{data:0}),sA=zr(H7),G7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=K7[e])?!!t[e]:!1}function z5(){return Y7}var $7=jn({},vp,{key:function(e){if(e.key){var t=G7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?W7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z5,charCode:function(e){return e.type==="keypress"?Hm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),X7=zr($7),Q7=jn({},j1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aA=zr(Q7),J7=jn({},vp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z5}),Z7=zr(J7),tD=jn({},lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),eD=zr(tD),nD=jn({},j1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iD=zr(nD),rD=jn({},lc,{newState:0,oldState:0}),sD=zr(rD),aD=[9,13,27,32],q5=No&&"CompositionEvent"in window,ud=null;No&&"documentMode"in document&&(ud=document.documentMode);var oD=No&&"TextEvent"in window&&!ud,_6=No&&(!q5||ud&&8<ud&&11>=ud),oA=" ",lA=!1;function b6(e,t){switch(e){case"keyup":return aD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jc=!1;function lD(e,t){switch(e){case"compositionend":return w6(t);case"keypress":return t.which!==32?null:(lA=!0,oA);case"textInput":return e=t.data,e===oA&&lA?null:e;default:return null}}function uD(e,t){if(Jc)return e==="compositionend"||!q5&&b6(e,t)?(e=v6(),qm=U5=xl=null,Jc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _6&&t.locale!=="ko"?null:t.data;default:return null}}var cD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cD[e.type]:t==="textarea"}function A6(e,t,n,i){Qc?mh?mh.push(i):mh=[i]:Qc=i,t=Wg(t,"onChange"),0<t.length&&(n=new V1("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var cd=null,jd=null;function hD(e){yN(e,0)}function F1(e){var t=Jf(e);if(f6(t))return e}function cA(e,t){if(e==="change")return t}var S6=!1;if(No){var $0;if(No){var X0="oninput"in document;if(!X0){var hA=document.createElement("div");hA.setAttribute("oninput","return;"),X0=typeof hA.oninput=="function"}$0=X0}else $0=!1;S6=$0&&(!document.documentMode||9<document.documentMode)}function fA(){cd&&(cd.detachEvent("onpropertychange",E6),jd=cd=null)}function E6(e){if(e.propertyName==="value"&&F1(jd)){var t=[];A6(t,jd,e,B5(e)),y6(hD,t)}}function fD(e,t,n){e==="focusin"?(fA(),cd=t,jd=n,cd.attachEvent("onpropertychange",E6)):e==="focusout"&&fA()}function dD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return F1(jd)}function pD(e,t){if(e==="click")return F1(t)}function mD(e,t){if(e==="input"||e==="change")return F1(t)}function gD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cs=typeof Object.is=="function"?Object.is:gD;function Fd(e,t){if(cs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Ly.call(t,r)||!cs(e[r],t[r]))return!1}return!0}function dA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pA(e,t){var n=dA(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=dA(n)}}function T6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?T6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function x6(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Cg(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cg(e.document)}return t}function H5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var yD=No&&"documentMode"in document&&11>=document.documentMode,Zc=null,jy=null,hd=null,Fy=!1;function mA(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fy||Zc==null||Zc!==Cg(i)||(i=Zc,"selectionStart"in i&&H5(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),hd&&Fd(hd,i)||(hd=i,i=Wg(jy,"onSelect"),0<i.length&&(t=new V1("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Zc)))}function Tu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var th={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionrun:Tu("Transition","TransitionRun"),transitionstart:Tu("Transition","TransitionStart"),transitioncancel:Tu("Transition","TransitionCancel"),transitionend:Tu("Transition","TransitionEnd")},Q0={},N6={};No&&(N6=document.createElement("div").style,"AnimationEvent"in window||(delete th.animationend.animation,delete th.animationiteration.animation,delete th.animationstart.animation),"TransitionEvent"in window||delete th.transitionend.transition);function uc(e){if(Q0[e])return Q0[e];if(!th[e])return e;var t=th[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in N6)return Q0[e]=t[n];return e}var C6=uc("animationend"),R6=uc("animationiteration"),I6=uc("animationstart"),vD=uc("transitionrun"),_D=uc("transitionstart"),bD=uc("transitioncancel"),L6=uc("transitionend"),P6=new Map,By="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");By.push("scrollEnd");function ca(e,t){P6.set(e,t),oc(t,[e])}var Rg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ts=[],eh=0,G5=0;function B1(){for(var e=eh,t=G5=eh=0;t<e;){var n=Ts[t];Ts[t++]=null;var i=Ts[t];Ts[t++]=null;var r=Ts[t];Ts[t++]=null;var s=Ts[t];if(Ts[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&D6(n,r,s)}}function U1(e,t,n,i){Ts[eh++]=e,Ts[eh++]=t,Ts[eh++]=n,Ts[eh++]=i,G5|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function W5(e,t,n,i){return U1(e,t,n,i),Ig(e)}function cc(e,t){return U1(e,null,null,t),Ig(e)}function D6(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-ls(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function Ig(e){if(50<bd)throw bd=0,ov=null,Error(xt(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var nh={};function wD(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(e,t,n,i){return new wD(e,t,n,i)}function K5(e){return e=e.prototype,!(!e||!e.isReactComponent)}function So(e,t){var n=e.alternate;return n===null?(n=is(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function k6(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gm(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")K5(e)&&(a=1);else if(typeof e=="string")a=xk(e,n,Oa.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Ny:return e=is(31,n,t,r),e.elementType=Ny,e.lanes=s,e;case Yc:return Fu(n.children,r,s,t);case ZT:a=8,r|=24;break;case Ey:return e=is(12,n,t,r|2),e.elementType=Ey,e.lanes=s,e;case Ty:return e=is(13,n,t,r),e.elementType=Ty,e.lanes=s,e;case xy:return e=is(19,n,t,r),e.elementType=xy,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yo:a=10;break t;case t6:a=9;break t;case D5:a=11;break t;case k5:a=14;break t;case ml:a=16,i=null;break t}a=29,n=Error(xt(130,e===null?"null":typeof e,"")),i=null}return t=is(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Fu(e,t,n,i){return e=is(7,e,i,t),e.lanes=n,e}function J0(e,t,n){return e=is(6,e,null,t),e.lanes=n,e}function O6(e){var t=is(18,null,null,0);return t.stateNode=e,t}function Z0(e,t,n){return t=is(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var gA=new WeakMap;function Is(e,t){if(typeof e=="object"&&e!==null){var n=gA.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Xw(t)},gA.set(e,t),t)}return{value:e,source:t,stack:Xw(t)}}var ih=[],rh=0,Lg=null,Bd=0,Ns=[],Cs=0,Yl=null,La=1,Pa="";function po(e,t){ih[rh++]=Bd,ih[rh++]=Lg,Lg=e,Bd=t}function M6(e,t,n){Ns[Cs++]=La,Ns[Cs++]=Pa,Ns[Cs++]=Yl,Yl=e;var i=La;e=Pa;var r=32-ls(i)-1;i&=~(1<<r),n+=1;var s=32-ls(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,La=1<<32-ls(t)+r|n<<r|i,Pa=s+e}else La=1<<s|n<<r|i,Pa=e}function Y5(e){e.return!==null&&(po(e,1),M6(e,1,0))}function $5(e){for(;e===Lg;)Lg=ih[--rh],ih[rh]=null,Bd=ih[--rh],ih[rh]=null;for(;e===Yl;)Yl=Ns[--Cs],Ns[Cs]=null,Pa=Ns[--Cs],Ns[Cs]=null,La=Ns[--Cs],Ns[Cs]=null}function V6(e,t){Ns[Cs++]=La,Ns[Cs++]=Pa,Ns[Cs++]=Yl,La=t.id,Pa=t.overflow,Yl=e}var Ui=null,kn=null,Ke=!1,kl=null,Ls=!1,Uy=Error(xt(519));function $l(e){var t=Error(xt(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ud(Is(t,e)),Uy}function yA(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Bi]=e,t[Ur]=i,n){case"dialog":Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":case"embed":Ve("load",t);break;case"video":case"audio":for(n=0;n<Gd.length;n++)Ve(Gd[n],t);break;case"source":Ve("error",t);break;case"img":case"image":case"link":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"input":Ve("invalid",t),d6(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Ve("invalid",t);break;case"textarea":Ve("invalid",t),m6(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||_N(t.textContent,n)?(i.popover!=null&&(Ve("beforetoggle",t),Ve("toggle",t)),i.onScroll!=null&&Ve("scroll",t),i.onScrollEnd!=null&&Ve("scrollend",t),i.onClick!=null&&(t.onclick=vo),t=!0):t=!1,t||$l(e,!0)}function vA(e){for(Ui=e.return;Ui;)switch(Ui.tag){case 5:case 31:case 13:Ls=!1;return;case 27:case 3:Ls=!0;return;default:Ui=Ui.return}}function Dc(e){if(e!==Ui)return!1;if(!Ke)return vA(e),Ke=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||fv(e.type,e.memoizedProps)),n=!n),n&&kn&&$l(e),vA(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xt(317));kn=rS(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xt(317));kn=rS(e)}else t===27?(t=kn,lu(e.type)?(e=gv,gv=null,kn=e):kn=t):kn=Ui?Vs(e.stateNode.nextSibling):null;return!0}function Ku(){kn=Ui=null,Ke=!1}function t2(){var e=kl;return e!==null&&(jr===null?jr=e:jr.push.apply(jr,e),kl=null),e}function Ud(e){kl===null?kl=[e]:kl.push(e)}var zy=Ha(null),hc=null,_o=null;function yl(e,t,n){Rn(zy,t._currentValue),t._currentValue=n}function Eo(e){e._currentValue=zy.current,Pi(zy)}function qy(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Hy(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var o=s;s=r;for(var l=0;l<t.length;l++)if(o.context===t[l]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),qy(s.return,n,e),i||(a=null);break t}s=o.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(xt(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),qy(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function ef(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(xt(387));if(a=a.memoizedProps,a!==null){var o=r.type;cs(r.pendingProps.value,a.value)||(e!==null?e.push(o):e=[o])}}else if(r===Eg.current){if(a=r.alternate,a===null)throw Error(xt(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Kd):e=[Kd])}r=r.return}e!==null&&Hy(t,e,n,i),t.flags|=262144}function Pg(e){for(e=e.firstContext;e!==null;){if(!cs(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Yu(e){hc=e,_o=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qi(e){return j6(hc,e)}function dm(e,t){return hc===null&&Yu(e),j6(e,t)}function j6(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},_o===null){if(e===null)throw Error(xt(308));_o=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _o=_o.next=t;return n}var AD=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},SD=Ei.unstable_scheduleCallback,ED=Ei.unstable_NormalPriority,hi={$$typeof:yo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function X5(){return{controller:new AD,data:new Map,refCount:0}}function _p(e){e.refCount--,e.refCount===0&&SD(ED,function(){e.controller.abort()})}var fd=null,Gy=0,Oh=0,gh=null;function TD(e,t){if(fd===null){var n=fd=[];Gy=0,Oh=w_(),gh={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Gy++,t.then(_A,_A),t}function _A(){if(--Gy===0&&fd!==null){gh!==null&&(gh.status="fulfilled");var e=fd;fd=null,Oh=0,gh=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function xD(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var bA=ye.S;ye.S=function(e,t){Jx=as(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&TD(e,t),bA!==null&&bA(e,t)};var Bu=Ha(null);function Q5(){var e=Bu.current;return e!==null?e:_n.pooledCache}function Wm(e,t){t===null?Rn(Bu,Bu.current):Rn(Bu,t.pool)}function F6(){var e=Q5();return e===null?null:{parent:hi._currentValue,pool:e}}var nf=Error(xt(460)),J5=Error(xt(474)),z1=Error(xt(542)),Dg={then:function(){}};function wA(e){return e=e.status,e==="fulfilled"||e==="rejected"}function B6(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(vo,vo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,SA(e),e;default:if(typeof t.status=="string")t.then(vo,vo);else{if(e=_n,e!==null&&100<e.shellSuspendCounter)throw Error(xt(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,SA(e),e}throw Uu=t,nf}}function Ru(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Uu=n,nf):n}}var Uu=null;function AA(){if(Uu===null)throw Error(xt(459));var e=Uu;return Uu=null,e}function SA(e){if(e===nf||e===z1)throw Error(xt(483))}var yh=null,zd=0;function pm(e){var t=zd;return zd+=1,yh===null&&(yh=[]),B6(yh,e,t)}function zf(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function mm(e,t){throw t.$$typeof===f7?Error(xt(525)):(e=Object.prototype.toString.call(t),Error(xt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function U6(e){function t(_,E){if(e){var C=_.deletions;C===null?(_.deletions=[E],_.flags|=16):C.push(E)}}function n(_,E){if(!e)return null;for(;E!==null;)t(_,E),E=E.sibling;return null}function i(_){for(var E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function r(_,E){return _=So(_,E),_.index=0,_.sibling=null,_}function s(_,E,C){return _.index=C,e?(C=_.alternate,C!==null?(C=C.index,C<E?(_.flags|=67108866,E):C):(_.flags|=67108866,E)):(_.flags|=1048576,E)}function a(_){return e&&_.alternate===null&&(_.flags|=67108866),_}function o(_,E,C,D){return E===null||E.tag!==6?(E=J0(C,_.mode,D),E.return=_,E):(E=r(E,C),E.return=_,E)}function l(_,E,C,D){var G=C.type;return G===Yc?c(_,E,C.props.children,D,C.key):E!==null&&(E.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===ml&&Ru(G)===E.type)?(E=r(E,C.props),zf(E,C),E.return=_,E):(E=Gm(C.type,C.key,C.props,null,_.mode,D),zf(E,C),E.return=_,E)}function u(_,E,C,D){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=Z0(C,_.mode,D),E.return=_,E):(E=r(E,C.children||[]),E.return=_,E)}function c(_,E,C,D,G){return E===null||E.tag!==7?(E=Fu(C,_.mode,D,G),E.return=_,E):(E=r(E,C),E.return=_,E)}function p(_,E,C){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=J0(""+E,_.mode,C),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case om:return C=Gm(E.type,E.key,E.props,null,_.mode,C),zf(C,E),C.return=_,C;case Xf:return E=Z0(E,_.mode,C),E.return=_,E;case ml:return E=Ru(E),p(_,E,C)}if(Qf(E)||Ff(E))return E=Fu(E,_.mode,C,null),E.return=_,E;if(typeof E.then=="function")return p(_,pm(E),C);if(E.$$typeof===yo)return p(_,dm(_,E),C);mm(_,E)}return null}function g(_,E,C,D){var G=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return G!==null?null:o(_,E,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case om:return C.key===G?l(_,E,C,D):null;case Xf:return C.key===G?u(_,E,C,D):null;case ml:return C=Ru(C),g(_,E,C,D)}if(Qf(C)||Ff(C))return G!==null?null:c(_,E,C,D,null);if(typeof C.then=="function")return g(_,E,pm(C),D);if(C.$$typeof===yo)return g(_,E,dm(_,C),D);mm(_,C)}return null}function d(_,E,C,D,G){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return _=_.get(C)||null,o(E,_,""+D,G);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case om:return _=_.get(D.key===null?C:D.key)||null,l(E,_,D,G);case Xf:return _=_.get(D.key===null?C:D.key)||null,u(E,_,D,G);case ml:return D=Ru(D),d(_,E,C,D,G)}if(Qf(D)||Ff(D))return _=_.get(C)||null,c(E,_,D,G,null);if(typeof D.then=="function")return d(_,E,C,pm(D),G);if(D.$$typeof===yo)return d(_,E,C,dm(E,D),G);mm(E,D)}return null}function w(_,E,C,D){for(var G=null,et=null,M=E,N=E=0,T=null;M!==null&&N<C.length;N++){M.index>N?(T=M,M=null):T=M.sibling;var V=g(_,M,C[N],D);if(V===null){M===null&&(M=T);break}e&&M&&V.alternate===null&&t(_,M),E=s(V,E,N),et===null?G=V:et.sibling=V,et=V,M=T}if(N===C.length)return n(_,M),Ke&&po(_,N),G;if(M===null){for(;N<C.length;N++)M=p(_,C[N],D),M!==null&&(E=s(M,E,N),et===null?G=M:et.sibling=M,et=M);return Ke&&po(_,N),G}for(M=i(M);N<C.length;N++)T=d(M,_,N,C[N],D),T!==null&&(e&&T.alternate!==null&&M.delete(T.key===null?N:T.key),E=s(T,E,N),et===null?G=T:et.sibling=T,et=T);return e&&M.forEach(function(A){return t(_,A)}),Ke&&po(_,N),G}function x(_,E,C,D){if(C==null)throw Error(xt(151));for(var G=null,et=null,M=E,N=E=0,T=null,V=C.next();M!==null&&!V.done;N++,V=C.next()){M.index>N?(T=M,M=null):T=M.sibling;var A=g(_,M,V.value,D);if(A===null){M===null&&(M=T);break}e&&M&&A.alternate===null&&t(_,M),E=s(A,E,N),et===null?G=A:et.sibling=A,et=A,M=T}if(V.done)return n(_,M),Ke&&po(_,N),G;if(M===null){for(;!V.done;N++,V=C.next())V=p(_,V.value,D),V!==null&&(E=s(V,E,N),et===null?G=V:et.sibling=V,et=V);return Ke&&po(_,N),G}for(M=i(M);!V.done;N++,V=C.next())V=d(M,_,N,V.value,D),V!==null&&(e&&V.alternate!==null&&M.delete(V.key===null?N:V.key),E=s(V,E,N),et===null?G=V:et.sibling=V,et=V);return e&&M.forEach(function(L){return t(_,L)}),Ke&&po(_,N),G}function I(_,E,C,D){if(typeof C=="object"&&C!==null&&C.type===Yc&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case om:t:{for(var G=C.key;E!==null;){if(E.key===G){if(G=C.type,G===Yc){if(E.tag===7){n(_,E.sibling),D=r(E,C.props.children),D.return=_,_=D;break t}}else if(E.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===ml&&Ru(G)===E.type){n(_,E.sibling),D=r(E,C.props),zf(D,C),D.return=_,_=D;break t}n(_,E);break}else t(_,E);E=E.sibling}C.type===Yc?(D=Fu(C.props.children,_.mode,D,C.key),D.return=_,_=D):(D=Gm(C.type,C.key,C.props,null,_.mode,D),zf(D,C),D.return=_,_=D)}return a(_);case Xf:t:{for(G=C.key;E!==null;){if(E.key===G)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){n(_,E.sibling),D=r(E,C.children||[]),D.return=_,_=D;break t}else{n(_,E);break}else t(_,E);E=E.sibling}D=Z0(C,_.mode,D),D.return=_,_=D}return a(_);case ml:return C=Ru(C),I(_,E,C,D)}if(Qf(C))return w(_,E,C,D);if(Ff(C)){if(G=Ff(C),typeof G!="function")throw Error(xt(150));return C=G.call(C),x(_,E,C,D)}if(typeof C.then=="function")return I(_,E,pm(C),D);if(C.$$typeof===yo)return I(_,E,dm(_,C),D);mm(_,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,E!==null&&E.tag===6?(n(_,E.sibling),D=r(E,C),D.return=_,_=D):(n(_,E),D=J0(C,_.mode,D),D.return=_,_=D),a(_)):n(_,E)}return function(_,E,C,D){try{zd=0;var G=I(_,E,C,D);return yh=null,G}catch(M){if(M===nf||M===z1)throw M;var et=is(29,M,null,_.mode);return et.lanes=D,et.return=_,et}finally{}}}var $u=U6(!0),z6=U6(!1),gl=!1;function Z5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ol(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ml(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,en&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Ig(e),D6(e,null,n),t}return U1(e,i,t,n),Ig(e)}function dd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,a6(e,n)}}function e2(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ky=!1;function pd(){if(Ky){var e=gh;if(e!==null)throw e}}function md(e,t,n,i){Ky=!1;var r=e.updateQueue;gl=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var p=r.baseState;a=0,c=u=l=null,o=s;do{var g=o.lane&-536870913,d=g!==o.lane;if(d?(Ge&g)===g:(i&g)===g){g!==0&&g===Oh&&(Ky=!0),c!==null&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var w=e,x=o;g=t;var I=n;switch(x.tag){case 1:if(w=x.payload,typeof w=="function"){p=w.call(I,p,g);break t}p=w;break t;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,g=typeof w=="function"?w.call(I,p,g):w,g==null)break t;p=jn({},p,g);break t;case 2:gl=!0}}g=o.callback,g!==null&&(e.flags|=64,d&&(e.flags|=8192),d=r.callbacks,d===null?r.callbacks=[g]:d.push(g))}else d={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=d,l=p):c=c.next=d,a|=g;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;d=o,o=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);c===null&&(l=p),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,s===null&&(r.shared.lanes=0),Ql|=a,e.lanes=a,e.memoizedState=p}}function q6(e,t){if(typeof e!="function")throw Error(xt(191,e));e.call(t)}function H6(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)q6(n[e],t)}var Mh=Ha(null),kg=Ha(0);function EA(e,t){e=Lo,Rn(kg,e),Rn(Mh,t),Lo=e|t.baseLanes}function Yy(){Rn(kg,Lo),Rn(Mh,Mh.current)}function t_(){Lo=kg.current,Pi(Mh),Pi(kg)}var hs=Ha(null),Ms=null;function vl(e){var t=e.alternate;Rn(si,si.current&1),Rn(hs,e),Ms===null&&(t===null||Mh.current!==null||t.memoizedState!==null)&&(Ms=e)}function $y(e){Rn(si,si.current),Rn(hs,e),Ms===null&&(Ms=e)}function G6(e){e.tag===22?(Rn(si,si.current),Rn(hs,e),Ms===null&&(Ms=e)):_l()}function _l(){Rn(si,si.current),Rn(hs,hs.current)}function ns(e){Pi(hs),Ms===e&&(Ms=null),Pi(si)}var si=Ha(0);function Og(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||pv(n)||mv(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Co=0,Le=null,dn=null,ui=null,Mg=!1,vh=!1,Xu=!1,Vg=0,qd=0,_h=null,ND=0;function Kn(){throw Error(xt(321))}function e_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cs(e[n],t[n]))return!1;return!0}function n_(e,t,n,i,r,s){return Co=s,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ye.H=e===null||e.memoizedState===null?Ax:d_,Xu=!1,s=n(i,r),Xu=!1,vh&&(s=K6(t,n,i,r)),W6(e),s}function W6(e){ye.H=Hd;var t=dn!==null&&dn.next!==null;if(Co=0,ui=dn=Le=null,Mg=!1,qd=0,_h=null,t)throw Error(xt(300));e===null||di||(e=e.dependencies,e!==null&&Pg(e)&&(di=!0))}function K6(e,t,n,i){Le=e;var r=0;do{if(vh&&(_h=null),qd=0,vh=!1,25<=r)throw Error(xt(301));if(r+=1,ui=dn=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ye.H=Sx,s=t(n,i)}while(vh);return s}function CD(){var e=ye.H,t=e.useState()[0];return t=typeof t.then=="function"?bp(t):t,e=e.useState()[0],(dn!==null?dn.memoizedState:null)!==e&&(Le.flags|=1024),t}function i_(){var e=Vg!==0;return Vg=0,e}function r_(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function s_(e){if(Mg){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Mg=!1}Co=0,ui=dn=Le=null,vh=!1,qd=Vg=0,_h=null}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?Le.memoizedState=ui=e:ui=ui.next=e,ui}function ai(){if(dn===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=dn.next;var t=ui===null?Le.memoizedState:ui.next;if(t!==null)ui=t,dn=e;else{if(e===null)throw Le.alternate===null?Error(xt(467)):Error(xt(310));dn=e,e={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},ui===null?Le.memoizedState=ui=e:ui=ui.next=e}return ui}function q1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bp(e){var t=qd;return qd+=1,_h===null&&(_h=[]),e=B6(_h,e,t),t=Le,(ui===null?t.memoizedState:ui.next)===null&&(t=t.alternate,ye.H=t===null||t.memoizedState===null?Ax:d_),e}function H1(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bp(e);if(e.$$typeof===yo)return qi(e)}throw Error(xt(438,String(e)))}function a_(e){var t=null,n=Le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Le.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=q1(),Le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=d7;return t.index++,n}function Ro(e,t){return typeof t=="function"?t(e):t}function Km(e){var t=ai();return o_(t,dn,e)}function o_(e,t,n){var i=e.queue;if(i===null)throw Error(xt(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var o=a=null,l=null,u=t,c=!1;do{var p=u.lane&-536870913;if(p!==u.lane?(Ge&p)===p:(Co&p)===p){var g=u.revertLane;if(g===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===Oh&&(c=!0);else if((Co&g)===g){u=u.next,g===Oh&&(c=!0);continue}else p={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=p,a=s):l=l.next=p,Le.lanes|=g,Ql|=g;p=u.action,Xu&&n(s,p),s=u.hasEagerState?u.eagerState:n(s,p)}else g={lane:p,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=g,a=s):l=l.next=g,Le.lanes|=p,Ql|=p;u=u.next}while(u!==null&&u!==t);if(l===null?a=s:l.next=o,!cs(s,e.memoizedState)&&(di=!0,c&&(n=gh,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=l,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function n2(e){var t=ai(),n=t.queue;if(n===null)throw Error(xt(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);cs(s,t.memoizedState)||(di=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Y6(e,t,n){var i=Le,r=ai(),s=Ke;if(s){if(n===void 0)throw Error(xt(407));n=n()}else n=t();var a=!cs((dn||r).memoizedState,n);if(a&&(r.memoizedState=n,di=!0),r=r.queue,l_(Q6.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||ui!==null&&ui.memoizedState.tag&1){if(i.flags|=2048,Vh(9,{destroy:void 0},X6.bind(null,i,r,n,t),null),_n===null)throw Error(xt(349));s||Co&127||$6(i,t,n)}return n}function $6(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t=q1(),Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function X6(e,t,n,i){t.value=n,t.getSnapshot=i,J6(t)&&Z6(e)}function Q6(e,t,n){return n(function(){J6(t)&&Z6(e)})}function J6(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cs(e,n)}catch{return!0}}function Z6(e){var t=cc(e,2);t!==null&&Br(t,e,2)}function Xy(e){var t=vr();if(typeof e=="function"){var n=e;if(e=n(),Xu){Tl(!0);try{n()}finally{Tl(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:e},t}function tx(e,t,n,i){return e.baseState=n,o_(e,dn,typeof i=="function"?i:Ro)}function RD(e,t,n,i,r){if(W1(e))throw Error(xt(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};ye.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,ex(t,s)):(s.next=n.next,t.pending=n.next=s)}}function ex(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=ye.T,a={};ye.T=a;try{var o=n(r,i),l=ye.S;l!==null&&l(a,o),TA(e,t,o)}catch(u){Qy(e,t,u)}finally{s!==null&&a.types!==null&&(s.types=a.types),ye.T=s}}else try{s=n(r,i),TA(e,t,s)}catch(u){Qy(e,t,u)}}function TA(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){xA(e,t,i)},function(i){return Qy(e,t,i)}):xA(e,t,n)}function xA(e,t,n){t.status="fulfilled",t.value=n,nx(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ex(e,n)))}function Qy(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,nx(t),t=t.next;while(t!==i)}e.action=null}function nx(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ix(e,t){return t}function NA(e,t){if(Ke){var n=_n.formState;if(n!==null){t:{var i=Le;if(Ke){if(kn){e:{for(var r=kn,s=Ls;r.nodeType!==8;){if(!s){r=null;break e}if(r=Vs(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){kn=Vs(r.nextSibling),i=r.data==="F!";break t}}$l(i)}i=!1}i&&(t=n[0])}}return n=vr(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ix,lastRenderedState:t},n.queue=i,n=_x.bind(null,Le,i),i.dispatch=n,i=Xy(!1),s=f_.bind(null,Le,!1,i.queue),i=vr(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=RD.bind(null,Le,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function CA(e){var t=ai();return rx(t,dn,e)}function rx(e,t,n){if(t=o_(e,t,ix)[0],e=Km(Ro)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=bp(t)}catch(a){throw a===nf?z1:a}else i=t;t=ai();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(Le.flags|=2048,Vh(9,{destroy:void 0},ID.bind(null,r,n),null)),[i,s,e]}function ID(e,t){e.action=t}function RA(e){var t=ai(),n=dn;if(n!==null)return rx(t,n,e);ai(),t=t.memoizedState,n=ai();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Vh(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Le.updateQueue,t===null&&(t=q1(),Le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function sx(){return ai().memoizedState}function Ym(e,t,n,i){var r=vr();Le.flags|=e,r.memoizedState=Vh(1|t,{destroy:void 0},n,i===void 0?null:i)}function G1(e,t,n,i){var r=ai();i=i===void 0?null:i;var s=r.memoizedState.inst;dn!==null&&i!==null&&e_(i,dn.memoizedState.deps)?r.memoizedState=Vh(t,s,n,i):(Le.flags|=e,r.memoizedState=Vh(1|t,s,n,i))}function IA(e,t){Ym(8390656,8,e,t)}function l_(e,t){G1(2048,8,e,t)}function LD(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=q1(),Le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ax(e){var t=ai().memoizedState;return LD({ref:t,nextImpl:e}),function(){if(en&2)throw Error(xt(440));return t.impl.apply(void 0,arguments)}}function ox(e,t){return G1(4,2,e,t)}function lx(e,t){return G1(4,4,e,t)}function ux(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cx(e,t,n){n=n!=null?n.concat([e]):null,G1(4,4,ux.bind(null,t,e),n)}function u_(){}function hx(e,t){var n=ai();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&e_(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function fx(e,t){var n=ai();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&e_(t,i[1]))return i[0];if(i=e(),Xu){Tl(!0);try{e()}finally{Tl(!1)}}return n.memoizedState=[i,t],i}function c_(e,t,n){return n===void 0||Co&1073741824&&!(Ge&261930)?e.memoizedState=t:(e.memoizedState=n,e=tN(),Le.lanes|=e,Ql|=e,n)}function dx(e,t,n,i){return cs(n,t)?n:Mh.current!==null?(e=c_(e,n,i),cs(e,t)||(di=!0),e):!(Co&42)||Co&1073741824&&!(Ge&261930)?(di=!0,e.memoizedState=n):(e=tN(),Le.lanes|=e,Ql|=e,t)}function px(e,t,n,i,r){var s=nn.p;nn.p=s!==0&&8>s?s:8;var a=ye.T,o={};ye.T=o,f_(e,!1,t,n);try{var l=r(),u=ye.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=xD(l,i);gd(e,t,c,us(e))}else gd(e,t,i,us(e))}catch(p){gd(e,t,{then:function(){},status:"rejected",reason:p},us())}finally{nn.p=s,a!==null&&o.types!==null&&(a.types=o.types),ye.T=a}}function PD(){}function Jy(e,t,n,i){if(e.tag!==5)throw Error(xt(476));var r=mx(e).queue;px(e,r,t,ju,n===null?PD:function(){return gx(e),n(i)})}function mx(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ju,baseState:ju,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:ju},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function gx(e){var t=mx(e);t.next===null&&(t=e.alternate.memoizedState),gd(e,t.next.queue,{},us())}function h_(){return qi(Kd)}function yx(){return ai().memoizedState}function vx(){return ai().memoizedState}function DD(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=us();e=Ol(n);var i=Ml(t,e,n);i!==null&&(Br(i,t,n),dd(i,t,n)),t={cache:X5()},e.payload=t;return}t=t.return}}function kD(e,t,n){var i=us();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},W1(e)?bx(t,n):(n=W5(e,t,n,i),n!==null&&(Br(n,e,i),wx(n,t,i)))}function _x(e,t,n){var i=us();gd(e,t,n,i)}function gd(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(W1(e))bx(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,cs(o,a))return U1(e,t,r,0),_n===null&&B1(),!1}catch{}finally{}if(n=W5(e,t,r,i),n!==null)return Br(n,e,i),wx(n,t,i),!0}return!1}function f_(e,t,n,i){if(i={lane:2,revertLane:w_(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},W1(e)){if(t)throw Error(xt(479))}else t=W5(e,n,i,2),t!==null&&Br(t,e,2)}function W1(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function bx(e,t){vh=Mg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wx(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,a6(e,n)}}var Hd={readContext:qi,use:H1,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useLayoutEffect:Kn,useInsertionEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useSyncExternalStore:Kn,useId:Kn,useHostTransitionStatus:Kn,useFormState:Kn,useActionState:Kn,useOptimistic:Kn,useMemoCache:Kn,useCacheRefresh:Kn};Hd.useEffectEvent=Kn;var Ax={readContext:qi,use:H1,useCallback:function(e,t){return vr().memoizedState=[e,t===void 0?null:t],e},useContext:qi,useEffect:IA,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ym(4194308,4,ux.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ym(4194308,4,e,t)},useInsertionEffect:function(e,t){Ym(4,2,e,t)},useMemo:function(e,t){var n=vr();t=t===void 0?null:t;var i=e();if(Xu){Tl(!0);try{e()}finally{Tl(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=vr();if(n!==void 0){var r=n(t);if(Xu){Tl(!0);try{n(t)}finally{Tl(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=kD.bind(null,Le,e),[i.memoizedState,e]},useRef:function(e){var t=vr();return e={current:e},t.memoizedState=e},useState:function(e){e=Xy(e);var t=e.queue,n=_x.bind(null,Le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:u_,useDeferredValue:function(e,t){var n=vr();return c_(n,e,t)},useTransition:function(){var e=Xy(!1);return e=px.bind(null,Le,e.queue,!0,!1),vr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Le,r=vr();if(Ke){if(n===void 0)throw Error(xt(407));n=n()}else{if(n=t(),_n===null)throw Error(xt(349));Ge&127||$6(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,IA(Q6.bind(null,i,s,e),[e]),i.flags|=2048,Vh(9,{destroy:void 0},X6.bind(null,i,s,n,t),null),n},useId:function(){var e=vr(),t=_n.identifierPrefix;if(Ke){var n=Pa,i=La;n=(i&~(1<<32-ls(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Vg++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=ND++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:h_,useFormState:NA,useActionState:NA,useOptimistic:function(e){var t=vr();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=f_.bind(null,Le,!0,n),n.dispatch=t,[e,t]},useMemoCache:a_,useCacheRefresh:function(){return vr().memoizedState=DD.bind(null,Le)},useEffectEvent:function(e){var t=vr(),n={impl:e};return t.memoizedState=n,function(){if(en&2)throw Error(xt(440));return n.impl.apply(void 0,arguments)}}},d_={readContext:qi,use:H1,useCallback:hx,useContext:qi,useEffect:l_,useImperativeHandle:cx,useInsertionEffect:ox,useLayoutEffect:lx,useMemo:fx,useReducer:Km,useRef:sx,useState:function(){return Km(Ro)},useDebugValue:u_,useDeferredValue:function(e,t){var n=ai();return dx(n,dn.memoizedState,e,t)},useTransition:function(){var e=Km(Ro)[0],t=ai().memoizedState;return[typeof e=="boolean"?e:bp(e),t]},useSyncExternalStore:Y6,useId:yx,useHostTransitionStatus:h_,useFormState:CA,useActionState:CA,useOptimistic:function(e,t){var n=ai();return tx(n,dn,e,t)},useMemoCache:a_,useCacheRefresh:vx};d_.useEffectEvent=ax;var Sx={readContext:qi,use:H1,useCallback:hx,useContext:qi,useEffect:l_,useImperativeHandle:cx,useInsertionEffect:ox,useLayoutEffect:lx,useMemo:fx,useReducer:n2,useRef:sx,useState:function(){return n2(Ro)},useDebugValue:u_,useDeferredValue:function(e,t){var n=ai();return dn===null?c_(n,e,t):dx(n,dn.memoizedState,e,t)},useTransition:function(){var e=n2(Ro)[0],t=ai().memoizedState;return[typeof e=="boolean"?e:bp(e),t]},useSyncExternalStore:Y6,useId:yx,useHostTransitionStatus:h_,useFormState:RA,useActionState:RA,useOptimistic:function(e,t){var n=ai();return dn!==null?tx(n,dn,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:a_,useCacheRefresh:vx};Sx.useEffectEvent=ax;function i2(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:jn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zy={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=us(),r=Ol(i);r.payload=t,n!=null&&(r.callback=n),t=Ml(e,r,i),t!==null&&(Br(t,e,i),dd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=us(),r=Ol(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Ml(e,r,i),t!==null&&(Br(t,e,i),dd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=us(),i=Ol(n);i.tag=2,t!=null&&(i.callback=t),t=Ml(e,i,n),t!==null&&(Br(t,e,n),dd(t,e,n))}};function LA(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Fd(n,i)||!Fd(r,s):!0}function PA(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Zy.enqueueReplaceState(t,t.state,null)}function Qu(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=jn({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function Ex(e){Rg(e)}function Tx(e){console.error(e)}function xx(e){Rg(e)}function jg(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function DA(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function tv(e,t,n){return n=Ol(n),n.tag=3,n.payload={element:null},n.callback=function(){jg(e,t)},n}function Nx(e){return e=Ol(e),e.tag=3,e}function Cx(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){DA(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){DA(t,n,i),typeof r!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function OD(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&ef(t,n,r,!0),n=hs.current,n!==null){switch(n.tag){case 31:case 13:return Ms===null?qg():n.alternate===null&&Xn===0&&(Xn=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Dg?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),p2(e,i,r)),!1;case 22:return n.flags|=65536,i===Dg?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),p2(e,i,r)),!1}throw Error(xt(435,n.tag))}return p2(e,i,r),qg(),!1}if(Ke)return t=hs.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Uy&&(e=Error(xt(422),{cause:i}),Ud(Is(e,n)))):(i!==Uy&&(t=Error(xt(423),{cause:i}),Ud(Is(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=Is(i,n),r=tv(e.stateNode,i,r),e2(e,r),Xn!==4&&(Xn=2)),!1;var s=Error(xt(520),{cause:i});if(s=Is(s,n),_d===null?_d=[s]:_d.push(s),Xn!==4&&(Xn=2),t===null)return!0;i=Is(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=tv(n.stateNode,i,e),e2(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Vl===null||!Vl.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Nx(r),Cx(r,e,n,i),e2(n,r),!1}n=n.return}while(n!==null);return!1}var p_=Error(xt(461)),di=!1;function ji(e,t,n,i){t.child=e===null?z6(t,null,n,i):$u(t,e.child,n,i)}function kA(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return Yu(t),i=n_(e,t,n,a,s,r),o=i_(),e!==null&&!di?(r_(e,t,r),Io(e,t,r)):(Ke&&o&&Y5(t),t.flags|=1,ji(e,t,i,r),t.child)}function OA(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!K5(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Rx(e,t,s,i,r)):(e=Gm(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!m_(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fd,n(a,i)&&e.ref===t.ref)return Io(e,t,r)}return t.flags|=1,e=So(s,i),e.ref=t.ref,e.return=t,t.child=e}function Rx(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Fd(s,i)&&e.ref===t.ref)if(di=!1,t.pendingProps=i=s,m_(e,r))e.flags&131072&&(di=!0);else return t.lanes=e.lanes,Io(e,t,r)}return ev(e,t,n,i,r)}function Ix(e,t,n,i){var r=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,t.child=null;return MA(e,t,s,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wm(t,s!==null?s.cachePool:null),s!==null?EA(t,s):Yy(),G6(t);else return i=t.lanes=536870912,MA(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Wm(t,s.cachePool),EA(t,s),_l(),t.memoizedState=null):(e!==null&&Wm(t,null),Yy(),_l());return ji(e,t,r,n),t.child}function Zf(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function MA(e,t,n,i,r){var s=Q5();return s=s===null?null:{parent:hi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Wm(t,null),Yy(),G6(t),e!==null&&ef(e,t,i,!0),t.childLanes=r,null}function $m(e,t){return t=Fg({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function VA(e,t,n){return $u(t,e.child,null,n),e=$m(t,t.pendingProps),e.flags|=2,ns(t),t.memoizedState=null,e}function MD(e,t,n){var i=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ke){if(i.mode==="hidden")return e=$m(t,i),t.lanes=536870912,Zf(null,e);if($y(t),(e=kn)?(e=AN(e,Ls),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yl!==null?{id:La,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},n=O6(e),n.return=t,t.child=n,Ui=t,kn=null)):e=null,e===null)throw $l(t);return t.lanes=536870912,null}return $m(t,i)}var s=e.memoizedState;if(s!==null){var a=s.dehydrated;if($y(t),r)if(t.flags&256)t.flags&=-257,t=VA(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(xt(558));else if(di||ef(e,t,n,!1),r=(n&e.childLanes)!==0,di||r){if(i=_n,i!==null&&(a=o6(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,cc(e,a),Br(i,e,a),p_;qg(),t=VA(e,t,n)}else e=s.treeContext,kn=Vs(a.nextSibling),Ui=t,Ke=!0,kl=null,Ls=!1,e!==null&&V6(t,e),t=$m(t,i),t.flags|=4096;return t}return e=So(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Xm(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(xt(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ev(e,t,n,i,r){return Yu(t),n=n_(e,t,n,i,void 0,r),i=i_(),e!==null&&!di?(r_(e,t,r),Io(e,t,r)):(Ke&&i&&Y5(t),t.flags|=1,ji(e,t,n,r),t.child)}function jA(e,t,n,i,r,s){return Yu(t),t.updateQueue=null,n=K6(t,i,n,r),W6(e),i=i_(),e!==null&&!di?(r_(e,t,s),Io(e,t,s)):(Ke&&i&&Y5(t),t.flags|=1,ji(e,t,n,s),t.child)}function FA(e,t,n,i,r){if(Yu(t),t.stateNode===null){var s=nh,a=n.contextType;typeof a=="object"&&a!==null&&(s=qi(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Zy,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Z5(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?qi(a):nh,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(i2(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Zy.enqueueReplaceState(s,s.state,null),md(t,i,s,r),pd(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var o=t.memoizedProps,l=Qu(n,o);s.props=l;var u=s.context,c=n.contextType;a=nh,typeof c=="object"&&c!==null&&(a=qi(c));var p=n.getDerivedStateFromProps;c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||u!==a)&&PA(t,s,i,a),gl=!1;var g=t.memoizedState;s.state=g,md(t,i,s,r),pd(),u=t.memoizedState,o||g!==u||gl?(typeof p=="function"&&(i2(t,n,p,i),u=t.memoizedState),(l=gl||LA(t,n,l,i,g,u,a))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),s.props=i,s.state=u,s.context=a,i=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Wy(e,t),a=t.memoizedProps,c=Qu(n,a),s.props=c,p=t.pendingProps,g=s.context,u=n.contextType,l=nh,typeof u=="object"&&u!==null&&(l=qi(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||g!==l)&&PA(t,s,i,l),gl=!1,g=t.memoizedState,s.state=g,md(t,i,s,r),pd();var d=t.memoizedState;a!==p||g!==d||gl||e!==null&&e.dependencies!==null&&Pg(e.dependencies)?(typeof o=="function"&&(i2(t,n,o,i),d=t.memoizedState),(c=gl||LA(t,n,c,i,g,d,l)||e!==null&&e.dependencies!==null&&Pg(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,d,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,d,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=d),s.props=i,s.state=d,s.context=l,i=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Xm(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=$u(t,e.child,null,r),t.child=$u(t,null,n,r)):ji(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Io(e,t,r),e}function BA(e,t,n,i){return Ku(),t.flags|=256,ji(e,t,n,i),t.child}var r2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function s2(e){return{baseLanes:e,cachePool:F6()}}function a2(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=rs),e}function Lx(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(si.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ke){if(r?vl(t):_l(),(e=kn)?(e=AN(e,Ls),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yl!==null?{id:La,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},n=O6(e),n.return=t,t.child=n,Ui=t,kn=null)):e=null,e===null)throw $l(t);return mv(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,r?(_l(),r=t.mode,o=Fg({mode:"hidden",children:o},r),i=Fu(i,r,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=s2(n),i.childLanes=a2(e,a,n),t.memoizedState=r2,Zf(null,i)):(vl(t),nv(t,o))}var l=e.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(s)t.flags&256?(vl(t),t.flags&=-257,t=o2(e,t,n)):t.memoizedState!==null?(_l(),t.child=e.child,t.flags|=128,t=null):(_l(),o=i.fallback,r=t.mode,i=Fg({mode:"visible",children:i.children},r),o=Fu(o,r,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,$u(t,e.child,null,n),i=t.child,i.memoizedState=s2(n),i.childLanes=a2(e,a,n),t.memoizedState=r2,t=Zf(null,i));else if(vl(t),mv(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,i=Error(xt(419)),i.stack="",i.digest=a,Ud({value:i,source:null,stack:null}),t=o2(e,t,n)}else if(di||ef(e,t,n,!1),a=(n&e.childLanes)!==0,di||a){if(a=_n,a!==null&&(i=o6(a,n),i!==0&&i!==l.retryLane))throw l.retryLane=i,cc(e,i),Br(a,e,i),p_;pv(o)||qg(),t=o2(e,t,n)}else pv(o)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,kn=Vs(o.nextSibling),Ui=t,Ke=!0,kl=null,Ls=!1,e!==null&&V6(t,e),t=nv(t,i.children),t.flags|=4096);return t}return r?(_l(),o=i.fallback,r=t.mode,l=e.child,u=l.sibling,i=So(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,u!==null?o=So(u,o):(o=Fu(o,r,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,Zf(null,i),i=t.child,o=e.child.memoizedState,o===null?o=s2(n):(r=o.cachePool,r!==null?(l=hi._currentValue,r=r.parent!==l?{parent:l,pool:l}:r):r=F6(),o={baseLanes:o.baseLanes|n,cachePool:r}),i.memoizedState=o,i.childLanes=a2(e,a,n),t.memoizedState=r2,Zf(e.child,i)):(vl(t),n=e.child,e=n.sibling,n=So(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function nv(e,t){return t=Fg({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fg(e,t){return e=is(22,e,null,t),e.lanes=0,e}function o2(e,t,n){return $u(t,e.child,null,n),e=nv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function UA(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),qy(e.return,t,n)}function l2(e,t,n,i,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function Px(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=si.current,o=(a&2)!==0;if(o?(a=a&1|2,t.flags|=128):a&=1,Rn(si,a),ji(e,t,i,n),i=Ke?Bd:0,!o&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&UA(e,n,t);else if(e.tag===19)UA(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Og(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),l2(t,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Og(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}l2(t,!0,n,null,s,i);break;case"together":l2(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Io(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ql|=t.lanes,!(n&t.childLanes))if(e!==null){if(ef(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(xt(153));if(t.child!==null){for(e=t.child,n=So(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=So(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function m_(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Pg(e)))}function VD(e,t,n){switch(t.tag){case 3:Tg(t,t.stateNode.containerInfo),yl(t,hi,e.memoizedState.cache),Ku();break;case 27:case 5:Iy(t);break;case 4:Tg(t,t.stateNode.containerInfo);break;case 10:yl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,$y(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(vl(t),t.flags|=128,null):n&t.child.childLanes?Lx(e,t,n):(vl(t),e=Io(e,t,n),e!==null?e.sibling:null);vl(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(ef(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return Px(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Rn(si,si.current),i)break;return null;case 22:return t.lanes=0,Ix(e,t,n,t.pendingProps);case 24:yl(t,hi,e.memoizedState.cache)}return Io(e,t,n)}function Dx(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)di=!0;else{if(!m_(e,n)&&!(t.flags&128))return di=!1,VD(e,t,n);di=!!(e.flags&131072)}else di=!1,Ke&&t.flags&1048576&&M6(t,Bd,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=Ru(t.elementType),t.type=e,typeof e=="function")K5(e)?(i=Qu(e,i),t.tag=1,t=FA(null,t,e,i,n)):(t.tag=0,t=ev(null,t,e,i,n));else{if(e!=null){var r=e.$$typeof;if(r===D5){t.tag=11,t=kA(null,t,e,i,n);break t}else if(r===k5){t.tag=14,t=OA(null,t,e,i,n);break t}}throw t=Cy(e)||e,Error(xt(306,t,""))}}return t;case 0:return ev(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Qu(i,t.pendingProps),FA(e,t,i,r,n);case 3:t:{if(Tg(t,t.stateNode.containerInfo),e===null)throw Error(xt(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Wy(e,t),md(t,i,null,n);var a=t.memoizedState;if(i=a.cache,yl(t,hi,i),i!==s.cache&&Hy(t,[hi],n,!0),pd(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=BA(e,t,i,n);break t}else if(i!==r){r=Is(Error(xt(424)),t),Ud(r),t=BA(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(kn=Vs(e.firstChild),Ui=t,Ke=!0,kl=null,Ls=!0,n=z6(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ku(),i===r){t=Io(e,t,n);break t}ji(e,t,i,n)}t=t.child}return t;case 26:return Xm(e,t),e===null?(n=oS(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ke||(n=t.type,e=t.pendingProps,i=Kg(Dl.current).createElement(n),i[Bi]=t,i[Ur]=e,Hi(i,n,e),Li(i),t.stateNode=i):t.memoizedState=oS(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Iy(t),e===null&&Ke&&(i=t.stateNode=SN(t.type,t.pendingProps,Dl.current),Ui=t,Ls=!0,r=kn,lu(t.type)?(gv=r,kn=Vs(i.firstChild)):kn=r),ji(e,t,t.pendingProps.children,n),Xm(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ke&&((r=i=kn)&&(i=dk(i,t.type,t.pendingProps,Ls),i!==null?(t.stateNode=i,Ui=t,kn=Vs(i.firstChild),Ls=!1,r=!0):r=!1),r||$l(t)),Iy(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,fv(r,s)?i=null:a!==null&&fv(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=n_(e,t,CD,null,null,n),Kd._currentValue=r),Xm(e,t),ji(e,t,i,n),t.child;case 6:return e===null&&Ke&&((e=n=kn)&&(n=pk(n,t.pendingProps,Ls),n!==null?(t.stateNode=n,Ui=t,kn=null,e=!0):e=!1),e||$l(t)),null;case 13:return Lx(e,t,n);case 4:return Tg(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=$u(t,null,i,n):ji(e,t,i,n),t.child;case 11:return kA(e,t,t.type,t.pendingProps,n);case 7:return ji(e,t,t.pendingProps,n),t.child;case 8:return ji(e,t,t.pendingProps.children,n),t.child;case 12:return ji(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,yl(t,t.type,i.value),ji(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Yu(t),r=qi(r),i=i(r),t.flags|=1,ji(e,t,i,n),t.child;case 14:return OA(e,t,t.type,t.pendingProps,n);case 15:return Rx(e,t,t.type,t.pendingProps,n);case 19:return Px(e,t,n);case 31:return MD(e,t,n);case 22:return Ix(e,t,n,t.pendingProps);case 24:return Yu(t),i=qi(hi),e===null?(r=Q5(),r===null&&(r=_n,s=X5(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},Z5(t),yl(t,hi,r)):(e.lanes&n&&(Wy(e,t),md(t,null,null,n),pd()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),yl(t,hi,i)):(i=s.cache,yl(t,hi,i),i!==r.cache&&Hy(t,[hi],n,!0))),ji(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(xt(156,t.tag))}function oo(e){e.flags|=4}function u2(e,t,n,i,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(iN())e.flags|=8192;else throw Uu=Dg,J5}else e.flags&=-16777217}function zA(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!xN(t))if(iN())e.flags|=8192;else throw Uu=Dg,J5}function gm(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?r6():536870912,e.lanes|=t,jh|=t)}function qf(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Dn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function jD(e,t,n){var i=t.pendingProps;switch($5(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(t),null;case 1:return Dn(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Eo(hi),Ph(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Dc(t)?oo(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,t2())),Dn(t),null;case 26:var r=t.type,s=t.memoizedState;return e===null?(oo(t),s!==null?(Dn(t),zA(t,s)):(Dn(t),u2(t,r,null,i,n))):s?s!==e.memoizedState?(oo(t),Dn(t),zA(t,s)):(Dn(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&oo(t),Dn(t),u2(t,r,e,i,n)),null;case 27:if(xg(t),n=Dl.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&oo(t);else{if(!i){if(t.stateNode===null)throw Error(xt(166));return Dn(t),null}e=Oa.current,Dc(t)?yA(t):(e=SN(r,i,n),t.stateNode=e,oo(t))}return Dn(t),null;case 5:if(xg(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&oo(t);else{if(!i){if(t.stateNode===null)throw Error(xt(166));return Dn(t),null}if(s=Oa.current,Dc(t))yA(t);else{var a=Kg(Dl.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[Bi]=t,s[Ur]=i;t:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break t;for(;a.sibling===null;){if(a.return===null||a.return===t)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;t:switch(Hi(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&oo(t)}}return Dn(t),u2(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&oo(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(xt(166));if(e=Dl.current,Dc(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Ui,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Bi]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||_N(e.nodeValue,n)),e||$l(t,!0)}else e=Kg(e).createTextNode(i),e[Bi]=t,t.stateNode=e}return Dn(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Dc(t),n!==null){if(e===null){if(!i)throw Error(xt(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xt(557));e[Bi]=t}else Ku(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dn(t),e=!1}else n=t2(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ns(t),t):(ns(t),null);if(t.flags&128)throw Error(xt(558))}return Dn(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Dc(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(xt(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(xt(317));r[Bi]=t}else Ku(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dn(t),r=!1}else r=t2(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(ns(t),t):(ns(t),null)}return ns(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),gm(t,t.updateQueue),Dn(t),null);case 4:return Ph(),e===null&&A_(t.stateNode.containerInfo),Dn(t),null;case 10:return Eo(t.type),Dn(t),null;case 19:if(Pi(si),i=t.memoizedState,i===null)return Dn(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)qf(i,!1);else{if(Xn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Og(e),s!==null){for(t.flags|=128,qf(i,!1),e=s.updateQueue,t.updateQueue=e,gm(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)k6(n,e),n=n.sibling;return Rn(si,si.current&1|2),Ke&&po(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&as()>Ug&&(t.flags|=128,r=!0,qf(i,!1),t.lanes=4194304)}else{if(!r)if(e=Og(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,gm(t,e),qf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ke)return Dn(t),null}else 2*as()-i.renderingStartTime>Ug&&n!==536870912&&(t.flags|=128,r=!0,qf(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=as(),e.sibling=null,n=si.current,Rn(si,r?n&1|2:n&1),Ke&&po(t,i.treeForkCount),e):(Dn(t),null);case 22:case 23:return ns(t),t_(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Dn(t),t.subtreeFlags&6&&(t.flags|=8192)):Dn(t),n=t.updateQueue,n!==null&&gm(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Pi(Bu),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Eo(hi),Dn(t),null;case 25:return null;case 30:return null}throw Error(xt(156,t.tag))}function FD(e,t){switch($5(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Eo(hi),Ph(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return xg(t),null;case 31:if(t.memoizedState!==null){if(ns(t),t.alternate===null)throw Error(xt(340));Ku()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ns(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(xt(340));Ku()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pi(si),null;case 4:return Ph(),null;case 10:return Eo(t.type),null;case 22:case 23:return ns(t),t_(),e!==null&&Pi(Bu),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Eo(hi),null;case 25:return null;default:return null}}function kx(e,t){switch($5(t),t.tag){case 3:Eo(hi),Ph();break;case 26:case 27:case 5:xg(t);break;case 4:Ph();break;case 31:t.memoizedState!==null&&ns(t);break;case 13:ns(t);break;case 19:Pi(si);break;case 10:Eo(t.type);break;case 22:case 23:ns(t),t_(),e!==null&&Pi(Bu);break;case 24:Eo(hi)}}function wp(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(o){hn(t,t.return,o)}}function Xl(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,r=t;var l=n,u=o;try{u()}catch(c){hn(r,l,c)}}}i=i.next}while(i!==s)}}catch(c){hn(t,t.return,c)}}function Ox(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{H6(t,n)}catch(i){hn(e,e.return,i)}}}function Mx(e,t,n){n.props=Qu(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){hn(e,t,i)}}function yd(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){hn(e,t,r)}}function Da(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){hn(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){hn(e,t,r)}else n.current=null}function Vx(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){hn(e,e.return,r)}}function c2(e,t,n){try{var i=e.stateNode;ok(i,e.type,n,t),i[Ur]=t}catch(r){hn(e,e.return,r)}}function jx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&lu(e.type)||e.tag===4}function h2(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||jx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&lu(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iv(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vo));else if(i!==4&&(i===27&&lu(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(iv(e,t,n),e=e.sibling;e!==null;)iv(e,t,n),e=e.sibling}function Bg(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&lu(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Bg(e,t,n),e=e.sibling;e!==null;)Bg(e,t,n),e=e.sibling}function Fx(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Hi(t,i,n),t[Bi]=e,t[Ur]=n}catch(s){hn(e,e.return,s)}}var go=!1,ci=!1,f2=!1,qA=typeof WeakSet=="function"?WeakSet:Set,Ri=null;function BD(e,t){if(e=e.containerInfo,cv=Qg,e=x6(e),H5(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,o=-1,l=-1,u=0,c=0,p=e,g=null;e:for(;;){for(var d;p!==n||r!==0&&p.nodeType!==3||(o=a+r),p!==s||i!==0&&p.nodeType!==3||(l=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(d=p.firstChild)!==null;)g=p,p=d;for(;;){if(p===e)break e;if(g===n&&++u===r&&(o=a),g===s&&++c===i&&(l=a),(d=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=d}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hv={focusedElem:e,selectionRange:n},Qg=!1,Ri=t;Ri!==null;)if(t=Ri,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ri=e;else for(;Ri!==null;){switch(t=Ri,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var w=Qu(n.type,r);e=i.getSnapshotBeforeUpdate(w,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(x){hn(n,n.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)dv(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dv(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(xt(163))}if(e=t.sibling,e!==null){e.return=t.return,Ri=e;break}Ri=t.return}}function Bx(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:uo(e,n),i&4&&wp(5,n);break;case 1:if(uo(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){hn(n,n.return,a)}else{var r=Qu(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){hn(n,n.return,a)}}i&64&&Ox(n),i&512&&yd(n,n.return);break;case 3:if(uo(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{H6(e,t)}catch(a){hn(n,n.return,a)}}break;case 27:t===null&&i&4&&Fx(n);case 26:case 5:uo(e,n),t===null&&i&4&&Vx(n),i&512&&yd(n,n.return);break;case 12:uo(e,n);break;case 31:uo(e,n),i&4&&qx(e,n);break;case 13:uo(e,n),i&4&&Hx(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=$D.bind(null,n),mk(e,n))));break;case 22:if(i=n.memoizedState!==null||go,!i){t=t!==null&&t.memoizedState!==null||ci,r=go;var s=ci;go=i,(ci=t)&&!s?fo(e,n,(n.subtreeFlags&8772)!==0):uo(e,n),go=r,ci=s}break;case 30:break;default:uo(e,n)}}function Ux(e){var t=e.alternate;t!==null&&(e.alternate=null,Ux(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&j5(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var zn=null,Vr=!1;function lo(e,t,n){for(n=n.child;n!==null;)zx(e,t,n),n=n.sibling}function zx(e,t,n){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(pp,n)}catch{}switch(n.tag){case 26:ci||Da(n,t),lo(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ci||Da(n,t);var i=zn,r=Vr;lu(n.type)&&(zn=n.stateNode,Vr=!1),lo(e,t,n),wd(n.stateNode),zn=i,Vr=r;break;case 5:ci||Da(n,t);case 6:if(i=zn,r=Vr,zn=null,lo(e,t,n),zn=i,Vr=r,zn!==null)if(Vr)try{(zn.nodeType===9?zn.body:zn.nodeName==="HTML"?zn.ownerDocument.body:zn).removeChild(n.stateNode)}catch(s){hn(n,t,s)}else try{zn.removeChild(n.stateNode)}catch(s){hn(n,t,s)}break;case 18:zn!==null&&(Vr?(e=zn,nS(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),zh(e)):nS(zn,n.stateNode));break;case 4:i=zn,r=Vr,zn=n.stateNode.containerInfo,Vr=!0,lo(e,t,n),zn=i,Vr=r;break;case 0:case 11:case 14:case 15:Xl(2,n,t),ci||Xl(4,n,t),lo(e,t,n);break;case 1:ci||(Da(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Mx(n,t,i)),lo(e,t,n);break;case 21:lo(e,t,n);break;case 22:ci=(i=ci)||n.memoizedState!==null,lo(e,t,n),ci=i;break;default:lo(e,t,n)}}function qx(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zh(e)}catch(n){hn(t,t.return,n)}}}function Hx(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zh(e)}catch(n){hn(t,t.return,n)}}function UD(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new qA),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new qA),t;default:throw Error(xt(435,e.tag))}}function ym(e,t){var n=UD(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var r=XD.bind(null,e,i);i.then(r,r)}})}function Or(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,o=a;t:for(;o!==null;){switch(o.tag){case 27:if(lu(o.type)){zn=o.stateNode,Vr=!1;break t}break;case 5:zn=o.stateNode,Vr=!1;break t;case 3:case 4:zn=o.stateNode.containerInfo,Vr=!0;break t}o=o.return}if(zn===null)throw Error(xt(160));zx(s,a,r),zn=null,Vr=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Gx(t,e),t=t.sibling}var ea=null;function Gx(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Or(t,e),Mr(e),i&4&&(Xl(3,e,e.return),wp(3,e),Xl(5,e,e.return));break;case 1:Or(t,e),Mr(e),i&512&&(ci||n===null||Da(n,n.return)),i&64&&go&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=ea;if(Or(t,e),Mr(e),i&512&&(ci||n===null||Da(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[yp]||s[Bi]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),Hi(s,i,n),s[Bi]=e,Li(s),i=s;break t;case"link":var a=uS("link","href",r).get(i+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break e}}s=r.createElement(i),Hi(s,i,n),r.head.appendChild(s);break;case"meta":if(a=uS("meta","content",r).get(i+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break e}}s=r.createElement(i),Hi(s,i,n),r.head.appendChild(s);break;default:throw Error(xt(468,i))}s[Bi]=e,Li(s),i=s}e.stateNode=i}else cS(r,e.type,e.stateNode);else e.stateNode=lS(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?cS(r,e.type,e.stateNode):lS(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&c2(e,e.memoizedProps,n.memoizedProps)}break;case 27:Or(t,e),Mr(e),i&512&&(ci||n===null||Da(n,n.return)),n!==null&&i&4&&c2(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Or(t,e),Mr(e),i&512&&(ci||n===null||Da(n,n.return)),e.flags&32){r=e.stateNode;try{kh(r,"")}catch(w){hn(e,e.return,w)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,c2(e,r,n!==null?n.memoizedProps:r)),i&1024&&(f2=!0);break;case 6:if(Or(t,e),Mr(e),i&4){if(e.stateNode===null)throw Error(xt(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(w){hn(e,e.return,w)}}break;case 3:if(Zm=null,r=ea,ea=Yg(t.containerInfo),Or(t,e),ea=r,Mr(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{zh(t.containerInfo)}catch(w){hn(e,e.return,w)}f2&&(f2=!1,Wx(e));break;case 4:i=ea,ea=Yg(e.stateNode.containerInfo),Or(t,e),Mr(e),ea=i;break;case 12:Or(t,e),Mr(e);break;case 31:Or(t,e),Mr(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ym(e,i)));break;case 13:Or(t,e),Mr(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(K1=as()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ym(e,i)));break;case 22:r=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=go,c=ci;if(go=u||r,ci=c||l,Or(t,e),ci=c,go=u,Mr(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||l||go||ci||Iu(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(s=l.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var p=l.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;o.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(w){hn(l,l.return,w)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=r?"":l.memoizedProps}catch(w){hn(l,l.return,w)}}}else if(t.tag===18){if(n===null){l=t;try{var d=l.stateNode;r?iS(d,!0):iS(l.stateNode,!1)}catch(w){hn(l,l.return,w)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,ym(e,n))));break;case 19:Or(t,e),Mr(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ym(e,i)));break;case 30:break;case 21:break;default:Or(t,e),Mr(e)}}function Mr(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(jx(i)){n=i;break}i=i.return}if(n==null)throw Error(xt(160));switch(n.tag){case 27:var r=n.stateNode,s=h2(e);Bg(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(kh(a,""),n.flags&=-33);var o=h2(e);Bg(e,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,u=h2(e);iv(e,u,l);break;default:throw Error(xt(161))}}catch(c){hn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Wx(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function uo(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bx(e,t.alternate,t),t=t.sibling}function Iu(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Xl(4,t,t.return),Iu(t);break;case 1:Da(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Mx(t,t.return,n),Iu(t);break;case 27:wd(t.stateNode);case 26:case 5:Da(t,t.return),Iu(t);break;case 22:t.memoizedState===null&&Iu(t);break;case 30:Iu(t);break;default:Iu(t)}e=e.sibling}}function fo(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:fo(r,s,n),wp(4,s);break;case 1:if(fo(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){hn(i,i.return,u)}if(i=s,r=i.updateQueue,r!==null){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)q6(l[r],o)}catch(u){hn(i,i.return,u)}}n&&a&64&&Ox(s),yd(s,s.return);break;case 27:Fx(s);case 26:case 5:fo(r,s,n),n&&i===null&&a&4&&Vx(s),yd(s,s.return);break;case 12:fo(r,s,n);break;case 31:fo(r,s,n),n&&a&4&&qx(r,s);break;case 13:fo(r,s,n),n&&a&4&&Hx(r,s);break;case 22:s.memoizedState===null&&fo(r,s,n),yd(s,s.return);break;case 30:break;default:fo(r,s,n)}t=t.sibling}}function g_(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_p(n))}function y_(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_p(e))}function Qs(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kx(e,t,n,i),t=t.sibling}function Kx(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Qs(e,t,n,i),r&2048&&wp(9,t);break;case 1:Qs(e,t,n,i);break;case 3:Qs(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_p(e)));break;case 12:if(r&2048){Qs(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hn(t,t.return,l)}}else Qs(e,t,n,i);break;case 31:Qs(e,t,n,i);break;case 13:Qs(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?Qs(e,t,n,i):vd(e,t):s._visibility&2?Qs(e,t,n,i):(s._visibility|=2,Fc(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),r&2048&&g_(a,t);break;case 24:Qs(e,t,n,i),r&2048&&y_(t.alternate,t);break;default:Qs(e,t,n,i)}}function Fc(e,t,n,i,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,a=t,o=n,l=i,u=a.flags;switch(a.tag){case 0:case 11:case 15:Fc(s,a,o,l,r),wp(8,a);break;case 23:break;case 22:var c=a.stateNode;a.memoizedState!==null?c._visibility&2?Fc(s,a,o,l,r):vd(s,a):(c._visibility|=2,Fc(s,a,o,l,r)),r&&u&2048&&g_(a.alternate,a);break;case 24:Fc(s,a,o,l,r),r&&u&2048&&y_(a.alternate,a);break;default:Fc(s,a,o,l,r)}t=t.sibling}}function vd(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:vd(n,i),r&2048&&g_(i.alternate,i);break;case 24:vd(n,i),r&2048&&y_(i.alternate,i);break;default:vd(n,i)}t=t.sibling}}var td=8192;function kc(e,t,n){if(e.subtreeFlags&td)for(e=e.child;e!==null;)Yx(e,t,n),e=e.sibling}function Yx(e,t,n){switch(e.tag){case 26:kc(e,t,n),e.flags&td&&e.memoizedState!==null&&Nk(n,ea,e.memoizedState,e.memoizedProps);break;case 5:kc(e,t,n);break;case 3:case 4:var i=ea;ea=Yg(e.stateNode.containerInfo),kc(e,t,n),ea=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=td,td=16777216,kc(e,t,n),td=i):kc(e,t,n));break;default:kc(e,t,n)}}function $x(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Hf(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ri=i,Qx(i,e)}$x(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xx(e),e=e.sibling}function Xx(e){switch(e.tag){case 0:case 11:case 15:Hf(e),e.flags&2048&&Xl(9,e,e.return);break;case 3:Hf(e);break;case 12:Hf(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Qm(e)):Hf(e);break;default:Hf(e)}}function Qm(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ri=i,Qx(i,e)}$x(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Xl(8,t,t.return),Qm(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Qm(t));break;default:Qm(t)}e=e.sibling}}function Qx(e,t){for(;Ri!==null;){var n=Ri;switch(n.tag){case 0:case 11:case 15:Xl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:_p(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ri=i;else t:for(n=e;Ri!==null;){i=Ri;var r=i.sibling,s=i.return;if(Ux(i),i===n){Ri=null;break t}if(r!==null){r.return=s,Ri=r;break t}Ri=s}}}var zD={getCacheForType:function(e){var t=qi(hi),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return qi(hi).controller.signal}},qD=typeof WeakMap=="function"?WeakMap:Map,en=0,_n=null,je=null,Ge=0,un=0,es=null,Nl=!1,rf=!1,v_=!1,Lo=0,Xn=0,Ql=0,zu=0,__=0,rs=0,jh=0,_d=null,jr=null,rv=!1,K1=0,Jx=0,Ug=1/0,zg=null,Vl=null,Ai=0,jl=null,Fh=null,To=0,sv=0,av=null,Zx=null,bd=0,ov=null;function us(){return en&2&&Ge!==0?Ge&-Ge:ye.T!==null?w_():l6()}function tN(){if(rs===0)if(!(Ge&536870912)||Ke){var e=um;um<<=1,!(um&3932160)&&(um=262144),rs=e}else rs=536870912;return e=hs.current,e!==null&&(e.flags|=32),rs}function Br(e,t,n){(e===_n&&(un===2||un===9)||e.cancelPendingCommit!==null)&&(Bh(e,0),Cl(e,Ge,rs,!1)),gp(e,n),(!(en&2)||e!==_n)&&(e===_n&&(!(en&2)&&(zu|=n),Xn===4&&Cl(e,Ge,rs,!1)),Ga(e))}function eN(e,t,n){if(en&6)throw Error(xt(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||mp(e,t),r=i?WD(e,t):d2(e,t,!0),s=i;do{if(r===0){rf&&!i&&Cl(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!HD(n)){r=d2(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var o=e;r=_d;var l=o.current.memoizedState.isDehydrated;if(l&&(Bh(o,a).flags|=256),a=d2(o,a,!1),a!==2){if(v_&&!l){o.errorRecoveryDisabledLanes|=s,zu|=s,r=4;break t}s=jr,jr=r,s!==null&&(jr===null?jr=s:jr.push.apply(jr,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Bh(e,0),Cl(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(xt(345));case 4:if((t&4194048)!==t)break;case 6:Cl(i,t,rs,!Nl);break t;case 2:jr=null;break;case 3:case 5:break;default:throw Error(xt(329))}if((t&62914560)===t&&(r=K1+300-as(),10<r)){if(Cl(i,t,rs,!Nl),M1(i,0,!0)!==0)break t;To=t,i.timeoutHandle=wN(HA.bind(null,i,n,jr,zg,rv,t,rs,zu,jh,Nl,s,"Throttled",-0,0),r);break t}HA(i,n,jr,zg,rv,t,rs,zu,jh,Nl,s,null,-0,0)}}break}while(!0);Ga(e)}function HA(e,t,n,i,r,s,a,o,l,u,c,p,g,d){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vo},Yx(t,s,p);var w=(s&62914560)===s?K1-as():(s&4194048)===s?Jx-as():0;if(w=Ck(p,w),w!==null){To=s,e.cancelPendingCommit=w(WA.bind(null,e,t,s,n,i,r,a,o,l,c,p,null,g,d)),Cl(e,s,a,!u);return}}WA(e,t,s,n,i,r,a,o,l)}function HD(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!cs(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cl(e,t,n,i){t&=~__,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-ls(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&s6(e,n,t)}function Y1(){return en&6?!0:(Ap(0),!1)}function b_(){if(je!==null){if(un===0)var e=je.return;else e=je,_o=hc=null,s_(e),yh=null,zd=0,e=je;for(;e!==null;)kx(e.alternate,e),e=e.return;je=null}}function Bh(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,ck(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),To=0,b_(),_n=e,je=n=So(e.current,null),Ge=t,un=0,es=null,Nl=!1,rf=mp(e,t),v_=!1,jh=rs=__=zu=Ql=Xn=0,jr=_d=null,rv=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-ls(i),s=1<<r;t|=e[r],i&=~s}return Lo=t,B1(),n}function nN(e,t){Le=null,ye.H=Hd,t===nf||t===z1?(t=AA(),un=3):t===J5?(t=AA(),un=4):un=t===p_?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,es=t,je===null&&(Xn=1,jg(e,Is(t,e.current)))}function iN(){var e=hs.current;return e===null?!0:(Ge&4194048)===Ge?Ms===null:(Ge&62914560)===Ge||Ge&536870912?e===Ms:!1}function rN(){var e=ye.H;return ye.H=Hd,e===null?Hd:e}function sN(){var e=ye.A;return ye.A=zD,e}function qg(){Xn=4,Nl||(Ge&4194048)!==Ge&&hs.current!==null||(rf=!0),!(Ql&134217727)&&!(zu&134217727)||_n===null||Cl(_n,Ge,rs,!1)}function d2(e,t,n){var i=en;en|=2;var r=rN(),s=sN();(_n!==e||Ge!==t)&&(zg=null,Bh(e,t)),t=!1;var a=Xn;t:do try{if(un!==0&&je!==null){var o=je,l=es;switch(un){case 8:b_(),a=6;break t;case 3:case 2:case 9:case 6:hs.current===null&&(t=!0);var u=un;if(un=0,es=null,sh(e,o,l,u),n&&rf){a=0;break t}break;default:u=un,un=0,es=null,sh(e,o,l,u)}}GD(),a=Xn;break}catch(c){nN(e,c)}while(!0);return t&&e.shellSuspendCounter++,_o=hc=null,en=i,ye.H=r,ye.A=s,je===null&&(_n=null,Ge=0,B1()),a}function GD(){for(;je!==null;)aN(je)}function WD(e,t){var n=en;en|=2;var i=rN(),r=sN();_n!==e||Ge!==t?(zg=null,Ug=as()+500,Bh(e,t)):rf=mp(e,t);t:do try{if(un!==0&&je!==null){t=je;var s=es;e:switch(un){case 1:un=0,es=null,sh(e,t,s,1);break;case 2:case 9:if(wA(s)){un=0,es=null,GA(t);break}t=function(){un!==2&&un!==9||_n!==e||(un=7),Ga(e)},s.then(t,t);break t;case 3:un=7;break t;case 4:un=5;break t;case 7:wA(s)?(un=0,es=null,GA(t)):(un=0,es=null,sh(e,t,s,7));break;case 5:var a=null;switch(je.tag){case 26:a=je.memoizedState;case 5:case 27:var o=je;if(a?xN(a):o.stateNode.complete){un=0,es=null;var l=o.sibling;if(l!==null)je=l;else{var u=o.return;u!==null?(je=u,$1(u)):je=null}break e}}un=0,es=null,sh(e,t,s,5);break;case 6:un=0,es=null,sh(e,t,s,6);break;case 8:b_(),Xn=6;break t;default:throw Error(xt(462))}}KD();break}catch(c){nN(e,c)}while(!0);return _o=hc=null,ye.H=i,ye.A=r,en=n,je!==null?0:(_n=null,Ge=0,B1(),Xn)}function KD(){for(;je!==null&&!g7();)aN(je)}function aN(e){var t=Dx(e.alternate,e,Lo);e.memoizedProps=e.pendingProps,t===null?$1(e):je=t}function GA(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=jA(n,t,t.pendingProps,t.type,void 0,Ge);break;case 11:t=jA(n,t,t.pendingProps,t.type.render,t.ref,Ge);break;case 5:s_(t);default:kx(n,t),t=je=k6(t,Lo),t=Dx(n,t,Lo)}e.memoizedProps=e.pendingProps,t===null?$1(e):je=t}function sh(e,t,n,i){_o=hc=null,s_(t),yh=null,zd=0;var r=t.return;try{if(OD(e,r,t,n,Ge)){Xn=1,jg(e,Is(n,e.current)),je=null;return}}catch(s){if(r!==null)throw je=r,s;Xn=1,jg(e,Is(n,e.current)),je=null;return}t.flags&32768?(Ke||i===1?e=!0:rf||Ge&536870912?e=!1:(Nl=e=!0,(i===2||i===9||i===3||i===6)&&(i=hs.current,i!==null&&i.tag===13&&(i.flags|=16384))),oN(t,e)):$1(t)}function $1(e){var t=e;do{if(t.flags&32768){oN(t,Nl);return}e=t.return;var n=jD(t.alternate,t,Lo);if(n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Xn===0&&(Xn=5)}function oN(e,t){do{var n=FD(e.alternate,e);if(n!==null){n.flags&=32767,je=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=n}while(e!==null);Xn=6,je=null}function WA(e,t,n,i,r,s,a,o,l){e.cancelPendingCommit=null;do X1();while(Ai!==0);if(en&6)throw Error(xt(327));if(t!==null){if(t===e.current)throw Error(xt(177));if(s=t.lanes|t.childLanes,s|=G5,x7(e,n,s,a,o,l),e===_n&&(je=_n=null,Ge=0),Fh=t,jl=e,To=n,sv=s,av=r,Zx=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,QD(Ng,function(){return fN(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=ye.T,ye.T=null,r=nn.p,nn.p=2,a=en,en|=4;try{BD(e,t,n)}finally{en=a,nn.p=r,ye.T=i}}Ai=1,lN(),uN(),cN()}}function lN(){if(Ai===1){Ai=0;var e=jl,t=Fh,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ye.T,ye.T=null;var i=nn.p;nn.p=2;var r=en;en|=4;try{Gx(t,e);var s=hv,a=x6(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&T6(o.ownerDocument.documentElement,o)){if(l!==null&&H5(o)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var p=o.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var d=g.getSelection(),w=o.textContent.length,x=Math.min(l.start,w),I=l.end===void 0?x:Math.min(l.end,w);!d.extend&&x>I&&(a=I,I=x,x=a);var _=pA(o,x),E=pA(o,I);if(_&&E&&(d.rangeCount!==1||d.anchorNode!==_.node||d.anchorOffset!==_.offset||d.focusNode!==E.node||d.focusOffset!==E.offset)){var C=p.createRange();C.setStart(_.node,_.offset),d.removeAllRanges(),x>I?(d.addRange(C),d.extend(E.node,E.offset)):(C.setEnd(E.node,E.offset),d.addRange(C))}}}}for(p=[],d=o;d=d.parentNode;)d.nodeType===1&&p.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<p.length;o++){var D=p[o];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Qg=!!cv,hv=cv=null}finally{en=r,nn.p=i,ye.T=n}}e.current=t,Ai=2}}function uN(){if(Ai===2){Ai=0;var e=jl,t=Fh,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ye.T,ye.T=null;var i=nn.p;nn.p=2;var r=en;en|=4;try{Bx(e,t.alternate,t)}finally{en=r,nn.p=i,ye.T=n}}Ai=3}}function cN(){if(Ai===4||Ai===3){Ai=0,y7();var e=jl,t=Fh,n=To,i=Zx;t.subtreeFlags&10256||t.flags&10256?Ai=5:(Ai=0,Fh=jl=null,hN(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Vl=null),V5(n),t=t.stateNode,os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(pp,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=ye.T,r=nn.p,nn.p=2,ye.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];s(o.value,{componentStack:o.stack})}}finally{ye.T=t,nn.p=r}}To&3&&X1(),Ga(e),r=e.pendingLanes,n&261930&&r&42?e===ov?bd++:(bd=0,ov=e):bd=0,Ap(0)}}function hN(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_p(t)))}function X1(){return lN(),uN(),cN(),fN()}function fN(){if(Ai!==5)return!1;var e=jl,t=sv;sv=0;var n=V5(To),i=ye.T,r=nn.p;try{nn.p=32>n?32:n,ye.T=null,n=av,av=null;var s=jl,a=To;if(Ai=0,Fh=jl=null,To=0,en&6)throw Error(xt(331));var o=en;if(en|=4,Xx(s.current),Kx(s,s.current,a,n),en=o,Ap(0,!1),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(pp,s)}catch{}return!0}finally{nn.p=r,ye.T=i,hN(e,t)}}function KA(e,t,n){t=Is(n,t),t=tv(e.stateNode,t,2),e=Ml(e,t,2),e!==null&&(gp(e,2),Ga(e))}function hn(e,t,n){if(e.tag===3)KA(e,e,n);else for(;t!==null;){if(t.tag===3){KA(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Vl===null||!Vl.has(i))){e=Is(n,e),n=Nx(2),i=Ml(t,n,2),i!==null&&(Cx(n,i,t,e),gp(i,2),Ga(i));break}}t=t.return}}function p2(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new qD;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(v_=!0,r.add(n),e=YD.bind(null,e,t,n),t.then(e,e))}function YD(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,_n===e&&(Ge&n)===n&&(Xn===4||Xn===3&&(Ge&62914560)===Ge&&300>as()-K1?!(en&2)&&Bh(e,0):__|=n,jh===Ge&&(jh=0)),Ga(e)}function dN(e,t){t===0&&(t=r6()),e=cc(e,t),e!==null&&(gp(e,t),Ga(e))}function $D(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dN(e,n)}function XD(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(xt(314))}i!==null&&i.delete(t),dN(e,n)}function QD(e,t){return O5(e,t)}var Hg=null,Bc=null,lv=!1,Gg=!1,m2=!1,Rl=0;function Ga(e){e!==Bc&&e.next===null&&(Bc===null?Hg=Bc=e:Bc=Bc.next=e),Gg=!0,lv||(lv=!0,ZD())}function Ap(e,t){if(!m2&&Gg){m2=!0;do for(var n=!1,i=Hg;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,o=i.pingedLanes;s=(1<<31-ls(42|e)+1)-1,s&=r&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,YA(i,s))}else s=Ge,s=M1(i,i===_n?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||mp(i,s)||(n=!0,YA(i,s));i=i.next}while(n);m2=!1}}function JD(){pN()}function pN(){Gg=lv=!1;var e=0;Rl!==0&&uk()&&(e=Rl);for(var t=as(),n=null,i=Hg;i!==null;){var r=i.next,s=mN(i,t);s===0?(i.next=null,n===null?Hg=r:n.next=r,r===null&&(Bc=n)):(n=i,(e!==0||s&3)&&(Gg=!0)),i=r}Ai!==0&&Ai!==5||Ap(e),Rl!==0&&(Rl=0)}function mN(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-ls(s),o=1<<a,l=r[a];l===-1?(!(o&n)||o&i)&&(r[a]=T7(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(t=_n,n=Ge,n=M1(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(un===2||un===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&q0(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||mp(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&q0(i),V5(n)){case 2:case 8:n=n6;break;case 32:n=Ng;break;case 268435456:n=i6;break;default:n=Ng}return i=gN.bind(null,e),n=O5(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&q0(i),e.callbackPriority=2,e.callbackNode=null,2}function gN(e,t){if(Ai!==0&&Ai!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(X1()&&e.callbackNode!==n)return null;var i=Ge;return i=M1(e,e===_n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(eN(e,i,t),mN(e,as()),e.callbackNode!=null&&e.callbackNode===n?gN.bind(null,e):null)}function YA(e,t){if(X1())return null;eN(e,t,!0)}function ZD(){hk(function(){en&6?O5(e6,JD):pN()})}function w_(){if(Rl===0){var e=Oh;e===0&&(e=lm,lm<<=1,!(lm&261888)&&(lm=256)),Rl=e}return Rl}function $A(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zm(""+e)}function XA(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function tk(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=$A((r[Ur]||null).action),a=i.submitter;a&&(t=(t=a[Ur]||null)?$A(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var o=new V1("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Rl!==0){var l=a?XA(r,a):new FormData(r);Jy(n,{pending:!0,data:l,method:r.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?XA(r,a):new FormData(r),Jy(n,{pending:!0,data:l,method:r.method,action:s},s,l))},currentTarget:r}]})}}for(var g2=0;g2<By.length;g2++){var y2=By[g2],ek=y2.toLowerCase(),nk=y2[0].toUpperCase()+y2.slice(1);ca(ek,"on"+nk)}ca(C6,"onAnimationEnd");ca(R6,"onAnimationIteration");ca(I6,"onAnimationStart");ca("dblclick","onDoubleClick");ca("focusin","onFocus");ca("focusout","onBlur");ca(vD,"onTransitionRun");ca(_D,"onTransitionStart");ca(bD,"onTransitionCancel");ca(L6,"onTransitionEnd");Dh("onMouseEnter",["mouseout","mouseover"]);Dh("onMouseLeave",["mouseout","mouseover"]);Dh("onPointerEnter",["pointerout","pointerover"]);Dh("onPointerLeave",["pointerout","pointerover"]);oc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oc("onBeforeInput",["compositionend","keypress","textInput","paste"]);oc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ik=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gd));function yN(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break t;s=o,r.currentTarget=u;try{s(r)}catch(c){Rg(c)}r.currentTarget=null,s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break t;s=o,r.currentTarget=u;try{s(r)}catch(c){Rg(c)}r.currentTarget=null,s=l}}}}function Ve(e,t){var n=t[Py];n===void 0&&(n=t[Py]=new Set);var i=e+"__bubble";n.has(i)||(vN(t,e,2,!1),n.add(i))}function v2(e,t,n){var i=0;t&&(i|=4),vN(n,e,i,t)}var vm="_reactListening"+Math.random().toString(36).slice(2);function A_(e){if(!e[vm]){e[vm]=!0,u6.forEach(function(n){n!=="selectionchange"&&(ik.has(n)||v2(n,!1,e),v2(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vm]||(t[vm]=!0,v2("selectionchange",!1,t))}}function vN(e,t,n,i){switch(LN(t)){case 2:var r=Lk;break;case 8:r=Pk;break;default:r=x_}n=r.bind(null,t,n,e),r=void 0,!Vy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function _2(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;o!==null;){if(a=Xc(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){i=s=a;continue t}o=o.parentNode}}i=i.return}y6(function(){var u=s,c=B5(n),p=[];t:{var g=P6.get(e);if(g!==void 0){var d=V1,w=e;switch(e){case"keypress":if(Hm(n)===0)break t;case"keydown":case"keyup":d=X7;break;case"focusin":w="focus",d=Y0;break;case"focusout":w="blur",d=Y0;break;case"beforeblur":case"afterblur":d=Y0;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=rA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=j7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Z7;break;case C6:case R6:case I6:d=U7;break;case L6:d=eD;break;case"scroll":case"scrollend":d=M7;break;case"wheel":d=iD;break;case"copy":case"cut":case"paste":d=q7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=aA;break;case"toggle":case"beforetoggle":d=sD}var x=(t&4)!==0,I=!x&&(e==="scroll"||e==="scrollend"),_=x?g!==null?g+"Capture":null:g;x=[];for(var E=u,C;E!==null;){var D=E;if(C=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||C===null||_===null||(D=Vd(E,_),D!=null&&x.push(Wd(E,D,C))),I)break;E=E.return}0<x.length&&(g=new d(g,w,null,n,c),p.push({event:g,listeners:x}))}}if(!(t&7)){t:{if(g=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",g&&n!==My&&(w=n.relatedTarget||n.fromElement)&&(Xc(w)||w[Zh]))break t;if((d||g)&&(g=c.window===c?c:(g=c.ownerDocument)?g.defaultView||g.parentWindow:window,d?(w=n.relatedTarget||n.toElement,d=u,w=w?Xc(w):null,w!==null&&(I=dp(w),x=w.tag,w!==I||x!==5&&x!==27&&x!==6)&&(w=null)):(d=null,w=u),d!==w)){if(x=rA,D="onMouseLeave",_="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(x=aA,D="onPointerLeave",_="onPointerEnter",E="pointer"),I=d==null?g:Jf(d),C=w==null?g:Jf(w),g=new x(D,E+"leave",d,n,c),g.target=I,g.relatedTarget=C,D=null,Xc(c)===u&&(x=new x(_,E+"enter",w,n,c),x.target=C,x.relatedTarget=I,D=x),I=D,d&&w)e:{for(x=rk,_=d,E=w,C=0,D=_;D;D=x(D))C++;D=0;for(var G=E;G;G=x(G))D++;for(;0<C-D;)_=x(_),C--;for(;0<D-C;)E=x(E),D--;for(;C--;){if(_===E||E!==null&&_===E.alternate){x=_;break e}_=x(_),E=x(E)}x=null}else x=null;d!==null&&QA(p,g,d,x,!1),w!==null&&I!==null&&QA(p,I,w,x,!0)}}t:{if(g=u?Jf(u):window,d=g.nodeName&&g.nodeName.toLowerCase(),d==="select"||d==="input"&&g.type==="file")var et=cA;else if(uA(g))if(S6)et=mD;else{et=dD;var M=fD}else d=g.nodeName,!d||d.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?u&&F5(u.elementType)&&(et=cA):et=pD;if(et&&(et=et(e,u))){A6(p,et,n,c);break t}M&&M(e,g,u),e==="focusout"&&u&&g.type==="number"&&u.memoizedProps.value!=null&&Oy(g,"number",g.value)}switch(M=u?Jf(u):window,e){case"focusin":(uA(M)||M.contentEditable==="true")&&(Zc=M,jy=u,hd=null);break;case"focusout":hd=jy=Zc=null;break;case"mousedown":Fy=!0;break;case"contextmenu":case"mouseup":case"dragend":Fy=!1,mA(p,n,c);break;case"selectionchange":if(yD)break;case"keydown":case"keyup":mA(p,n,c)}var N;if(q5)t:{switch(e){case"compositionstart":var T="onCompositionStart";break t;case"compositionend":T="onCompositionEnd";break t;case"compositionupdate":T="onCompositionUpdate";break t}T=void 0}else Jc?b6(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(_6&&n.locale!=="ko"&&(Jc||T!=="onCompositionStart"?T==="onCompositionEnd"&&Jc&&(N=v6()):(xl=c,U5="value"in xl?xl.value:xl.textContent,Jc=!0)),M=Wg(u,T),0<M.length&&(T=new sA(T,e,null,n,c),p.push({event:T,listeners:M}),N?T.data=N:(N=w6(n),N!==null&&(T.data=N)))),(N=oD?lD(e,n):uD(e,n))&&(T=Wg(u,"onBeforeInput"),0<T.length&&(M=new sA("onBeforeInput","beforeinput",null,n,c),p.push({event:M,listeners:T}),M.data=N)),tk(p,e,u,n,c)}yN(p,t)})}function Wd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wg(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Vd(e,n),r!=null&&i.unshift(Wd(e,r,s)),r=Vd(e,t),r!=null&&i.push(Wd(e,r,s))),e.tag===3)return i;e=e.return}return[]}function rk(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function QA(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||u===null||(l=u,r?(u=Vd(n,s),u!=null&&a.unshift(Wd(n,u,l))):r||(u=Vd(n,s),u!=null&&a.push(Wd(n,u,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var sk=/\r\n?/g,ak=/\u0000|\uFFFD/g;function JA(e){return(typeof e=="string"?e:""+e).replace(sk,`
`).replace(ak,"")}function _N(e,t){return t=JA(t),JA(e)===t}function fn(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||kh(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&kh(e,""+i);break;case"className":hm(e,"class",i);break;case"tabIndex":hm(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":hm(e,n,i);break;case"style":g6(e,i,s);break;case"data":if(t!=="object"){hm(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=zm(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&fn(e,t,"name",r.name,r,null),fn(e,t,"formEncType",r.formEncType,r,null),fn(e,t,"formMethod",r.formMethod,r,null),fn(e,t,"formTarget",r.formTarget,r,null)):(fn(e,t,"encType",r.encType,r,null),fn(e,t,"method",r.method,r,null),fn(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=zm(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=vo);break;case"onScroll":i!=null&&Ve("scroll",e);break;case"onScrollEnd":i!=null&&Ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(xt(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(xt(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=zm(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Ve("beforetoggle",e),Ve("toggle",e),Um(e,"popover",i);break;case"xlinkActuate":ao(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ao(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ao(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ao(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ao(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ao(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ao(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ao(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ao(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Um(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=k7.get(n)||n,Um(e,n,i))}}function uv(e,t,n,i,r,s){switch(n){case"style":g6(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(xt(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(xt(60));e.innerHTML=n}}break;case"children":typeof i=="string"?kh(e,i):(typeof i=="number"||typeof i=="bigint")&&kh(e,""+i);break;case"onScroll":i!=null&&Ve("scroll",e);break;case"onScrollEnd":i!=null&&Ve("scrollend",e);break;case"onClick":i!=null&&(e.onclick=vo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!c6.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Ur]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Um(e,n,i)}}}function Hi(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",e),Ve("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(xt(137,t));default:fn(e,t,s,a,n,null)}}r&&fn(e,t,"srcSet",n.srcSet,n,null),i&&fn(e,t,"src",n.src,n,null);return;case"input":Ve("invalid",e);var o=s=a=r=null,l=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var c=n[i];if(c!=null)switch(i){case"name":r=c;break;case"type":a=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":s=c;break;case"defaultValue":o=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(xt(137,t));break;default:fn(e,t,i,c,n,null)}}d6(e,s,o,l,u,a,r,!1);return;case"select":Ve("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:fn(e,t,r,o,n,null)}t=s,n=a,e.multiple=!!i,t!=null?ph(e,!!i,t,!1):n!=null&&ph(e,!!i,n,!0);return;case"textarea":Ve("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":r=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(xt(91));break;default:fn(e,t,a,o,n,null)}m6(e,i,r,s);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:fn(e,t,l,i,n,null)}return;case"dialog":Ve("beforetoggle",e),Ve("toggle",e),Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":Ve("load",e);break;case"video":case"audio":for(i=0;i<Gd.length;i++)Ve(Gd[i],e);break;case"image":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"embed":case"source":case"link":Ve("error",e),Ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(xt(137,t));default:fn(e,t,u,i,n,null)}return;default:if(F5(t)){for(c in n)n.hasOwnProperty(c)&&(i=n[c],i!==void 0&&uv(e,t,c,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&fn(e,t,o,i,n,null))}function ok(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,o=null,l=null,u=null,c=null;for(d in n){var p=n[d];if(n.hasOwnProperty(d)&&p!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":l=p;default:i.hasOwnProperty(d)||fn(e,t,d,null,i,p)}}for(var g in i){var d=i[g];if(p=n[g],i.hasOwnProperty(g)&&(d!=null||p!=null))switch(g){case"type":s=d;break;case"name":r=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(xt(137,t));break;default:d!==p&&fn(e,t,g,d,i,p)}}ky(e,a,o,l,u,c,s,r);return;case"select":d=a=o=g=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":d=l;default:i.hasOwnProperty(s)||fn(e,t,s,null,i,l)}for(r in i)if(s=i[r],l=n[r],i.hasOwnProperty(r)&&(s!=null||l!=null))switch(r){case"value":g=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&fn(e,t,r,s,i,l)}t=o,n=a,i=d,g!=null?ph(e,!!n,g,!1):!!i!=!!n&&(t!=null?ph(e,!!n,t,!0):ph(e,!!n,n?[]:"",!1));return;case"textarea":d=g=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:fn(e,t,o,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":g=r;break;case"defaultValue":d=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(xt(91));break;default:r!==s&&fn(e,t,a,r,i,s)}p6(e,g,d);return;case"option":for(var w in n)if(g=n[w],n.hasOwnProperty(w)&&g!=null&&!i.hasOwnProperty(w))switch(w){case"selected":e.selected=!1;break;default:fn(e,t,w,null,i,g)}for(l in i)if(g=i[l],d=n[l],i.hasOwnProperty(l)&&g!==d&&(g!=null||d!=null))switch(l){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:fn(e,t,l,g,i,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)g=n[x],n.hasOwnProperty(x)&&g!=null&&!i.hasOwnProperty(x)&&fn(e,t,x,null,i,g);for(u in i)if(g=i[u],d=n[u],i.hasOwnProperty(u)&&g!==d&&(g!=null||d!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(xt(137,t));break;default:fn(e,t,u,g,i,d)}return;default:if(F5(t)){for(var I in n)g=n[I],n.hasOwnProperty(I)&&g!==void 0&&!i.hasOwnProperty(I)&&uv(e,t,I,void 0,i,g);for(c in i)g=i[c],d=n[c],!i.hasOwnProperty(c)||g===d||g===void 0&&d===void 0||uv(e,t,c,g,i,d);return}}for(var _ in n)g=n[_],n.hasOwnProperty(_)&&g!=null&&!i.hasOwnProperty(_)&&fn(e,t,_,null,i,g);for(p in i)g=i[p],d=n[p],!i.hasOwnProperty(p)||g===d||g==null&&d==null||fn(e,t,p,g,i,d)}function ZA(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lk(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,o=r.duration;if(s&&o&&ZA(a)){for(a=0,o=r.responseEnd,i+=1;i<n.length;i++){var l=n[i],u=l.startTime;if(u>o)break;var c=l.transferSize,p=l.initiatorType;c&&ZA(p)&&(l=l.responseEnd,a+=c*(l<o?1:(o-u)/(l-u)))}if(--i,t+=8*(s+a)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cv=null,hv=null;function Kg(e){return e.nodeType===9?e:e.ownerDocument}function tS(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bN(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function fv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var b2=null;function uk(){var e=window.event;return e&&e.type==="popstate"?e===b2?!1:(b2=e,!0):(b2=null,!1)}var wN=typeof setTimeout=="function"?setTimeout:void 0,ck=typeof clearTimeout=="function"?clearTimeout:void 0,eS=typeof Promise=="function"?Promise:void 0,hk=typeof queueMicrotask=="function"?queueMicrotask:typeof eS<"u"?function(e){return eS.resolve(null).then(e).catch(fk)}:wN;function fk(e){setTimeout(function(){throw e})}function lu(e){return e==="head"}function nS(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(r),zh(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")wd(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,wd(n);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[yp]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&wd(e.ownerDocument.body);n=r}while(n);zh(t)}function iS(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function dv(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":dv(n),j5(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function dk(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[yp])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Vs(e.nextSibling),e===null)break}return null}function pk(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vs(e.nextSibling),e===null))return null;return e}function AN(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vs(e.nextSibling),e===null))return null;return e}function pv(e){return e.data==="$?"||e.data==="$~"}function mv(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mk(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var gv=null;function rS(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Vs(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function sS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function SN(e,t,n){switch(t=Kg(n),e){case"html":if(e=t.documentElement,!e)throw Error(xt(452));return e;case"head":if(e=t.head,!e)throw Error(xt(453));return e;case"body":if(e=t.body,!e)throw Error(xt(454));return e;default:throw Error(xt(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);j5(e)}var Fs=new Map,aS=new Set;function Yg(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jo=nn.d;nn.d={f:gk,r:yk,D:vk,C:_k,L:bk,m:wk,X:Sk,S:Ak,M:Ek};function gk(){var e=jo.f(),t=Y1();return e||t}function yk(e){var t=tf(e);t!==null&&t.tag===5&&t.type==="form"?gx(t):jo.r(e)}var sf=typeof document>"u"?null:document;function EN(e,t,n){var i=sf;if(i&&typeof t=="string"&&t){var r=Rs(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),aS.has(r)||(aS.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),Hi(t,"link",e),Li(t),i.head.appendChild(t)))}}function vk(e){jo.D(e),EN("dns-prefetch",e,null)}function _k(e,t){jo.C(e,t),EN("preconnect",e,t)}function bk(e,t,n){jo.L(e,t,n);var i=sf;if(i&&e&&t){var r='link[rel="preload"][as="'+Rs(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Rs(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Rs(n.imageSizes)+'"]')):r+='[href="'+Rs(e)+'"]';var s=r;switch(t){case"style":s=Uh(e);break;case"script":s=af(e)}Fs.has(s)||(e=jn({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Fs.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Sp(s))||t==="script"&&i.querySelector(Ep(s))||(t=i.createElement("link"),Hi(t,"link",e),Li(t),i.head.appendChild(t)))}}function wk(e,t){jo.m(e,t);var n=sf;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Rs(i)+'"][href="'+Rs(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=af(e)}if(!Fs.has(s)&&(e=jn({rel:"modulepreload",href:e},t),Fs.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ep(s)))return}i=n.createElement("link"),Hi(i,"link",e),Li(i),n.head.appendChild(i)}}}function Ak(e,t,n){jo.S(e,t,n);var i=sf;if(i&&e){var r=dh(i).hoistableStyles,s=Uh(e);t=t||"default";var a=r.get(s);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(Sp(s)))o.loading=5;else{e=jn({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fs.get(s))&&S_(e,n);var l=a=i.createElement("link");Li(l),Hi(l,"link",e),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Jm(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},r.set(s,a)}}}function Sk(e,t){jo.X(e,t);var n=sf;if(n&&e){var i=dh(n).hoistableScripts,r=af(e),s=i.get(r);s||(s=n.querySelector(Ep(r)),s||(e=jn({src:e,async:!0},t),(t=Fs.get(r))&&E_(e,t),s=n.createElement("script"),Li(s),Hi(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Ek(e,t){jo.M(e,t);var n=sf;if(n&&e){var i=dh(n).hoistableScripts,r=af(e),s=i.get(r);s||(s=n.querySelector(Ep(r)),s||(e=jn({src:e,async:!0,type:"module"},t),(t=Fs.get(r))&&E_(e,t),s=n.createElement("script"),Li(s),Hi(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function oS(e,t,n,i){var r=(r=Dl.current)?Yg(r):null;if(!r)throw Error(xt(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Uh(n.href),n=dh(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Uh(n.href);var s=dh(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(Sp(e)))&&!s._p&&(a.instance=s,a.state.loading=5),Fs.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fs.set(e,n),s||Tk(r,e,n,a.state))),t&&i===null)throw Error(xt(528,""));return a}if(t&&i!==null)throw Error(xt(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=af(n),n=dh(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(xt(444,e))}}function Uh(e){return'href="'+Rs(e)+'"'}function Sp(e){return'link[rel="stylesheet"]['+e+"]"}function TN(e){return jn({},e,{"data-precedence":e.precedence,precedence:null})}function Tk(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Hi(t,"link",n),Li(t),e.head.appendChild(t))}function af(e){return'[src="'+Rs(e)+'"]'}function Ep(e){return"script[async]"+e}function lS(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Rs(n.href)+'"]');if(i)return t.instance=i,Li(i),i;var r=jn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Li(i),Hi(i,"style",r),Jm(i,n.precedence,e),t.instance=i;case"stylesheet":r=Uh(n.href);var s=e.querySelector(Sp(r));if(s)return t.state.loading|=4,t.instance=s,Li(s),s;i=TN(n),(r=Fs.get(r))&&S_(i,r),s=(e.ownerDocument||e).createElement("link"),Li(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Hi(s,"link",i),t.state.loading|=4,Jm(s,n.precedence,e),t.instance=s;case"script":return s=af(n.src),(r=e.querySelector(Ep(s)))?(t.instance=r,Li(r),r):(i=n,(r=Fs.get(s))&&(i=jn({},n),E_(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Li(r),Hi(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(xt(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Jm(i,n.precedence,e));return t.instance}function Jm(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)s=o;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function S_(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function E_(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zm=null;function uS(e,t,n){if(Zm===null){var i=new Map,r=Zm=new Map;r.set(n,i)}else r=Zm,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[yp]||s[Bi]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(s):i.set(a,[s])}}return i}function cS(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function xk(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function xN(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Nk(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Uh(i.href),s=t.querySelector(Sp(r));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=$g.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Li(s);return}s=t.ownerDocument||t,i=TN(i),(r=Fs.get(r))&&S_(i,r),s=s.createElement("link"),Li(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Hi(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=$g.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var w2=0;function Ck(e,t){return e.stylesheets&&e.count===0&&tg(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&tg(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&w2===0&&(w2=62500*lk());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&tg(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>w2?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function $g(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tg(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xg=null;function tg(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xg=new Map,t.forEach(Rk,e),Xg=null,$g.call(e))}function Rk(e,t){if(!(t.state.loading&4)){var n=Xg.get(e);if(n)var i=n.get(null);else{n=new Map,Xg.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=$g.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Kd={$$typeof:yo,Provider:null,Consumer:null,_currentValue:ju,_currentValue2:ju,_threadCount:0};function Ik(e,t,n,i,r,s,a,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=H0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H0(0),this.hiddenUpdates=H0(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function NN(e,t,n,i,r,s,a,o,l,u,c,p){return e=new Ik(e,t,n,a,l,u,c,p,o),t=1,s===!0&&(t|=24),s=is(3,null,null,t),e.current=s,s.stateNode=e,t=X5(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Z5(s),e}function CN(e){return e?(e=nh,e):nh}function RN(e,t,n,i,r,s){r=CN(r),i.context===null?i.context=r:i.pendingContext=r,i=Ol(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Ml(e,i,t),n!==null&&(Br(n,e,t),dd(n,e,t))}function hS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function T_(e,t){hS(e,t),(e=e.alternate)&&hS(e,t)}function IN(e){if(e.tag===13||e.tag===31){var t=cc(e,67108864);t!==null&&Br(t,e,67108864),T_(e,67108864)}}function fS(e){if(e.tag===13||e.tag===31){var t=us();t=M5(t);var n=cc(e,t);n!==null&&Br(n,e,t),T_(e,t)}}var Qg=!0;function Lk(e,t,n,i){var r=ye.T;ye.T=null;var s=nn.p;try{nn.p=2,x_(e,t,n,i)}finally{nn.p=s,ye.T=r}}function Pk(e,t,n,i){var r=ye.T;ye.T=null;var s=nn.p;try{nn.p=8,x_(e,t,n,i)}finally{nn.p=s,ye.T=r}}function x_(e,t,n,i){if(Qg){var r=yv(i);if(r===null)_2(e,t,i,Jg,n),dS(e,i);else if(kk(r,e,t,n,i))i.stopPropagation();else if(dS(e,i),t&4&&-1<Dk.indexOf(e)){for(;r!==null;){var s=tf(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Cu(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-ls(a);o.entanglements[1]|=l,a&=~l}Ga(s),!(en&6)&&(Ug=as()+500,Ap(0))}}break;case 31:case 13:o=cc(s,2),o!==null&&Br(o,s,2),Y1(),T_(s,2)}if(s=yv(i),s===null&&_2(e,t,i,Jg,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else _2(e,t,i,null,n)}}function yv(e){return e=B5(e),N_(e)}var Jg=null;function N_(e){if(Jg=null,e=Xc(e),e!==null){var t=dp(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=XT(t),e!==null)return e;e=null}else if(n===31){if(e=QT(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Jg=e,null}function LN(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(v7()){case e6:return 2;case n6:return 8;case Ng:case _7:return 32;case i6:return 268435456;default:return 32}default:return 32}}var vv=!1,Fl=null,Bl=null,Ul=null,Yd=new Map,$d=new Map,bl=[],Dk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dS(e,t){switch(e){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":Bl=null;break;case"mouseover":case"mouseout":Ul=null;break;case"pointerover":case"pointerout":Yd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$d.delete(t.pointerId)}}function Gf(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=tf(t),t!==null&&IN(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function kk(e,t,n,i,r){switch(t){case"focusin":return Fl=Gf(Fl,e,t,n,i,r),!0;case"dragenter":return Bl=Gf(Bl,e,t,n,i,r),!0;case"mouseover":return Ul=Gf(Ul,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Yd.set(s,Gf(Yd.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,$d.set(s,Gf($d.get(s)||null,e,t,n,i,r)),!0}return!1}function PN(e){var t=Xc(e.target);if(t!==null){var n=dp(t);if(n!==null){if(t=n.tag,t===13){if(t=XT(n),t!==null){e.blockedOn=t,Qw(e.priority,function(){fS(n)});return}}else if(t===31){if(t=QT(n),t!==null){e.blockedOn=t,Qw(e.priority,function(){fS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yv(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);My=i,n.target.dispatchEvent(i),My=null}else return t=tf(n),t!==null&&IN(t),e.blockedOn=n,!1;t.shift()}return!0}function pS(e,t,n){eg(e)&&n.delete(t)}function Ok(){vv=!1,Fl!==null&&eg(Fl)&&(Fl=null),Bl!==null&&eg(Bl)&&(Bl=null),Ul!==null&&eg(Ul)&&(Ul=null),Yd.forEach(pS),$d.forEach(pS)}function _m(e,t){e.blockedOn===t&&(e.blockedOn=null,vv||(vv=!0,Ei.unstable_scheduleCallback(Ei.unstable_NormalPriority,Ok)))}var bm=null;function mS(e){bm!==e&&(bm=e,Ei.unstable_scheduleCallback(Ei.unstable_NormalPriority,function(){bm===e&&(bm=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(N_(i||n)===null)continue;break}var s=tf(n);s!==null&&(e.splice(t,3),t-=3,Jy(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function zh(e){function t(l){return _m(l,e)}Fl!==null&&_m(Fl,e),Bl!==null&&_m(Bl,e),Ul!==null&&_m(Ul,e),Yd.forEach(t),$d.forEach(t);for(var n=0;n<bl.length;n++){var i=bl[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<bl.length&&(n=bl[0],n.blockedOn===null);)PN(n),n.blockedOn===null&&bl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Ur]||null;if(typeof s=="function")a||mS(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Ur]||null)o=a.formAction;else if(N_(r)!==null)continue}else o=a.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),mS(n)}}}function DN(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function C_(e){this._internalRoot=e}Q1.prototype.render=C_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(xt(409));var n=t.current,i=us();RN(n,i,e,t,null,null)};Q1.prototype.unmount=C_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;RN(e.current,2,null,e,null,null),Y1(),t[Zh]=null}};function Q1(e){this._internalRoot=e}Q1.prototype.unstable_scheduleHydration=function(e){if(e){var t=l6();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bl.length&&t!==0&&t<bl[n].priority;n++);bl.splice(n,0,e),n===0&&PN(e)}};var gS=YT.version;if(gS!=="19.2.4")throw Error(xt(527,gS,"19.2.4"));nn.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(xt(188)):(e=Object.keys(e).join(","),Error(xt(268,e)));return e=h7(t),e=e!==null?JT(e):null,e=e===null?null:e.stateNode,e};var Mk={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ye,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wm.isDisabled&&wm.supportsFiber)try{pp=wm.inject(Mk),os=wm}catch{}}k1.createRoot=function(e,t){if(!$T(e))throw Error(xt(299));var n=!1,i="",r=Ex,s=Tx,a=xx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=NN(e,1,!1,null,null,n,i,null,r,s,a,DN),e[Zh]=t.current,A_(e),new C_(t)};k1.hydrateRoot=function(e,t,n){if(!$T(e))throw Error(xt(299));var i=!1,r="",s=Ex,a=Tx,o=xx,l=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),t=NN(e,1,!0,t,n??null,i,r,l,s,a,o,DN),t.context=CN(null),n=t.current,i=us(),i=M5(i),r=Ol(i),r.callback=null,Ml(n,r,i),n=i,t.current.lanes=n,gp(t,n),Ga(t),e[Zh]=t.current,A_(e),new Q1(t)};k1.version="19.2.4";function kN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kN)}catch(e){console.error(e)}}kN(),zT.exports=k1;var Vk=zT.exports;const R_=Pt.createContext({});function I_(e){const t=Pt.useRef(null);return t.current===null&&(t.current=e()),t.current}const ON=typeof window<"u",MN=ON?Pt.useLayoutEffect:Pt.useEffect,J1=Pt.createContext(null);function L_(e,t){e.indexOf(t)===-1&&e.push(t)}function Zg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const za=(e,t,n)=>n>t?t:n<e?e:n;let P_=()=>{};const Po={},VN=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function jN(e){return typeof e=="object"&&e!==null}const FN=e=>/^0[^.\s]+$/u.test(e);function D_(e){let t;return()=>(t===void 0&&(t=e()),t)}const js=e=>e,jk=(e,t)=>n=>t(e(n)),Tp=(...e)=>e.reduce(jk),Xd=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class k_{constructor(){this.subscriptions=[]}add(t){return L_(this.subscriptions,t),()=>Zg(this.subscriptions,t)}notify(t,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,i);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ra=e=>e*1e3,Os=e=>e/1e3;function BN(e,t){return t?e*(1e3/t):0}const UN=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Fk=1e-7,Bk=12;function Uk(e,t,n,i,r){let s,a,o=0;do a=t+(n-t)/2,s=UN(a,i,r)-e,s>0?n=a:t=a;while(Math.abs(s)>Fk&&++o<Bk);return a}function xp(e,t,n,i){if(e===t&&n===i)return js;const r=s=>Uk(s,0,1,e,n);return s=>s===0||s===1?s:UN(r(s),t,i)}const zN=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,qN=e=>t=>1-e(1-t),HN=xp(.33,1.53,.69,.99),O_=qN(HN),GN=zN(O_),WN=e=>(e*=2)<1?.5*O_(e):.5*(2-Math.pow(2,-10*(e-1))),M_=e=>1-Math.sin(Math.acos(e)),KN=qN(M_),YN=zN(M_),zk=xp(.42,0,1,1),qk=xp(0,0,.58,1),$N=xp(.42,0,.58,1),Hk=e=>Array.isArray(e)&&typeof e[0]!="number",XN=e=>Array.isArray(e)&&typeof e[0]=="number",Gk={linear:js,easeIn:zk,easeInOut:$N,easeOut:qk,circIn:M_,circInOut:YN,circOut:KN,backIn:O_,backInOut:GN,backOut:HN,anticipate:WN},Wk=e=>typeof e=="string",yS=e=>{if(XN(e)){P_(e.length===4);const[t,n,i,r]=e;return xp(t,n,i,r)}else if(Wk(e))return Gk[e];return e},Am=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Kk(e,t){let n=new Set,i=new Set,r=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){a.has(c)&&(u.schedule(c),e()),c(o)}const u={schedule:(c,p=!1,g=!1)=>{const w=g&&r?n:i;return p&&a.add(c),w.has(c)||w.add(c),c},cancel:c=>{i.delete(c),a.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(l),n.clear(),r=!1,s&&(s=!1,u.process(c))}};return u}const Yk=40;function QN(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Am.reduce((C,D)=>(C[D]=Kk(s),C),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:p,preRender:g,render:d,postRender:w}=a,x=()=>{const C=Po.useManualTiming?r.timestamp:performance.now();n=!1,Po.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(C-r.timestamp,Yk),1)),r.timestamp=C,r.isProcessing=!0,o.process(r),l.process(r),u.process(r),c.process(r),p.process(r),g.process(r),d.process(r),w.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(x))},I=()=>{n=!0,i=!0,r.isProcessing||e(x)};return{schedule:Am.reduce((C,D)=>{const G=a[D];return C[D]=(et,M=!1,N=!1)=>(n||I(),G.schedule(et,M,N)),C},{}),cancel:C=>{for(let D=0;D<Am.length;D++)a[Am[D]].cancel(C)},state:r,steps:a}}const{schedule:In,cancel:Jl,state:Vi,steps:A2}=QN(typeof requestAnimationFrame<"u"?requestAnimationFrame:js,!0);let ng;function $k(){ng=void 0}const br={now:()=>(ng===void 0&&br.set(Vi.isProcessing||Po.useManualTiming?Vi.timestamp:performance.now()),ng),set:e=>{ng=e,queueMicrotask($k)}},JN=e=>t=>typeof t=="string"&&t.startsWith(e),ZN=JN("--"),Xk=JN("var(--"),V_=e=>Xk(e)?Qk.test(e.split("/*")[0].trim()):!1,Qk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function vS(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const of={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Qd={...of,transform:e=>za(0,1,e)},Sm={...of,default:1},Ad=e=>Math.round(e*1e5)/1e5,j_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Jk(e){return e==null}const Zk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,F_=(e,t)=>n=>!!(typeof n=="string"&&Zk.test(n)&&n.startsWith(e)||t&&!Jk(n)&&Object.prototype.hasOwnProperty.call(n,t)),tC=(e,t,n)=>i=>{if(typeof i!="string")return i;const[r,s,a,o]=i.match(j_);return{[e]:parseFloat(r),[t]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},tO=e=>za(0,255,e),S2={...of,transform:e=>Math.round(tO(e))},Ou={test:F_("rgb","red"),parse:tC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+S2.transform(e)+", "+S2.transform(t)+", "+S2.transform(n)+", "+Ad(Qd.transform(i))+")"};function eO(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const _v={test:F_("#"),parse:eO,transform:Ou.transform},Np=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),dl=Np("deg"),Ma=Np("%"),Wt=Np("px"),nO=Np("vh"),iO=Np("vw"),_S={...Ma,parse:e=>Ma.parse(e)/100,transform:e=>Ma.transform(e*100)},ah={test:F_("hsl","hue"),parse:tC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Ma.transform(Ad(t))+", "+Ma.transform(Ad(n))+", "+Ad(Qd.transform(i))+")"},li={test:e=>Ou.test(e)||_v.test(e)||ah.test(e),parse:e=>Ou.test(e)?Ou.parse(e):ah.test(e)?ah.parse(e):_v.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ou.transform(e):ah.transform(e),getAnimatableNone:e=>{const t=li.parse(e);return t.alpha=0,li.transform(t)}},rO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sO(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(j_))==null?void 0:t.length)||0)+(((n=e.match(rO))==null?void 0:n.length)||0)>0}const eC="number",nC="color",aO="var",oO="var(",bS="${}",lO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jd(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const o=t.replace(lO,l=>(li.test(l)?(i.color.push(s),r.push(nC),n.push(li.parse(l))):l.startsWith(oO)?(i.var.push(s),r.push(aO),n.push(l)):(i.number.push(s),r.push(eC),n.push(parseFloat(l))),++s,bS)).split(bS);return{values:n,split:o,indexes:i,types:r}}function iC(e){return Jd(e).values}function rC(e){const{split:t,types:n}=Jd(e),i=t.length;return r=>{let s="";for(let a=0;a<i;a++)if(s+=t[a],r[a]!==void 0){const o=n[a];o===eC?s+=Ad(r[a]):o===nC?s+=li.transform(r[a]):s+=r[a]}return s}}const uO=e=>typeof e=="number"?0:li.test(e)?li.getAnimatableNone(e):e;function cO(e){const t=iC(e);return rC(e)(t.map(uO))}const Zl={test:sO,parse:iC,createTransformer:rC,getAnimatableNone:cO};function E2(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hO({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let r=0,s=0,a=0;if(!t)r=s=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;r=E2(l,o,e+1/3),s=E2(l,o,e),a=E2(l,o,e-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}function t1(e,t){return n=>n>0?t:e}const qn=(e,t,n)=>e+(t-e)*n,T2=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},fO=[_v,Ou,ah],dO=e=>fO.find(t=>t.test(e));function wS(e){const t=dO(e);if(!t)return!1;let n=t.parse(e);return t===ah&&(n=hO(n)),n}const AS=(e,t)=>{const n=wS(e),i=wS(t);if(!n||!i)return t1(e,t);const r={...n};return s=>(r.red=T2(n.red,i.red,s),r.green=T2(n.green,i.green,s),r.blue=T2(n.blue,i.blue,s),r.alpha=qn(n.alpha,i.alpha,s),Ou.transform(r))},bv=new Set(["none","hidden"]);function pO(e,t){return bv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function mO(e,t){return n=>qn(e,t,n)}function B_(e){return typeof e=="number"?mO:typeof e=="string"?V_(e)?t1:li.test(e)?AS:vO:Array.isArray(e)?sC:typeof e=="object"?li.test(e)?AS:gO:t1}function sC(e,t){const n=[...e],i=n.length,r=e.map((s,a)=>B_(s)(s,t[a]));return s=>{for(let a=0;a<i;a++)n[a]=r[a](s);return n}}function gO(e,t){const n={...e,...t},i={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(i[r]=B_(e[r])(e[r],t[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function yO(e,t){const n=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const s=t.types[r],a=e.indexes[s][i[s]],o=e.values[a]??0;n[r]=o,i[s]++}return n}const vO=(e,t)=>{const n=Zl.createTransformer(t),i=Jd(e),r=Jd(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?bv.has(e)&&!r.values.length||bv.has(t)&&!i.values.length?pO(e,t):Tp(sC(yO(i,r),r.values),n):t1(e,t)};function aC(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?qn(e,t,n):B_(e)(e,t)}const _O=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>In.update(t,n),stop:()=>Jl(t),now:()=>Vi.isProcessing?Vi.timestamp:br.now()}},oC=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let s=0;s<r;s++)i+=Math.round(e(s/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},e1=2e4;function U_(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<e1;)t+=n,i=e.next(t);return t>=e1?1/0:t}function bO(e,t=100,n){const i=n({...e,keyframes:[0,t]}),r=Math.min(U_(i),e1);return{type:"keyframes",ease:s=>i.next(r*s).value/t,duration:Os(r)}}const wO=5;function lC(e,t,n){const i=Math.max(t-wO,0);return BN(n-e(i),t-i)}const $n={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},x2=.001;function AO({duration:e=$n.duration,bounce:t=$n.bounce,velocity:n=$n.velocity,mass:i=$n.mass}){let r,s,a=1-t;a=za($n.minDamping,$n.maxDamping,a),e=za($n.minDuration,$n.maxDuration,Os(e)),a<1?(r=u=>{const c=u*a,p=c*e,g=c-n,d=wv(u,a),w=Math.exp(-p);return x2-g/d*w},s=u=>{const p=u*a*e,g=p*n+n,d=Math.pow(a,2)*Math.pow(u,2)*e,w=Math.exp(-p),x=wv(Math.pow(u,2),a);return(-r(u)+x2>0?-1:1)*((g-d)*w)/x}):(r=u=>{const c=Math.exp(-u*e),p=(u-n)*e+1;return-x2+c*p},s=u=>{const c=Math.exp(-u*e),p=(n-u)*(e*e);return c*p});const o=5/e,l=EO(r,s,o);if(e=ra(e),isNaN(l))return{stiffness:$n.stiffness,damping:$n.damping,duration:e};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:a*2*Math.sqrt(i*u),duration:e}}}const SO=12;function EO(e,t,n){let i=n;for(let r=1;r<SO;r++)i=i-e(i)/t(i);return i}function wv(e,t){return e*Math.sqrt(1-t*t)}const TO=["duration","bounce"],xO=["stiffness","damping","mass"];function SS(e,t){return t.some(n=>e[n]!==void 0)}function NO(e){let t={velocity:$n.velocity,stiffness:$n.stiffness,damping:$n.damping,mass:$n.mass,isResolvedFromDuration:!1,...e};if(!SS(e,xO)&&SS(e,TO))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*za(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:$n.mass,stiffness:r,damping:s}}else{const n=AO(e);t={...t,...n,mass:$n.mass},t.isResolvedFromDuration=!0}return t}function n1(e=$n.visualDuration,t=$n.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:p,velocity:g,isResolvedFromDuration:d}=NO({...n,velocity:-Os(n.velocity||0)}),w=g||0,x=u/(2*Math.sqrt(l*c)),I=a-s,_=Os(Math.sqrt(l/c)),E=Math.abs(I)<5;i||(i=E?$n.restSpeed.granular:$n.restSpeed.default),r||(r=E?$n.restDelta.granular:$n.restDelta.default);let C;if(x<1){const G=wv(_,x);C=et=>{const M=Math.exp(-x*_*et);return a-M*((w+x*_*I)/G*Math.sin(G*et)+I*Math.cos(G*et))}}else if(x===1)C=G=>a-Math.exp(-_*G)*(I+(w+_*I)*G);else{const G=_*Math.sqrt(x*x-1);C=et=>{const M=Math.exp(-x*_*et),N=Math.min(G*et,300);return a-M*((w+x*_*I)*Math.sinh(N)+G*I*Math.cosh(N))/G}}const D={calculatedDuration:d&&p||null,next:G=>{const et=C(G);if(d)o.done=G>=p;else{let M=G===0?w:0;x<1&&(M=G===0?ra(w):lC(C,G,et));const N=Math.abs(M)<=i,T=Math.abs(a-et)<=r;o.done=N&&T}return o.value=o.done?a:et,o},toString:()=>{const G=Math.min(U_(D),e1),et=oC(M=>D.next(G*M).value,G,30);return G+"ms "+et},toTransition:()=>{}};return D}n1.applyToOptions=e=>{const t=bO(e,100,n1);return e.ease=t.ease,e.duration=ra(t.duration),e.type="keyframes",e};function Av({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const p=e[0],g={done:!1,value:p},d=N=>o!==void 0&&N<o||l!==void 0&&N>l,w=N=>o===void 0?l:l===void 0||Math.abs(o-N)<Math.abs(l-N)?o:l;let x=n*t;const I=p+x,_=a===void 0?I:a(I);_!==I&&(x=_-p);const E=N=>-x*Math.exp(-N/i),C=N=>_+E(N),D=N=>{const T=E(N),V=C(N);g.done=Math.abs(T)<=u,g.value=g.done?_:V};let G,et;const M=N=>{d(g.value)&&(G=N,et=n1({keyframes:[g.value,w(g.value)],velocity:lC(C,N,g.value),damping:r,stiffness:s,restDelta:u,restSpeed:c}))};return M(0),{calculatedDuration:null,next:N=>{let T=!1;return!et&&G===void 0&&(T=!0,D(N),M(N)),G!==void 0&&N>=G?et.next(N-G):(!T&&D(N),g)}}}function CO(e,t,n){const i=[],r=n||Po.mix||aC,s=e.length-1;for(let a=0;a<s;a++){let o=r(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||js:t;o=Tp(l,o)}i.push(o)}return i}function RO(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const s=e.length;if(P_(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=CO(t,i,r),l=o.length,u=c=>{if(a&&c<e[0])return t[0];let p=0;if(l>1)for(;p<e.length-2&&!(c<e[p+1]);p++);const g=Xd(e[p],e[p+1],c);return o[p](g)};return n?c=>u(za(e[0],e[s-1],c)):u}function IO(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=Xd(0,t,i);e.push(qn(n,1,r))}}function LO(e){const t=[0];return IO(t,e.length-1),t}function PO(e,t){return e.map(n=>n*t)}function DO(e,t){return e.map(()=>t||$N).splice(0,e.length-1)}function Sd({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const r=Hk(i)?i.map(yS):yS(i),s={done:!1,value:t[0]},a=PO(n&&n.length===t.length?n:LO(t),e),o=RO(a,t,{ease:Array.isArray(r)?r:DO(t,r)});return{calculatedDuration:e,next:l=>(s.value=o(l),s.done=l>=e,s)}}const kO=e=>e!==null;function z_(e,{repeat:t,repeatType:n="loop"},i,r=1){const s=e.filter(kO),o=r<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!o||i===void 0?s[o]:i}const OO={decay:Av,inertia:Av,tween:Sd,keyframes:Sd,spring:n1};function uC(e){typeof e.type=="string"&&(e.type=OO[e.type])}class q_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const MO=e=>e/100;class H_ extends q_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:n}=this.options;n&&n.updatedAt!==br.now()&&this.tick(br.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;uC(t);const{type:n=Sd,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:a=0}=t;let{keyframes:o}=t;const l=n||Sd;l!==Sd&&typeof o[0]!="number"&&(this.mixKeyframes=Tp(MO,aC(o[0],o[1])),o=[0,100]);const u=l({...t,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=U_(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:u=0,keyframes:c,repeat:p,repeatType:g,repeatDelay:d,type:w,onUpdate:x,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?_<0:_>r;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let C=this.currentTime,D=i;if(p){const N=Math.min(this.currentTime,r)/o;let T=Math.floor(N),V=N%1;!V&&N>=1&&(V=1),V===1&&T--,T=Math.min(T,p+1),!!(T%2)&&(g==="reverse"?(V=1-V,d&&(V-=d/o)):g==="mirror"&&(D=a)),C=za(0,1,V)*o}const G=E?{done:!1,value:c[0]}:D.next(C);s&&(G.value=s(G.value));let{done:et}=G;!E&&l!==null&&(et=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&et);return M&&w!==Av&&(G.value=z_(c,this.options,I,this.speed)),x&&x(G.value),M&&this.finish(),G}then(t,n){return this.finished.then(t,n)}get duration(){return Os(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Os(t)}get time(){return Os(this.currentTime)}set time(t){var n;t=ra(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(br.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Os(this.currentTime))}play(){var r,s;if(this.isStopped)return;const{driver:t=_O,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(s=(r=this.options).onPlay)==null||s.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(br.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function VO(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Mu=e=>e*180/Math.PI,Sv=e=>{const t=Mu(Math.atan2(e[1],e[0]));return Ev(t)},jO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Sv,rotateZ:Sv,skewX:e=>Mu(Math.atan(e[1])),skewY:e=>Mu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ev=e=>(e=e%360,e<0&&(e+=360),e),ES=Sv,TS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),xS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),FO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TS,scaleY:xS,scale:e=>(TS(e)+xS(e))/2,rotateX:e=>Ev(Mu(Math.atan2(e[6],e[5]))),rotateY:e=>Ev(Mu(Math.atan2(-e[2],e[0]))),rotateZ:ES,rotate:ES,skewX:e=>Mu(Math.atan(e[4])),skewY:e=>Mu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Tv(e){return e.includes("scale")?1:0}function xv(e,t){if(!e||e==="none")return Tv(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=FO,r=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=jO,r=o}if(!r)return Tv(t);const s=i[t],a=r[1].split(",").map(UO);return typeof s=="function"?s(a):a[s]}const BO=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return xv(n,t)};function UO(e){return parseFloat(e.trim())}const lf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],uf=new Set(lf),NS=e=>e===of||e===Wt,zO=new Set(["x","y","z"]),qO=lf.filter(e=>!zO.has(e));function HO(e){const t=[];return qO.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Il={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>xv(t,"x"),y:(e,{transform:t})=>xv(t,"y")};Il.translateX=Il.x;Il.translateY=Il.y;const qu=new Set;let Nv=!1,Cv=!1,Rv=!1;function cC(){if(Cv){const e=Array.from(qu).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const r=HO(i);r.length&&(n.set(i,r),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,a])=>{var o;(o=i.getValue(s))==null||o.set(a)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Cv=!1,Nv=!1,qu.forEach(e=>e.complete(Rv)),qu.clear()}function hC(){qu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Cv=!0)})}function GO(){Rv=!0,hC(),cC(),Rv=!1}class G_{constructor(t,n,i,r,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(qu.add(this),Nv||(Nv=!0,In.read(hC),In.resolveKeyframes(cC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:r}=this;if(t[0]===null){const s=r==null?void 0:r.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(i&&n){const o=i.readValue(n,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),r&&s===void 0&&r.set(t[0])}VO(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),qu.delete(this)}cancel(){this.state==="scheduled"&&(qu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const WO=e=>e.startsWith("--");function KO(e,t,n){WO(t)?e.style.setProperty(t,n):e.style[t]=n}const YO=D_(()=>window.ScrollTimeline!==void 0),$O={};function XO(e,t){const n=D_(e);return()=>$O[t]??n()}const fC=XO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ed=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,CS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ed([0,.65,.55,1]),circOut:ed([.55,0,1,.45]),backIn:ed([.31,.01,.66,-.59]),backOut:ed([.33,1.53,.69,.99])};function dC(e,t){if(e)return typeof e=="function"?fC()?oC(e,t):"ease-out":XN(e)?ed(e):Array.isArray(e)?e.map(n=>dC(n,t)||CS.easeOut):CS[e]}function QO(e,t,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[t]:n};l&&(c.offset=l);const p=dC(o,r);Array.isArray(p)&&(c.easing=p);const g={delay:i,duration:r,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),e.animate(c,g)}function pC(e){return typeof e=="function"&&"applyToOptions"in e}function JO({type:e,...t}){return pC(e)&&fC()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class mC extends q_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:i,keyframes:r,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=t,P_(typeof t.type!="string");const u=JO(t);this.animation=QO(n,i,r,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=z_(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):KO(n,i,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,i,r;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((r=(i=this.animation).commitStyles)==null||r.call(i))}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Os(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Os(t)}get time(){return Os(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ra(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&YO()?(this.animation.timeline=t,js):n(this)}}const gC={anticipate:WN,backInOut:GN,circInOut:YN};function ZO(e){return e in gC}function tM(e){typeof e.ease=="string"&&ZO(e.ease)&&(e.ease=gC[e.ease])}const N2=10;class eM extends mC{constructor(t){tM(t),uC(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:r,element:s,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new H_({...a,autoplay:!1}),l=Math.max(N2,br.now()-this.startTime),u=za(0,N2,l-N2);n.setWithVelocity(o.sample(Math.max(0,l-u)).value,o.sample(l).value,u),o.stop()}}const RS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Zl.test(e)||e==="0")&&!e.startsWith("url("));function nM(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function iM(e,t,n,i){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=RS(r,t),o=RS(s,t);return!a||!o?!1:nM(e)||(n==="spring"||pC(n))&&i}function Iv(e){e.duration=0,e.type="keyframes"}const rM=new Set(["opacity","clipPath","filter","transform"]),sM=D_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aM(e){var c;const{motionValue:t,name:n,repeatDelay:i,repeatType:r,damping:s,type:a}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return sM()&&n&&rM.has(n)&&(n!=="transform"||!u)&&!l&&!i&&r!=="mirror"&&s!==0&&a!=="inertia"}const oM=40;class lM extends q_{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:c,...p}){var w;super(),this.stop=()=>{var x,I;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=br.now();const g={autoplay:t,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:a,name:l,motionValue:u,element:c,...p},d=(c==null?void 0:c.KeyframeResolver)||G_;this.keyframeResolver=new d(o,(x,I,_)=>this.onKeyframesResolved(x,I,g,!_),l,u,c),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,i,r){var I,_;this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:c}=i;this.resolvedAt=br.now(),iM(t,s,a,o)||((Po.instantAnimations||!l)&&(c==null||c(z_(t,i,n))),t[0]=t[t.length-1],Iv(i),i.repeat=0);const g={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>oM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},d=!u&&aM(g),w=(_=(I=g.motionValue)==null?void 0:I.owner)==null?void 0:_.current,x=d?new eM({...g,element:w}):new H_(g);x.finished.then(()=>{this.notifyFinished()}).catch(js),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),GO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function yC(e,t,n,i=0,r=1){const s=Array.from(e).sort((u,c)=>u.sortNodePosition(c)).indexOf(t),a=e.size,o=(a-1)*i;return typeof n=="function"?n(s,a):r===1?s*i:o-s*i}const uM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cM(e){const t=uM.exec(e);if(!t)return[,];const[,n,i,r]=t;return[`--${n??i}`,r]}function vC(e,t,n=1){const[i,r]=cM(e);if(!i)return;const s=window.getComputedStyle(t).getPropertyValue(i);if(s){const a=s.trim();return VN(a)?parseFloat(a):a}return V_(r)?vC(r,t,n+1):r}const hM={type:"spring",stiffness:500,damping:25,restSpeed:10},fM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),dM={type:"keyframes",duration:.8},pM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mM=(e,{keyframes:t})=>t.length>2?dM:uf.has(e)?e.startsWith("scale")?fM(t[1]):hM:pM,gM=e=>e!==null;function yM(e,{repeat:t,repeatType:n="loop"},i){const r=e.filter(gM),s=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[s]}function _C(e,t){if(e!=null&&e.inherit&&t){const{inherit:n,...i}=e;return{...t,...i}}return e}function W_(e,t){const n=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return n!==e?_C(n,e):n}function vM({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const K_=(e,t,n,i={},r,s)=>a=>{const o=W_(i,e)||{},l=o.delay||i.delay||0;let{elapsed:u=0}=i;u=u-ra(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:g=>{t.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:r};vM(o)||Object.assign(c,mM(e,c)),c.duration&&(c.duration=ra(c.duration)),c.repeatDelay&&(c.repeatDelay=ra(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let p=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Iv(c),c.delay===0&&(p=!0)),(Po.instantAnimations||Po.skipAnimations||r!=null&&r.shouldSkipAnimations)&&(p=!0,Iv(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,p&&!s&&t.get()!==void 0){const g=yM(c.keyframes,o);if(g!==void 0){In.update(()=>{c.onUpdate(g),c.onComplete()});return}}return o.isSync?new H_(c):new lM(c)};function IS(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Y_(e,t,n,i){if(typeof t=="function"){const[r,s]=IS(i);t=t(n!==void 0?n:e.custom,r,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,s]=IS(i);t=t(n!==void 0?n:e.custom,r,s)}return t}function bh(e,t,n){const i=e.getProps();return Y_(i,t,n!==void 0?n:i.custom,e)}const bC=new Set(["width","height","top","left","right","bottom",...lf]),LS=30,_M=e=>!isNaN(parseFloat(e));class bM{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var s;const r=br.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=br.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_M(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new k_);const i=this.events[t].add(n);return t==="change"?()=>{i(),In.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=br.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>LS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,LS);return BN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qh(e,t){return new bM(e,t)}const Lv=e=>Array.isArray(e);function wM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,qh(n))}function AM(e){return Lv(e)?e[e.length-1]||0:e}function SM(e,t){const n=bh(e,t);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const a in s){const o=AM(s[a]);wM(e,a,o)}}const rr=e=>!!(e&&e.getVelocity);function EM(e){return!!(rr(e)&&e.add)}function Pv(e,t){const n=e.getValue("willChange");if(EM(n))return n.add(t);if(!n&&Po.WillChange){const i=new Po.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function $_(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const TM="framerAppearId",wC="data-"+$_(TM);function AC(e){return e.props[wC]}function xM({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function SC(e,t,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s,transitionEnd:a,...o}=t;const l=e.getDefaultTransition();s=s?_C(s,l):l;const u=s==null?void 0:s.reduceMotion;i&&(s=i);const c=[],p=r&&e.animationState&&e.animationState.getState()[r];for(const g in o){const d=e.getValue(g,e.latestValues[g]??null),w=o[g];if(w===void 0||p&&xM(p,g))continue;const x={delay:n,...W_(s||{},g)},I=d.get();if(I!==void 0&&!d.isAnimating&&!Array.isArray(w)&&w===I&&!x.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const D=AC(e);if(D){const G=window.MotionHandoffAnimation(D,g,In);G!==null&&(x.startTime=G,_=!0)}}Pv(e,g);const E=u??e.shouldReduceMotion;d.start(K_(g,d,w,E&&bC.has(g)?{type:!1}:x,e,_));const C=d.animation;C&&c.push(C)}if(a){const g=()=>In.update(()=>{a&&SM(e,a)});c.length?Promise.all(c).then(g):g()}return c}function Dv(e,t,n={}){var l;const i=bh(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(SC(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:p,staggerDirection:g}=r;return NM(e,t,u,c,p,g,n)}:()=>Promise.resolve(),{when:o}=r;if(o){const[u,c]=o==="beforeChildren"?[s,a]:[a,s];return u().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function NM(e,t,n=0,i=0,r=0,s=1,a){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(Dv(l,t,{...a,delay:n+(typeof i=="function"?0:i)+yC(e.variantChildren,l,i,r,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function CM(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(s=>Dv(e,s,n));i=Promise.all(r)}else if(typeof t=="string")i=Dv(e,t,n);else{const r=typeof t=="function"?bh(e,t,n.custom):t;i=Promise.all(SC(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const RM={test:e=>e==="auto",parse:e=>e},EC=e=>t=>t.test(e),TC=[of,Wt,Ma,dl,iO,nO,RM],PS=e=>TC.find(EC(e));function IM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||FN(e):!0}const LM=new Set(["brightness","contrast","saturate","opacity"]);function PM(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(j_)||[];if(!i)return e;const r=n.replace(i,"");let s=LM.has(t)?1:0;return i!==n&&(s*=100),t+"("+s+r+")"}const DM=/\b([a-z-]*)\(.*?\)/gu,kv={...Zl,getAnimatableNone:e=>{const t=e.match(DM);return t?t.map(PM).join(" "):e}},DS={...of,transform:Math.round},kM={rotate:dl,rotateX:dl,rotateY:dl,rotateZ:dl,scale:Sm,scaleX:Sm,scaleY:Sm,scaleZ:Sm,skew:dl,skewX:dl,skewY:dl,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:Qd,originX:_S,originY:_S,originZ:Wt},X_={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,inset:Wt,insetBlock:Wt,insetBlockStart:Wt,insetBlockEnd:Wt,insetInline:Wt,insetInlineStart:Wt,insetInlineEnd:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,paddingBlock:Wt,paddingBlockStart:Wt,paddingBlockEnd:Wt,paddingInline:Wt,paddingInlineStart:Wt,paddingInlineEnd:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,marginBlock:Wt,marginBlockStart:Wt,marginBlockEnd:Wt,marginInline:Wt,marginInlineStart:Wt,marginInlineEnd:Wt,fontSize:Wt,backgroundPositionX:Wt,backgroundPositionY:Wt,...kM,zIndex:DS,fillOpacity:Qd,strokeOpacity:Qd,numOctaves:DS},OM={...X_,color:li,backgroundColor:li,outlineColor:li,fill:li,stroke:li,borderColor:li,borderTopColor:li,borderRightColor:li,borderBottomColor:li,borderLeftColor:li,filter:kv,WebkitFilter:kv},xC=e=>OM[e];function NC(e,t){let n=xC(e);return n!==kv&&(n=Zl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const MM=new Set(["auto","none","0"]);function VM(e,t,n){let i=0,r;for(;i<e.length&&!r;){const s=e[i];typeof s=="string"&&!MM.has(s)&&Jd(s).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=NC(n,r)}class jM extends G_{constructor(t,n,i,r,s){super(t,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let p=t[c];if(typeof p=="string"&&(p=p.trim(),V_(p))){const g=vC(p,n.current);g!==void 0&&(t[c]=g),c===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!bC.has(i)||t.length!==2)return;const[r,s]=t,a=PS(r),o=PS(s),l=vS(r),u=vS(s);if(l!==u&&Il[i]){this.needsMeasurement=!0;return}if(a!==o)if(NS(a)&&NS(o))for(let c=0;c<t.length;c++){const p=t[c];typeof p=="string"&&(t[c]=parseFloat(p))}else Il[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let r=0;r<t.length;r++)(t[r]===null||IM(t[r]))&&i.push(r);i.length&&VM(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Il[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=Il[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const FM=new Set(["opacity","clipPath","filter","transform"]);function CC(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const r=(n==null?void 0:n[e])??i.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e).filter(i=>i!=null)}const RC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Ov(e){return jN(e)&&"offsetHeight"in e}const{schedule:Q_}=QN(queueMicrotask,!1),ta={x:!1,y:!1};function IC(){return ta.x||ta.y}function BM(e){return e==="x"||e==="y"?ta[e]?null:(ta[e]=!0,()=>{ta[e]=!1}):ta.x||ta.y?null:(ta.x=ta.y=!0,()=>{ta.x=ta.y=!1})}function LC(e,t){const n=CC(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[n,r,()=>i.abort()]}function UM(e){return!(e.pointerType==="touch"||IC())}function zM(e,t,n={}){const[i,r,s]=LC(e,n);return i.forEach(a=>{let o=!1,l=!1,u;const c=()=>{a.removeEventListener("pointerleave",w)},p=I=>{u&&(u(I),u=void 0),c()},g=I=>{o=!1,window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",g),l&&(l=!1,p(I))},d=()=>{o=!0,window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",g,r)},w=I=>{if(I.pointerType!=="touch"){if(o){l=!0;return}p(I)}},x=I=>{if(!UM(I))return;l=!1;const _=t(a,I);typeof _=="function"&&(u=_,a.addEventListener("pointerleave",w,r))};a.addEventListener("pointerenter",x,r),a.addEventListener("pointerdown",d,r)}),s}const PC=(e,t)=>t?e===t?!0:PC(e,t.parentElement):!1,J_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,qM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HM(e){return qM.has(e.tagName)||e.isContentEditable===!0}const GM=new Set(["INPUT","SELECT","TEXTAREA"]);function WM(e){return GM.has(e.tagName)||e.isContentEditable===!0}const ig=new WeakSet;function kS(e){return t=>{t.key==="Enter"&&e(t)}}function C2(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const KM=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=kS(()=>{if(ig.has(n))return;C2(n,"down");const r=kS(()=>{C2(n,"up")}),s=()=>C2(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function OS(e){return J_(e)&&!IC()}const MS=new WeakSet;function YM(e,t,n={}){const[i,r,s]=LC(e,n),a=o=>{const l=o.currentTarget;if(!OS(o)||MS.has(o))return;ig.add(l),n.stopPropagation&&MS.add(o);const u=t(l,o),c=(d,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),ig.has(l)&&ig.delete(l),OS(d)&&typeof u=="function"&&u(d,{success:w})},p=d=>{c(d,l===window||l===document||n.useGlobalTarget||PC(l,d.target))},g=d=>{c(d,!1)};window.addEventListener("pointerup",p,r),window.addEventListener("pointercancel",g,r)};return i.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,r),Ov(o)&&(o.addEventListener("focus",u=>KM(u,r)),!HM(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function Z_(e){return jN(e)&&"ownerSVGElement"in e}const rg=new WeakMap;let pl;const DC=(e,t,n)=>(i,r)=>r&&r[0]?r[0][e+"Size"]:Z_(i)&&"getBBox"in i?i.getBBox()[t]:i[n],$M=DC("inline","width","offsetWidth"),XM=DC("block","height","offsetHeight");function QM({target:e,borderBoxSize:t}){var n;(n=rg.get(e))==null||n.forEach(i=>{i(e,{get width(){return $M(e,t)},get height(){return XM(e,t)}})})}function JM(e){e.forEach(QM)}function ZM(){typeof ResizeObserver>"u"||(pl=new ResizeObserver(JM))}function t9(e,t){pl||ZM();const n=CC(e);return n.forEach(i=>{let r=rg.get(i);r||(r=new Set,rg.set(i,r)),r.add(t),pl==null||pl.observe(i)}),()=>{n.forEach(i=>{const r=rg.get(i);r==null||r.delete(t),r!=null&&r.size||pl==null||pl.unobserve(i)})}}const sg=new Set;let oh;function e9(){oh=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};sg.forEach(t=>t(e))},window.addEventListener("resize",oh)}function n9(e){return sg.add(e),oh||e9(),()=>{sg.delete(e),!sg.size&&typeof oh=="function"&&(window.removeEventListener("resize",oh),oh=void 0)}}function VS(e,t){return typeof e=="function"?n9(e):t9(e,t)}function i9(e){return Z_(e)&&e.tagName==="svg"}const r9=[...TC,li,Zl],s9=e=>r9.find(EC(e)),jS=()=>({translate:0,scale:1,origin:0,originPoint:0}),lh=()=>({x:jS(),y:jS()}),FS=()=>({min:0,max:0}),wi=()=>({x:FS(),y:FS()}),a9=new WeakMap;function Z1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Zd(e){return typeof e=="string"||Array.isArray(e)}const tb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eb=["initial",...tb];function t0(e){return Z1(e.animate)||eb.some(t=>Zd(e[t]))}function kC(e){return!!(t0(e)||e.variants)}function o9(e,t,n){for(const i in t){const r=t[i],s=n[i];if(rr(r))e.addValue(i,r);else if(rr(s))e.addValue(i,qh(r,{owner:e}));else if(s!==r)if(e.hasValue(i)){const a=e.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=e.getStaticValue(i);e.addValue(i,qh(a!==void 0?a:r,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Mv={current:null},OC={current:!1},l9=typeof window<"u";function u9(){if(OC.current=!0,!!l9)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mv.current=e.matches;e.addEventListener("change",t),t()}else Mv.current=!1}const BS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let i1={};function MC(e){i1=e}function c9(){return i1}class h9{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:r,skipAnimations:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=G_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=br.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,In.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=t0(n),this.isVariantNode=kC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in g){const w=g[d];u[d]!==void 0&&rr(w)&&w.set(u[d])}}mount(t){var n,i;if(this.hasBeenMounted)for(const r in this.initialValues)(n=this.values.get(r))==null||n.jump(this.initialValues[r]),this.latestValues[r]=this.initialValues[r];this.current=t,a9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(OC.current||u9(),this.shouldReduceMotion=Mv.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),Jl(this.notifyUpdate),Jl(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&FM.has(t)&&this.current instanceof HTMLElement){const{factory:a,keyframes:o,times:l,ease:u,duration:c}=n.accelerate,p=new mC({element:this.current,name:t,keyframes:o,times:l,ease:u,duration:ra(c)}),g=a(p);this.valueSubscriptions.set(t,()=>{g(),p.cancel()});return}const i=uf.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&In.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in i1){const n=i1[t];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<BS.length;i++){const r=BS[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,a=t[s];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=o9(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=qh(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(VN(i)||FN(i))?i=parseFloat(i):!s9(i)&&Zl.test(n)&&(i=NC(t,n)),this.setBaseTarget(t,rr(i)?i.get():i)),rr(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=Y_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);a&&(i=a[t])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!rr(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new k_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Q_.render(this.render)}}class VC extends h9{constructor(){super(...arguments),this.KeyframeResolver=jM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const i=t.style;return i?i[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class uu{constructor(t){this.isMounted=!1,this.node=t}update(){}}function jC({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function f9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function d9(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function R2(e){return e===void 0||e===1}function Vv({scale:e,scaleX:t,scaleY:n}){return!R2(e)||!R2(t)||!R2(n)}function Lu(e){return Vv(e)||FC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function FC(e){return US(e.x)||US(e.y)}function US(e){return e&&e!=="0%"}function r1(e,t,n){const i=e-n,r=t*i;return n+r}function zS(e,t,n,i,r){return r!==void 0&&(e=r1(e,r,i)),r1(e,n,i)+t}function jv(e,t=0,n=1,i,r){e.min=zS(e.min,t,n,i,r),e.max=zS(e.max,t,n,i,r)}function BC(e,{x:t,y:n}){jv(e.x,t.translate,t.scale,t.originPoint),jv(e.y,n.translate,n.scale,n.originPoint)}const qS=.999999999999,HS=1.0000000000001;function p9(e,t,n,i=!1){const r=n.length;if(!r)return;t.x=t.y=1;let s,a;for(let o=0;o<r;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ch(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,BC(e,a)),i&&Lu(s.latestValues)&&ch(e,s.latestValues))}t.x<HS&&t.x>qS&&(t.x=1),t.y<HS&&t.y>qS&&(t.y=1)}function uh(e,t){e.min=e.min+t,e.max=e.max+t}function GS(e,t,n,i,r=.5){const s=qn(e.min,e.max,r);jv(e,t,n,s,i)}function ch(e,t){GS(e.x,t.x,t.scaleX,t.scale,t.originX),GS(e.y,t.y,t.scaleY,t.scale,t.originY)}function UC(e,t){return jC(d9(e.getBoundingClientRect(),t))}function m9(e,t,n){const i=UC(e,n),{scroll:r}=t;return r&&(uh(i.x,r.offset.x),uh(i.y,r.offset.y)),i}const g9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},y9=lf.length;function v9(e,t,n){let i="",r=!0;for(let s=0;s<y9;s++){const a=lf[s],o=e[a];if(o===void 0)continue;let l=!0;if(typeof o=="number")l=o===(a.startsWith("scale")?1:0);else{const u=parseFloat(o);l=a.startsWith("scale")?u===1:u===0}if(!l||n){const u=RC(o,X_[a]);if(!l){r=!1;const c=g9[a]||a;i+=`${c}(${u}) `}n&&(t[a]=u)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}function nb(e,t,n){const{style:i,vars:r,transformOrigin:s}=e;let a=!1,o=!1;for(const l in t){const u=t[l];if(uf.has(l)){a=!0;continue}else if(ZN(l)){r[l]=u;continue}else{const c=RC(u,X_[l]);l.startsWith("origin")?(o=!0,s[l]=c):i[l]=c}}if(t.transform||(a||n?i.transform=v9(t,e.transform,n):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;i.transformOrigin=`${l} ${u} ${c}`}}function zC(e,{style:t,vars:n},i,r){const s=e.style;let a;for(a in t)s[a]=t[a];r==null||r.applyProjectionStyles(s,i);for(a in n)s.setProperty(a,n[a])}function WS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Wt.test(e))e=parseFloat(e);else return e;const n=WS(e,t.target.x),i=WS(e,t.target.y);return`${n}% ${i}%`}},_9={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=Zl.parse(e);if(r.length>5)return i;const s=Zl.createTransformer(e),a=typeof r[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;r[0+a]/=o,r[1+a]/=l;const u=qn(o,l,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),s(r)}},Fv={borderRadius:{...Wf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wf,borderTopRightRadius:Wf,borderBottomLeftRadius:Wf,borderBottomRightRadius:Wf,boxShadow:_9};function qC(e,{layout:t,layoutId:n}){return uf.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Fv[e]||e==="opacity")}function ib(e,t,n){var a;const i=e.style,r=t==null?void 0:t.style,s={};if(!i)return s;for(const o in i)(rr(i[o])||r&&rr(r[o])||qC(o,e)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function b9(e){return window.getComputedStyle(e)}class w9 extends VC{constructor(){super(...arguments),this.type="html",this.renderInstance=zC}readValueFromInstance(t,n){var i;if(uf.has(n))return(i=this.projection)!=null&&i.isProjecting?Tv(n):BO(t,n);{const r=b9(t),s=(ZN(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return UC(t,n)}build(t,n,i){nb(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return ib(t,n,i)}}const A9={offset:"stroke-dashoffset",array:"stroke-dasharray"},S9={offset:"strokeDashoffset",array:"strokeDasharray"};function E9(e,t,n=1,i=0,r=!0){e.pathLength=1;const s=r?A9:S9;e[s.offset]=`${-i}`,e[s.array]=`${t} ${n}`}const T9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function HC(e,{attrX:t,attrY:n,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:a=0,...o},l,u,c){if(nb(e,o,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g}=e;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete p.transformBox);for(const d of T9)p[d]!==void 0&&(g[d]=p[d],delete p[d]);t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),r!==void 0&&E9(p,r,s,a,!1)}const GC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),WC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function x9(e,t,n,i){zC(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(GC.has(r)?r:$_(r),t.attrs[r])}function KC(e,t,n){const i=ib(e,t,n);for(const r in e)if(rr(e[r])||rr(t[r])){const s=lf.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=e[r]}return i}class N9 extends VC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wi}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(uf.has(n)){const i=xC(n);return i&&i.default||0}return n=GC.has(n)?n:$_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return KC(t,n,i)}build(t,n,i){HC(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,r){x9(t,n,i,r)}mount(t){this.isSVGTag=WC(t.tagName),super.mount(t)}}const C9=eb.length;function YC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?YC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<C9;n++){const i=eb[n],r=e.props[i];(Zd(r)||r===!1)&&(t[i]=r)}return t}function $C(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const R9=[...tb].reverse(),I9=tb.length;function L9(e){return t=>Promise.all(t.map(({animation:n,options:i})=>CM(e,n,i)))}function P9(e){let t=L9(e),n=KS(),i=!0;const r=l=>(u,c)=>{var g;const p=bh(e,c,l==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:d,transitionEnd:w,...x}=p;u={...u,...x,...w}}return u};function s(l){t=l(e)}function a(l){const{props:u}=e,c=YC(e.parent)||{},p=[],g=new Set;let d={},w=1/0;for(let I=0;I<I9;I++){const _=R9[I],E=n[_],C=u[_]!==void 0?u[_]:c[_],D=Zd(C),G=_===l?E.isActive:null;G===!1&&(w=I);let et=C===c[_]&&C!==u[_]&&D;if(et&&i&&e.manuallyAnimateOnMount&&(et=!1),E.protectedKeys={...d},!E.isActive&&G===null||!C&&!E.prevProp||Z1(C)||typeof C=="boolean")continue;if(_==="exit"&&E.isActive&&G!==!0){E.prevResolvedValues&&(d={...d,...E.prevResolvedValues});continue}const M=D9(E.prevProp,C);let N=M||_===l&&E.isActive&&!et&&D||I>w&&D,T=!1;const V=Array.isArray(C)?C:[C];let A=V.reduce(r(_),{});G===!1&&(A={});const{prevResolvedValues:L={}}=E,P={...L,...A},Q=at=>{N=!0,g.has(at)&&(T=!0,g.delete(at)),E.needsAnimating[at]=!0;const Z=e.getValue(at);Z&&(Z.liveStyle=!1)};for(const at in P){const Z=A[at],ft=L[at];if(d.hasOwnProperty(at))continue;let Nt=!1;Lv(Z)&&Lv(ft)?Nt=!$C(Z,ft):Nt=Z!==ft,Nt?Z!=null?Q(at):g.add(at):Z!==void 0&&g.has(at)?Q(at):E.protectedKeys[at]=!0}E.prevProp=C,E.prevResolvedValues=A,E.isActive&&(d={...d,...A}),i&&e.blockInitialAnimation&&(N=!1);const pt=et&&M;N&&(!pt||T)&&p.push(...V.map(at=>{const Z={type:_};if(typeof at=="string"&&i&&!pt&&e.manuallyAnimateOnMount&&e.parent){const{parent:ft}=e,Nt=bh(ft,at);if(ft.enteringChildren&&Nt){const{delayChildren:Tt}=Nt.transition||{};Z.delay=yC(ft.enteringChildren,e,Tt)}}return{animation:at,options:Z}}))}if(g.size){const I={};if(typeof u.initial!="boolean"){const _=bh(e,Array.isArray(u.initial)?u.initial[0]:u.initial);_&&_.transition&&(I.transition=_.transition)}g.forEach(_=>{const E=e.getBaseTarget(_),C=e.getValue(_);C&&(C.liveStyle=!0),I[_]=E??null}),p.push({animation:I})}let x=!!p.length;return i&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),i=!1,x?t(p):Promise.resolve()}function o(l,u){var p;if(n[l].isActive===u)return Promise.resolve();(p=e.variantChildren)==null||p.forEach(g=>{var d;return(d=g.animationState)==null?void 0:d.setActive(l,u)}),n[l].isActive=u;const c=a(l);for(const g in n)n[g].protectedKeys={};return c}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=KS()}}}function D9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$C(t,e):!1}function xu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KS(){return{animate:xu(!0),whileInView:xu(),whileHover:xu(),whileTap:xu(),whileDrag:xu(),whileFocus:xu(),exit:xu()}}function YS(e,t){e.min=t.min,e.max=t.max}function Js(e,t){YS(e.x,t.x),YS(e.y,t.y)}function $S(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const XC=1e-4,k9=1-XC,O9=1+XC,QC=.01,M9=0-QC,V9=0+QC;function wr(e){return e.max-e.min}function j9(e,t,n){return Math.abs(e-t)<=n}function XS(e,t,n,i=.5){e.origin=i,e.originPoint=qn(t.min,t.max,e.origin),e.scale=wr(n)/wr(t),e.translate=qn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=k9&&e.scale<=O9||isNaN(e.scale))&&(e.scale=1),(e.translate>=M9&&e.translate<=V9||isNaN(e.translate))&&(e.translate=0)}function Ed(e,t,n,i){XS(e.x,t.x,n.x,i?i.originX:void 0),XS(e.y,t.y,n.y,i?i.originY:void 0)}function QS(e,t,n){e.min=n.min+t.min,e.max=e.min+wr(t)}function F9(e,t,n){QS(e.x,t.x,n.x),QS(e.y,t.y,n.y)}function JS(e,t,n){e.min=t.min-n.min,e.max=e.min+wr(t)}function s1(e,t,n){JS(e.x,t.x,n.x),JS(e.y,t.y,n.y)}function ZS(e,t,n,i,r){return e-=t,e=r1(e,1/n,i),r!==void 0&&(e=r1(e,1/r,i)),e}function B9(e,t=0,n=1,i=.5,r,s=e,a=e){if(Ma.test(t)&&(t=parseFloat(t),t=qn(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=qn(s.min,s.max,i);e===s&&(o-=t),e.min=ZS(e.min,t,n,o,r),e.max=ZS(e.max,t,n,o,r)}function t4(e,t,[n,i,r],s,a){B9(e,t[n],t[i],t[r],t.scale,s,a)}const U9=["x","scaleX","originX"],z9=["y","scaleY","originY"];function e4(e,t,n,i){t4(e.x,t,U9,n?n.x:void 0,i?i.x:void 0),t4(e.y,t,z9,n?n.y:void 0,i?i.y:void 0)}function n4(e){return e.translate===0&&e.scale===1}function JC(e){return n4(e.x)&&n4(e.y)}function i4(e,t){return e.min===t.min&&e.max===t.max}function q9(e,t){return i4(e.x,t.x)&&i4(e.y,t.y)}function r4(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ZC(e,t){return r4(e.x,t.x)&&r4(e.y,t.y)}function s4(e){return wr(e.x)/wr(e.y)}function a4(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Ca(e){return[e("x"),e("y")]}function H9(e,t,n){let i="";const r=e.x.translate/t.x,s=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((r||s||a)&&(i=`translate3d(${r}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:p,rotateY:g,skewX:d,skewY:w}=n;u&&(i=`perspective(${u}px) ${i}`),c&&(i+=`rotate(${c}deg) `),p&&(i+=`rotateX(${p}deg) `),g&&(i+=`rotateY(${g}deg) `),d&&(i+=`skewX(${d}deg) `),w&&(i+=`skewY(${w}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const tR=["TopLeft","TopRight","BottomLeft","BottomRight"],G9=tR.length,o4=e=>typeof e=="string"?parseFloat(e):e,l4=e=>typeof e=="number"||Wt.test(e);function W9(e,t,n,i,r,s){r?(e.opacity=qn(0,n.opacity??1,K9(i)),e.opacityExit=qn(t.opacity??1,0,Y9(i))):s&&(e.opacity=qn(t.opacity??1,n.opacity??1,i));for(let a=0;a<G9;a++){const o=`border${tR[a]}Radius`;let l=u4(t,o),u=u4(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||l4(l)===l4(u)?(e[o]=Math.max(qn(o4(l),o4(u),i),0),(Ma.test(u)||Ma.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=qn(t.rotate||0,n.rotate||0,i))}function u4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const K9=eR(0,.5,KN),Y9=eR(.5,.95,js);function eR(e,t,n){return i=>i<e?0:i>t?1:n(Xd(e,t,i))}function $9(e,t,n){const i=rr(e)?e:qh(e);return i.start(K_("",i,t,n)),i.animation}function tp(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const X9=(e,t)=>e.depth-t.depth;class Q9{constructor(){this.children=[],this.isDirty=!1}add(t){L_(this.children,t),this.isDirty=!0}remove(t){Zg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(X9),this.isDirty=!1,this.children.forEach(t)}}function J9(e,t){const n=br.now(),i=({timestamp:r})=>{const s=r-n;s>=t&&(Jl(i),e(s-t))};return In.setup(i,!0),()=>Jl(i)}function ag(e){return rr(e)?e.get():e}class Z9{constructor(){this.members=[]}add(t){L_(this.members,t);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===t||i===this.lead||i===this.prevLead)continue;const r=i.instance;r&&r.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Zg(this.members,i)}t.scheduleRender()}remove(t){if(Zg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r],a=s.instance;if(s.isPresent!==!1&&(!a||a.isConnected!==!1)){i=s;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const r=i.options.layoutDependency,s=t.options.layoutDependency;if(!(r!==void 0&&s!==void 0&&r===s)){const l=i.instance;l&&l.isConnected===!1&&!i.snapshot||(t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:o}=t.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const og={hasAnimatedSinceResize:!0,hasEverUpdated:!1},I2=["","X","Y","Z"],tV=1e3;let eV=0;function L2(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function nR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=AC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",In,!(r||s))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&nR(i)}function iR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},o=t==null?void 0:t()){this.id=eV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rV),this.nodes.forEach(lV),this.nodes.forEach(uV),this.nodes.forEach(sV)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Q9)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new k_),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Z_(a)&&!i9(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let c,p=0;const g=()=>this.root.updateBlockedByResize=!1;In.read(()=>{p=window.innerWidth}),e(a,()=>{const d=window.innerWidth;d!==p&&(p=d,this.root.updateBlockedByResize=!0,c&&c(),c=J9(g,250),og.hasAnimatedSinceResize&&(og.hasAnimatedSinceResize=!1,this.nodes.forEach(f4)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||pV,{onLayoutAnimationStart:x,onLayoutAnimationComplete:I}=u.getProps(),_=!this.targetLayout||!ZC(this.targetLayout,d),E=!p&&g;if(this.options.layoutRoot||this.resumeFrom||E||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...W_(w,"layout"),onPlay:x,onComplete:I};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(c,E)}else p||f4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Jl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cV),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const p=this.path[c];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(h4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oV),this.nodes.forEach(nV),this.nodes.forEach(iV)):this.nodes.forEach(h4),this.clearAllSnapshots();const o=br.now();Vi.delta=za(0,1e3/60,o-Vi.timestamp),Vi.timestamp=o,Vi.isProcessing=!0,A2.update.process(Vi),A2.preRender.process(Vi),A2.render.process(Vi),Vi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Q_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aV),this.sharedNodes.forEach(hV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,In.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){In.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wr(this.snapshot.measuredBox.x)&&!wr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=wi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!JC(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||Lu(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),mV(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return wi();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(gV))){const{scroll:c}=this.root;c&&(uh(o.x,c.offset.x),uh(o.y,c.offset.y))}return o}removeElementScroll(a){var l;const o=wi();if(Js(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:p,options:g}=c;c!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Js(o,a),uh(o.x,p.offset.x),uh(o.y,p.offset.y))}return o}applyTransform(a,o=!1){const l=wi();Js(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ch(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Lu(c.latestValues)&&ch(l,c.latestValues)}return Lu(this.latestValues)&&ch(l,this.latestValues),l}removeTransform(a){const o=wi();Js(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Lu(u.latestValues))continue;Vv(u.latestValues)&&u.updateSnapshot();const c=wi(),p=u.measurePageBox();Js(c,p),e4(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Lu(this.latestValues)&&e4(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var d;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:p}=this.options;if(!this.layout||!(c||p))return;this.resolvedRelativeTargetAt=Vi.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=wi(),this.targetWithTransforms=wi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),F9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Js(this.target,this.layout.layoutBox),BC(this.target,this.targetDelta)):Js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Vv(this.parent.latestValues)||FC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wi(),this.relativeTargetOrigin=wi(),s1(this.relativeTargetOrigin,o,l),Js(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var w;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Vi.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Js(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;p9(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=wi());const{target:d}=a;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($S(this.prevProjectionDelta.x,this.projectionDelta.x),$S(this.prevProjectionDelta.y,this.projectionDelta.y)),Ed(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!a4(this.projectionDelta.x,this.prevProjectionDelta.x)||!a4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lh(),this.projectionDelta=lh(),this.projectionDeltaWithTransform=lh()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},p=lh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=wi(),d=l?l.source:void 0,w=this.layout?this.layout.source:void 0,x=d!==w,I=this.getStack(),_=!I||I.members.length<=1,E=!!(x&&!_&&this.options.crossfade===!0&&!this.path.some(dV));this.animationProgress=0;let C;this.mixTargetDelta=D=>{const G=D/1e3;d4(p.x,a.x,G),d4(p.y,a.y,G),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(s1(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fV(this.relativeTarget,this.relativeTargetOrigin,g,G),C&&q9(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=wi()),Js(C,this.relativeTarget)),x&&(this.animationValues=c,W9(c,u,this.latestValues,G,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Jl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=In.update(()=>{og.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qh(0)),this.currentAnimation=$9(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&rR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||wi();const p=wr(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+p;const g=wr(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+g}Js(o,l),ch(o,c),Ed(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Z9),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&L2("z",a,u,this.animationValues);for(let c=0;c<I2.length;c++)L2(`rotate${I2[c]}`,a,u,this.animationValues),L2(`skew${I2[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=ag(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=ag(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Lu(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let p=H9(this.projectionDeltaWithTransform,this.treeScale,c);l&&(p=l(c,p)),a.transform=p;const{x:g,y:d}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${d.origin*100}% 0`,u.animationValues?a.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:a.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const w in Fv){if(c[w]===void 0)continue;const{correct:x,applyTo:I,isCSSVariable:_}=Fv[w],E=p==="none"?c[w]:x(c[w],u);if(I){const C=I.length;for(let D=0;D<C;D++)a[I[D]]=E}else _?this.options.visualElement.renderState.vars[w]=E:a[w]=E}this.options.layoutId&&(a.pointerEvents=u===this?ag(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(c4),this.root.sharedNodes.clear()}}}function nV(e){e.updateLayout()}function iV(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?Ca(p=>{const g=a?t.measuredBox[p]:t.layoutBox[p],d=wr(g);g.min=i[p].min,g.max=g.min+d}):rR(s,t.layoutBox,i)&&Ca(p=>{const g=a?t.measuredBox[p]:t.layoutBox[p],d=wr(i[p]);g.max=g.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+d)});const o=lh();Ed(o,i,t.layoutBox);const l=lh();a?Ed(l,e.applyTransform(r,!0),t.measuredBox):Ed(l,i,t.layoutBox);const u=!JC(o);let c=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:d}=p;if(g&&d){const w=wi();s1(w,t.layoutBox,g.layoutBox);const x=wi();s1(x,i,d.layoutBox),ZC(w,x)||(c=!0),p.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=w,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function rV(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function aV(e){e.clearSnapshot()}function c4(e){e.clearMeasurements()}function h4(e){e.isLayoutDirty=!1}function oV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function f4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function lV(e){e.resolveTargetDelta()}function uV(e){e.calcProjection()}function cV(e){e.resetSkewAndRotation()}function hV(e){e.removeLeadSnapshot()}function d4(e,t,n){e.translate=qn(t.translate,0,n),e.scale=qn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function p4(e,t,n,i){e.min=qn(t.min,n.min,i),e.max=qn(t.max,n.max,i)}function fV(e,t,n,i){p4(e.x,t.x,n.x,i),p4(e.y,t.y,n.y,i)}function dV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const pV={duration:.45,ease:[.4,0,.1,1]},m4=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),g4=m4("applewebkit/")&&!m4("chrome/")?Math.round:js;function y4(e){e.min=g4(e.min),e.max=g4(e.max)}function mV(e){y4(e.x),y4(e.y)}function rR(e,t,n){return e==="position"||e==="preserve-aspect"&&!j9(s4(t),s4(n),.2)}function gV(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const yV=iR({attachResizeListener:(e,t)=>tp(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),P2={current:void 0},sR=iR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!P2.current){const e=new yV({});e.mount(window),e.setOptions({layoutScroll:!0}),P2.current=e}return P2.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),rb=Pt.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function v4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vV(...e){return t=>{let n=!1;const i=e.map(r=>{const s=v4(r,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():v4(e[r],null)}}}}function _V(...e){return Pt.useCallback(vV(...e),e)}class bV extends Pt.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,r=Ov(i)&&i.offsetWidth||0,s=Ov(i)&&i.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=r-a.width-a.left,a.bottom=s-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function wV({children:e,isPresent:t,anchorX:n,anchorY:i,root:r,pop:s}){var g;const a=Pt.useId(),o=Pt.useRef(null),l=Pt.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=Pt.useContext(rb),c=((g=e.props)==null?void 0:g.ref)??(e==null?void 0:e.ref),p=_V(o,c);return Pt.useInsertionEffect(()=>{const{width:d,height:w,top:x,left:I,right:_,bottom:E}=l.current;if(t||s===!1||!o.current||!d||!w)return;const C=n==="left"?`left: ${I}`:`right: ${_}`,D=i==="bottom"?`bottom: ${E}`:`top: ${x}`;o.current.dataset.motionPopId=a;const G=document.createElement("style");u&&(G.nonce=u);const et=r??document.head;return et.appendChild(G),G.sheet&&G.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${w}px !important;
            ${C}px !important;
            ${D}px !important;
          }
        `),()=>{et.contains(G)&&et.removeChild(G)}},[t]),yt.jsx(bV,{isPresent:t,childRef:o,sizeRef:l,pop:s,children:s===!1?e:Pt.cloneElement(e,{ref:p})})}const AV=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:a,anchorX:o,anchorY:l,root:u})=>{const c=I_(SV),p=Pt.useId();let g=!0,d=Pt.useMemo(()=>(g=!1,{id:p,initial:t,isPresent:n,custom:r,onExitComplete:w=>{c.set(w,!0);for(const x of c.values())if(!x)return;i&&i()},register:w=>(c.set(w,!1),()=>c.delete(w))}),[n,c,i]);return s&&g&&(d={...d}),Pt.useMemo(()=>{c.forEach((w,x)=>c.set(x,!1))},[n]),Pt.useEffect(()=>{!n&&!c.size&&i&&i()},[n]),e=yt.jsx(wV,{pop:a==="popLayout",isPresent:n,anchorX:o,anchorY:l,root:u,children:e}),yt.jsx(J1.Provider,{value:d,children:e})};function SV(){return new Map}function aR(e=!0){const t=Pt.useContext(J1);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=t,s=Pt.useId();Pt.useEffect(()=>{if(e)return r(s)},[e]);const a=Pt.useCallback(()=>e&&i&&i(s),[s,i,e]);return!n&&i?[!1,a]:[!0]}const Em=e=>e.key||"";function _4(e){const t=[];return Pt.Children.forEach(e,n=>{Pt.isValidElement(n)&&t.push(n)}),t}const b4=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",anchorY:l="top",root:u})=>{const[c,p]=aR(a),g=Pt.useMemo(()=>_4(e),[e]),d=a&&!c?[]:g.map(Em),w=Pt.useRef(!0),x=Pt.useRef(g),I=I_(()=>new Map),_=Pt.useRef(new Set),[E,C]=Pt.useState(g),[D,G]=Pt.useState(g);MN(()=>{w.current=!1,x.current=g;for(let N=0;N<D.length;N++){const T=Em(D[N]);d.includes(T)?(I.delete(T),_.current.delete(T)):I.get(T)!==!0&&I.set(T,!1)}},[D,d.length,d.join("-")]);const et=[];if(g!==E){let N=[...g];for(let T=0;T<D.length;T++){const V=D[T],A=Em(V);d.includes(A)||(N.splice(T,0,V),et.push(V))}return s==="wait"&&et.length&&(N=et),G(_4(N)),C(g),null}const{forceRender:M}=Pt.useContext(R_);return yt.jsx(yt.Fragment,{children:D.map(N=>{const T=Em(N),V=a&&!c?!1:g===D||d.includes(T),A=()=>{if(_.current.has(T))return;if(_.current.add(T),I.has(T))I.set(T,!0);else return;let L=!0;I.forEach(P=>{P||(L=!1)}),L&&(M==null||M(),G(x.current),a&&(p==null||p()),i&&i())};return yt.jsx(AV,{isPresent:V,initial:!w.current||n?void 0:!1,custom:t,presenceAffectsLayout:r,mode:s,root:u,onExitComplete:V?void 0:A,anchorX:o,anchorY:l,children:N},T)})})},oR=Pt.createContext({strict:!1}),w4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let A4=!1;function EV(){if(A4)return;const e={};for(const t in w4)e[t]={isEnabled:n=>w4[t].some(i=>!!n[i])};MC(e),A4=!0}function lR(){return EV(),c9()}function TV(e){const t=lR();for(const n in e)t[n]={...t[n],...e[n]};MC(t)}const xV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function a1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||xV.has(e)}let uR=e=>!a1(e);function NV(e){typeof e=="function"&&(uR=t=>t.startsWith("on")?!a1(t):e(t))}try{NV(require("@emotion/is-prop-valid").default)}catch{}function CV(e,t,n){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(uR(r)||n===!0&&a1(r)||!t&&!a1(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}const e0=Pt.createContext({});function RV(e,t){if(t0(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Zd(n)?n:void 0,animate:Zd(i)?i:void 0}}return e.inherit!==!1?t:{}}function IV(e){const{initial:t,animate:n}=RV(e,Pt.useContext(e0));return Pt.useMemo(()=>({initial:t,animate:n}),[S4(t),S4(n)])}function S4(e){return Array.isArray(e)?e.join(" "):e}const sb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cR(e,t,n){for(const i in t)!rr(t[i])&&!qC(i,n)&&(e[i]=t[i])}function LV({transformTemplate:e},t){return Pt.useMemo(()=>{const n=sb();return nb(n,t,e),Object.assign({},n.vars,n.style)},[t])}function PV(e,t){const n=e.style||{},i={};return cR(i,n,e),Object.assign(i,LV(e,t)),i}function DV(e,t){const n={},i=PV(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const hR=()=>({...sb(),attrs:{}});function kV(e,t,n,i){const r=Pt.useMemo(()=>{const s=hR();return HC(s,t,WC(i),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};cR(s,e.style,e),r.style={...s,...r.style}}return r}const OV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ab(e){return typeof e!="string"||e.includes("-")?!1:!!(OV.indexOf(e)>-1||/[A-Z]/u.test(e))}function MV(e,t,n,{latestValues:i},r,s=!1,a){const l=(a??ab(e)?kV:DV)(t,i,r,e),u=CV(t,typeof e=="string",s),c=e!==Pt.Fragment?{...u,...l,ref:n}:{},{children:p}=t,g=Pt.useMemo(()=>rr(p)?p.get():p,[p]);return Pt.createElement(e,{...c,children:g})}function VV({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,r){return{latestValues:jV(n,i,r,e),renderState:t()}}function jV(e,t,n,i){const r={},s=i(e,{});for(const g in s)r[g]=ag(s[g]);let{initial:a,animate:o}=e;const l=t0(e),u=kC(e);t&&u&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let c=n?n.initial===!1:!1;c=c||a===!1;const p=c?o:a;if(p&&typeof p!="boolean"&&!Z1(p)){const g=Array.isArray(p)?p:[p];for(let d=0;d<g.length;d++){const w=Y_(e,g[d]);if(w){const{transitionEnd:x,transition:I,..._}=w;for(const E in _){let C=_[E];if(Array.isArray(C)){const D=c?C.length-1:0;C=C[D]}C!==null&&(r[E]=C)}for(const E in x)r[E]=x[E]}}}return r}const fR=e=>(t,n)=>{const i=Pt.useContext(e0),r=Pt.useContext(J1),s=()=>VV(e,t,i,r);return n?s():I_(s)},FV=fR({scrapeMotionValuesFromProps:ib,createRenderState:sb}),BV=fR({scrapeMotionValuesFromProps:KC,createRenderState:hR}),UV=Symbol.for("motionComponentSymbol");function zV(e,t,n){const i=Pt.useRef(n);Pt.useInsertionEffect(()=>{i.current=n});const r=Pt.useRef(null);return Pt.useCallback(s=>{var o;s&&((o=e.onMount)==null||o.call(e,s)),t&&(s?t.mount(s):t.unmount());const a=i.current;if(typeof a=="function")if(s){const l=a(s);typeof l=="function"&&(r.current=l)}else r.current?(r.current(),r.current=null):a(s);else a&&(a.current=s)},[t])}const dR=Pt.createContext({});function Uc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qV(e,t,n,i,r,s){var C,D;const{visualElement:a}=Pt.useContext(e0),o=Pt.useContext(oR),l=Pt.useContext(J1),u=Pt.useContext(rb),c=u.reducedMotion,p=u.skipAnimations,g=Pt.useRef(null),d=Pt.useRef(!1);i=i||o.renderer,!g.current&&i&&(g.current=i(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,skipAnimations:p,isSVG:s}),d.current&&g.current&&(g.current.manuallyAnimateOnMount=!0));const w=g.current,x=Pt.useContext(dR);w&&!w.projection&&r&&(w.type==="html"||w.type==="svg")&&HV(g.current,n,r,x);const I=Pt.useRef(!1);Pt.useInsertionEffect(()=>{w&&I.current&&w.update(n,l)});const _=n[wC],E=Pt.useRef(!!_&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,_))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,_)));return MN(()=>{d.current=!0,w&&(I.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),E.current&&w.animationState&&w.animationState.animateChanges())}),Pt.useEffect(()=>{w&&(!E.current&&w.animationState&&w.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var G;(G=window.MotionHandoffMarkAsComplete)==null||G.call(window,_)}),E.current=!1),w.enteringChildren=void 0)}),w}function HV(e,t,n,i){const{layoutId:r,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:pR(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!a||o&&Uc(o),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:c,layoutScroll:l,layoutRoot:u})}function pR(e){if(e)return e.options.allowProjection!==!1?e.projection:pR(e.parent)}function D2(e,{forwardMotionProps:t=!1,type:n}={},i,r){i&&TV(i);const s=n?n==="svg":ab(e),a=s?BV:FV;function o(u,c){let p;const g={...Pt.useContext(rb),...u,layoutId:GV(u)},{isStatic:d}=g,w=IV(u),x=a(u,d);if(!d&&ON){WV();const I=KV(g);p=I.MeasureLayout,w.visualElement=qV(e,x,g,r,I.ProjectionNode,s)}return yt.jsxs(e0.Provider,{value:w,children:[p&&w.visualElement?yt.jsx(p,{visualElement:w.visualElement,...g}):null,MV(e,u,zV(x,w.visualElement,c),x,d,t,s)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=Pt.forwardRef(o);return l[UV]=e,l}function GV({layoutId:e}){const t=Pt.useContext(R_).id;return t&&e!==void 0?t+"-"+e:e}function WV(e,t){Pt.useContext(oR).strict}function KV(e){const t=lR(),{drag:n,layout:i}=t;if(!n&&!i)return{};const r={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(e)||i!=null&&i.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function YV(e,t){if(typeof Proxy>"u")return D2;const n=new Map,i=(s,a)=>D2(s,a,e,t),r=(s,a)=>i(s,a);return new Proxy(r,{get:(s,a)=>a==="create"?i:(n.has(a)||n.set(a,D2(a,void 0,e,t)),n.get(a))})}const $V=(e,t)=>t.isSVG??ab(e)?new N9(t):new w9(t,{allowProjection:e!==Pt.Fragment});class XV extends uu{constructor(t){super(t),t.animationState||(t.animationState=P9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Z1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let QV=0;class JV extends uu{constructor(){super(...arguments),this.id=QV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ZV={animation:{Feature:XV},exit:{Feature:JV}};function Cp(e){return{point:{x:e.pageX,y:e.pageY}}}const tj=e=>t=>J_(t)&&e(t,Cp(t));function Td(e,t,n,i){return tp(e,t,tj(n),i)}const mR=({current:e})=>e?e.ownerDocument.defaultView:null,E4=(e,t)=>Math.abs(e-t);function ej(e,t){const n=E4(e.x,t.x),i=E4(e.y,t.y);return Math.sqrt(n**2+i**2)}const T4=new Set(["auto","scroll"]);class gR{constructor(t,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=d=>{this.handleScroll(d.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=O2(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,x=ej(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!x)return;const{point:I}=d,{timestamp:_}=Vi;this.history.push({...I,timestamp:_});const{onStart:E,onMove:C}=this.handlers;w||(E&&E(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,d)},this.handlePointerMove=(d,w)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=k2(w,this.transformPagePoint),In.update(this.updatePoint,!0)},this.handlePointerUp=(d,w)=>{this.end();const{onEnd:x,onSessionEnd:I,resumeAnimation:_}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=O2(d.type==="pointercancel"?this.lastMoveEventInfo:k2(w,this.transformPagePoint),this.history);this.startEvent&&x&&x(d,E),I&&I(d,E)},!J_(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=r||window;const l=Cp(t),u=k2(l,this.transformPagePoint),{point:c}=u,{timestamp:p}=Vi;this.history=[{...c,timestamp:p}];const{onSessionStart:g}=n;g&&g(t,O2(u,this.history)),this.removeListeners=Tp(Td(this.contextWindow,"pointermove",this.handlePointerMove),Td(this.contextWindow,"pointerup",this.handlePointerUp),Td(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(t){let n=t.parentElement;for(;n;){const i=getComputedStyle(n);(T4.has(i.overflowX)||T4.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const i=t===window,r=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},s={x:r.x-n.x,y:r.y-n.y};s.x===0&&s.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(t,r),In.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Jl(this.updatePoint)}}function k2(e,t){return t?{point:t(e.point)}:e}function x4(e,t){return{x:e.x-t.x,y:e.y-t.y}}function O2({point:e},t){return{point:e,delta:x4(e,yR(t)),offset:x4(e,nj(t)),velocity:ij(t,.1)}}function nj(e){return e[0]}function yR(e){return e[e.length-1]}function ij(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=yR(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>ra(t)));)n--;if(!i)return{x:0,y:0};i===e[0]&&e.length>2&&r.timestamp-i.timestamp>ra(t)*2&&(i=e[1]);const s=Os(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const a={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function rj(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?qn(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?qn(n,e,i.max):Math.min(e,n)),e}function N4(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function sj(e,{top:t,left:n,bottom:i,right:r}){return{x:N4(e.x,n,r),y:N4(e.y,t,i)}}function C4(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function aj(e,t){return{x:C4(e.x,t.x),y:C4(e.y,t.y)}}function oj(e,t){let n=.5;const i=wr(e),r=wr(t);return r>i?n=Xd(t.min,t.max-i,e.min):i>r&&(n=Xd(e.min,e.max-r,t.min)),za(0,1,n)}function lj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Bv=.35;function uj(e=Bv){return e===!1?e=0:e===!0&&(e=Bv),{x:R4(e,"left","right"),y:R4(e,"top","bottom")}}function R4(e,t,n){return{min:I4(e,t),max:I4(e,n)}}function I4(e,t){return typeof e=="number"?e:e[t]||0}const cj=new WeakMap;class hj{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=p=>{n&&this.snapToCursor(Cp(p).point),this.stopAnimation()},a=(p,g)=>{const{drag:d,dragPropagation:w,onDragStart:x}=this.getProps();if(d&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BM(d),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ca(_=>{let E=this.getAxisMotionValue(_).get()||0;if(Ma.test(E)){const{projection:C}=this.visualElement;if(C&&C.layout){const D=C.layout.layoutBox[_];D&&(E=wr(D)*(parseFloat(E)/100))}}this.originPoint[_]=E}),x&&In.update(()=>x(p,g),!1,!0),Pv(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},o=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:d,dragDirectionLock:w,onDirectionLock:x,onDrag:I}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:_}=g;if(w&&this.currentDirection===null){this.currentDirection=dj(_),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),I&&In.update(()=>I(p,g),!1,!0)},l=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>{const{dragSnapToOrigin:p}=this.getProps();(p||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:c}=this.getProps();this.panSession=new gR(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:i,contextWindow:mR(this.visualElement),element:this.visualElement.current})}stop(t,n){const i=t||this.latestPointerEvent,r=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&In.postRender(()=>o(i,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,i){const{drag:r}=this.getProps();if(!i||!Tm(t,r,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(a=rj(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,r=this.constraints;t&&Uc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=sj(i.layoutBox,t):this.constraints=!1,this.elastic=uj(n),r!==this.constraints&&!Uc(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&Ca(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=lj(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Uc(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=m9(i,r.root,this.visualElement.getTransformPagePoint());let a=aj(r.layout.layoutBox,s);if(n){const o=n(f9(a));this.hasMutatedConstraints=!!o,o&&(a=jC(o))}return a}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Ca(c=>{if(!Tm(c,n,this.currentDirection))return;let p=l&&l[c]||{};a&&(p={min:0,max:0});const g=r?200:1e6,d=r?40:1e7,w={type:"inertia",velocity:i?t[c]:0,bounceStiffness:g,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(c,w)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Pv(this.visualElement,t),i.start(K_(t,i,0,n,this.visualElement,!1))}stopAnimation(){Ca(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Ca(n=>{const{drag:i}=this.getProps();if(!Tm(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:o}=r.layout.layoutBox[n],l=s.get()||0;s.set(t[n]-qn(a,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Uc(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ca(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();r[a]=oj({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Ca(a=>{if(!Tm(a,t,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(qn(l,u,r[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;cj.set(this.visualElement,this);const t=this.visualElement.current,n=Td(t,"pointerdown",u=>{const{drag:c,dragListener:p=!0}=this.getProps(),g=u.target,d=g!==t&&WM(g);c&&p&&!d&&this.start(u)});let i;const r=()=>{const{dragConstraints:u}=this.getProps();Uc(u)&&u.current&&(this.constraints=this.resolveRefConstraints(),i||(i=fj(t,u.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),In.read(r);const o=tp(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ca(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=u[p].translate,g.set(g.get()+u[p].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=Bv,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function L4(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function fj(e,t,n){const i=VS(e,L4(n)),r=VS(t,L4(n));return()=>{i(),r()}}function Tm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function dj(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class pj extends uu{constructor(t){super(t),this.removeGroupControls=js,this.removeListeners=js,this.controls=new hj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||js}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const M2=e=>(t,n)=>{e&&In.update(()=>e(t,n),!1,!0)};class mj extends uu{constructor(){super(...arguments),this.removePointerDownListener=js}onPointerDown(t){this.session=new gR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:M2(t),onStart:M2(n),onMove:M2(i),onEnd:(s,a)=>{delete this.session,r&&In.postRender(()=>r(s,a))}}}mount(){this.removePointerDownListener=Td(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let V2=!1;class gj extends Pt.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=t;s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),V2&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),og.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,{projection:a}=i;return a&&(a.isPresent=s,t.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),V2=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==s?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||In.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Q_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=t;V2=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vR(e){const[t,n]=aR(),i=Pt.useContext(R_);return yt.jsx(gj,{...e,layoutGroup:i,switchLayoutGroup:Pt.useContext(dR),isPresent:t,safeToRemove:n})}const yj={pan:{Feature:mj},drag:{Feature:pj,ProjectionNode:sR,MeasureLayout:vR}};function P4(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&In.postRender(()=>s(t,Cp(t)))}class vj extends uu{mount(){const{current:t}=this.node;t&&(this.unmount=zM(t,(n,i)=>(P4(this.node,i,"Start"),r=>P4(this.node,r,"End"))))}unmount(){}}class _j extends uu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tp(tp(this.node.current,"focus",()=>this.onFocus()),tp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function D4(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&In.postRender(()=>s(t,Cp(t)))}class bj extends uu{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=YM(t,(r,s)=>(D4(this.node,s,"Start"),(a,{success:o})=>D4(this.node,a,o?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(i==null?void 0:i.tap)===!1})}unmount(){}}const Uv=new WeakMap,j2=new WeakMap,wj=e=>{const t=Uv.get(e.target);t&&t(e)},Aj=e=>{e.forEach(wj)};function Sj({root:e,...t}){const n=e||document;j2.has(n)||j2.set(n,{});const i=j2.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(Aj,{root:e,...t})),i[r]}function Ej(e,t,n){const i=Sj(t);return Uv.set(e,n),i.observe(e),()=>{Uv.delete(e),i.unobserve(e)}}const Tj={some:0,all:1};class xj extends uu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=t,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Tj[r]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:p}=this.node.getProps(),g=u?c:p;g&&g(l)};return Ej(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Nj(t,n))&&this.startObserver()}unmount(){}}function Nj({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Cj={inView:{Feature:xj},tap:{Feature:bj},focus:{Feature:_j},hover:{Feature:vj}},Rj={layout:{ProjectionNode:sR,MeasureLayout:vR}},Ij={...ZV,...Cj,...yj,...Rj},Ia=YV(Ij,$V);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=e=>{const t=Pj(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=Pt.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>Pt.createElement("svg",{ref:l,...Dj,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:_R("lucide",r),...!s&&!kj(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,c])=>Pt.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=(e,t)=>{const n=Pt.forwardRef(({className:i,...r},s)=>Pt.createElement(Oj,{ref:s,iconNode:t,className:_R(`lucide-${Lj(k4(e))}`,`lucide-${e}`,i),...r}));return n.displayName=k4(e),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vj=cf("arrow-left",Mj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Fj=cf("arrow-right",jj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Uj=cf("download",Bj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bR=cf("log-out",zj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wR=cf("plus",qj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Gj=cf("trash-2",Hj),Wj=()=>{};var O4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Kj=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],o=e[n++],l=((r&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},SR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,o=a?e[r+1]:0,l=r+2<e.length,u=l?e[r+2]:0,c=s>>2,p=(s&3)<<4|o>>4;let g=(o&15)<<2|u>>6,d=u&63;l||(d=64,a||(g=64)),i.push(n[c],n[p],n[g],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(AR(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Kj(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],o=r<e.length?n[e.charAt(r)]:0;++r;const u=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||o==null||u==null||p==null)throw new Yj;const g=s<<2|o>>4;if(i.push(g),u!==64){const d=o<<4&240|u>>2;if(i.push(d),p!==64){const w=u<<6&192|p;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Yj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $j=function(e){const t=AR(e);return SR.encodeByteArray(t,!0)},o1=function(e){return $j(e).replace(/\./g,"")},ER=function(e){try{return SR.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=()=>Xj().__FIREBASE_DEFAULTS__,Jj=()=>{if(typeof process>"u"||typeof O4>"u")return;const e=O4.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Zj=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ER(e[1]);return t&&JSON.parse(t)},n0=()=>{try{return Wj()||Qj()||Jj()||Zj()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},TR=e=>{var t,n;return(n=(t=n0())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},tF=e=>{const t=TR(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},xR=()=>{var e;return(e=n0())==null?void 0:e.config},NR=e=>{var t;return(t=n0())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CR(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[o1(JSON.stringify(n)),o1(JSON.stringify(a)),""].join(".")}const xd={};function iF(){const e={prod:[],emulator:[]};for(const t of Object.keys(xd))xd[t]?e.emulator.push(t):e.prod.push(t);return e}function rF(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let M4=!1;function RR(e,t){if(typeof window>"u"||typeof document>"u"||!hf(window.location.host)||xd[e]===t||xd[e]||M4)return;xd[e]=t;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",s=iF().prod.length>0;function a(){const g=document.getElementById(i);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,d){g.setAttribute("width","24"),g.setAttribute("id",d),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{M4=!0,a()},g}function c(g,d){g.setAttribute("id",d),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=rF(i),d=n("text"),w=document.getElementById(d)||document.createElement("span"),x=n("learnmore"),I=document.getElementById(x)||document.createElement("a"),_=n("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const C=g.element;o(C),c(I,x);const D=u();l(E,_),C.append(E,w,I,D),document.body.appendChild(C)}s?(w.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sr())}function aF(){var t;const e=(t=n0())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lF(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function uF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cF(){const e=sr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function hF(){return!aF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fF(){try{return typeof indexedDB=="object"}catch{return!1}}function dF(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="FirebaseError";class Fo extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=pF,Object.setPrototypeOf(this,Fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rp.prototype.create)}}class Rp{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?mF(s,i):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new Fo(r,o,i)}}function mF(e,t){return e.replace(gF,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const gF=/\{\$([^}]+)}/g;function yF(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ju(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(V4(s)&&V4(a)){if(!Ju(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function V4(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function nd(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function id(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function vF(e,t){const n=new _F(e,t);return n.subscribe.bind(n)}class _F{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");bF(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=F2),r.error===void 0&&(r.error=F2),r.complete===void 0&&(r.complete=F2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bF(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function F2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(e){return e&&e._delegate?e._delegate:e}class Zu{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new eF;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SF(t))try{this.getOrInitializeService({instanceIdentifier:Pu})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Pu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pu){return this.instances.has(t)}getOptions(t=Pu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&a.resolve(r)}return r}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:AF(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Pu){return this.component?this.component.multipleInstances?t:Pu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AF(e){return e===Pu?void 0:e}function SF(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new wF(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ze||(ze={}));const TF={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},xF=ze.INFO,NF={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},CF=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=NF[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ob{constructor(t){this.name=t,this._logLevel=xF,this._logHandler=CF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ze))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TF[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...t),this._logHandler(this,ze.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...t),this._logHandler(this,ze.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...t),this._logHandler(this,ze.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...t),this._logHandler(this,ze.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...t),this._logHandler(this,ze.ERROR,...t)}}const RF=(e,t)=>t.some(n=>e instanceof n);let j4,F4;function IF(){return j4||(j4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LF(){return F4||(F4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IR=new WeakMap,zv=new WeakMap,LR=new WeakMap,B2=new WeakMap,lb=new WeakMap;function PF(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(zl(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&IR.set(n,e)}).catch(()=>{}),lb.set(t,e),t}function DF(e){if(zv.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});zv.set(e,t)}let qv={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return zv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||LR.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zl(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function kF(e){qv=e(qv)}function OF(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(U2(this),t,...n);return LR.set(i,t.sort?t.sort():[t]),zl(i)}:LF().includes(e)?function(...t){return e.apply(U2(this),t),zl(IR.get(this))}:function(...t){return zl(e.apply(U2(this),t))}}function MF(e){return typeof e=="function"?OF(e):(e instanceof IDBTransaction&&DF(e),RF(e,IF())?new Proxy(e,qv):e)}function zl(e){if(e instanceof IDBRequest)return PF(e);if(B2.has(e))return B2.get(e);const t=MF(e);return t!==e&&(B2.set(e,t),lb.set(t,e)),t}const U2=e=>lb.get(e);function VF(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),o=zl(a);return i&&a.addEventListener("upgradeneeded",l=>{i(zl(a.result),l.oldVersion,l.newVersion,zl(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const jF=["get","getKey","getAll","getAllKeys","count"],FF=["put","add","delete","clear"],z2=new Map;function B4(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(z2.get(t))return z2.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=FF.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||jF.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),r&&l.done]))[0]};return z2.set(t,s),s}kF(e=>({...e,get:(t,n,i)=>B4(t,n)||e.get(t,n,i),has:(t,n)=>!!B4(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UF(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function UF(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Hv="@firebase/app",U4="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new ob("@firebase/app"),zF="@firebase/app-compat",qF="@firebase/analytics-compat",HF="@firebase/analytics",GF="@firebase/app-check-compat",WF="@firebase/app-check",KF="@firebase/auth",YF="@firebase/auth-compat",$F="@firebase/database",XF="@firebase/data-connect",QF="@firebase/database-compat",JF="@firebase/functions",ZF="@firebase/functions-compat",tB="@firebase/installations",eB="@firebase/installations-compat",nB="@firebase/messaging",iB="@firebase/messaging-compat",rB="@firebase/performance",sB="@firebase/performance-compat",aB="@firebase/remote-config",oB="@firebase/remote-config-compat",lB="@firebase/storage",uB="@firebase/storage-compat",cB="@firebase/firestore",hB="@firebase/ai",fB="@firebase/firestore-compat",dB="firebase",pB="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="[DEFAULT]",mB={[Hv]:"fire-core",[zF]:"fire-core-compat",[HF]:"fire-analytics",[qF]:"fire-analytics-compat",[WF]:"fire-app-check",[GF]:"fire-app-check-compat",[KF]:"fire-auth",[YF]:"fire-auth-compat",[$F]:"fire-rtdb",[XF]:"fire-data-connect",[QF]:"fire-rtdb-compat",[JF]:"fire-fn",[ZF]:"fire-fn-compat",[tB]:"fire-iid",[eB]:"fire-iid-compat",[nB]:"fire-fcm",[iB]:"fire-fcm-compat",[rB]:"fire-perf",[sB]:"fire-perf-compat",[aB]:"fire-rc",[oB]:"fire-rc-compat",[lB]:"fire-gcs",[uB]:"fire-gcs-compat",[cB]:"fire-fst",[fB]:"fire-fst-compat",[hB]:"fire-vertex","fire-js":"fire-js",[dB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Map,gB=new Map,Wv=new Map;function z4(e,t){try{e.container.addComponent(t)}catch(n){Do.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Hh(e){const t=e.name;if(Wv.has(t))return Do.debug(`There were multiple attempts to register component ${t}.`),!1;Wv.set(t,e);for(const n of l1.values())z4(n,e);for(const n of gB.values())z4(n,e);return!0}function ub(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ps(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ql=new Rp("app","Firebase",yB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Zu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ql.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=pB;function PR(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Gv,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw ql.create("bad-app-name",{appName:String(r)});if(n||(n=xR()),!n)throw ql.create("no-options");const s=l1.get(r);if(s){if(Ju(n,s.options)&&Ju(i,s.config))return s;throw ql.create("duplicate-app",{appName:r})}const a=new EF(r);for(const l of Wv.values())a.addComponent(l);const o=new vB(n,i,a);return l1.set(r,o),o}function DR(e=Gv){const t=l1.get(e);if(!t&&e===Gv&&xR())return PR();if(!t)throw ql.create("no-app",{appName:e});return t}function Hl(e,t,n){let i=mB[e]??e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${t}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Do.warn(a.join(" "));return}Hh(new Zu(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B="firebase-heartbeat-database",bB=1,ep="firebase-heartbeat-store";let q2=null;function kR(){return q2||(q2=VF(_B,bB,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ep)}catch(n){console.warn(n)}}}}).catch(e=>{throw ql.create("idb-open",{originalErrorMessage:e.message})})),q2}async function wB(e){try{const n=(await kR()).transaction(ep),i=await n.objectStore(ep).get(OR(e));return await n.done,i}catch(t){if(t instanceof Fo)Do.warn(t.message);else{const n=ql.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Do.warn(n.message)}}}async function q4(e,t){try{const i=(await kR()).transaction(ep,"readwrite");await i.objectStore(ep).put(t,OR(e)),await i.done}catch(n){if(n instanceof Fo)Do.warn(n.message);else{const i=ql.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Do.warn(i.message)}}}function OR(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=1024,SB=30;class EB{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xB(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=H4();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>SB){const a=NB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Do.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=H4(),{heartbeatsToSend:i,unsentEntries:r}=TB(this._heartbeatsCache.heartbeats),s=o1(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Do.warn(n),""}}}function H4(){return new Date().toISOString().substring(0,10)}function TB(e,t=AB){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),G4(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),G4(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class xB{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fF()?dF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return q4(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return q4(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function G4(e){return o1(JSON.stringify({version:2,heartbeats:e})).length}function NB(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(e){Hh(new Zu("platform-logger",t=>new BF(t),"PRIVATE")),Hh(new Zu("heartbeat",t=>new EB(t),"PRIVATE")),Hl(Hv,U4,e),Hl(Hv,U4,"esm2020"),Hl("fire-js","")}CB("");var RB="firebase",IB="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hl(RB,IB,"app");function MR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LB=MR,VR=new Rp("auth","Firebase",MR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new ob("@firebase/auth");function PB(e,...t){u1.logLevel<=ze.WARN&&u1.warn(`Auth (${ff}): ${e}`,...t)}function lg(e,...t){u1.logLevel<=ze.ERROR&&u1.error(`Auth (${ff}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(e,...t){throw cb(e,...t)}function Va(e,...t){return cb(e,...t)}function jR(e,t,n){const i={...LB(),[t]:n};return new Rp("auth","Firebase",i).create(t,{appName:e.name})}function xo(e){return jR(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cb(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return VR.create(e,...t)}function me(e,t,...n){if(!e)throw cb(t,...n)}function bo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw lg(t),new Error(t)}function ko(e,t){e||bo(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function DB(){return W4()==="http:"||W4()==="https:"}function W4(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DB()||lF()||"connection"in navigator)?navigator.onLine:!0}function OB(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,n){this.shortDelay=t,this.longDelay=n,ko(n>t,"Short delay should be less than long delay!"),this.isMobile=sF()||uF()}get(){return kB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(e,t){ko(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jB=new Lp(3e4,6e4);function cu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Bo(e,t,n,i,r={}){return BR(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const o=Ip({key:e.config.apiKey,...a}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:l,...s};return oF()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&hf(e.emulatorConfig.host)&&(u.credentials="include"),FR.fetch()(await UR(e,e.config.apiHost,n,o),u)})}async function BR(e,t,n){e._canInitEmulator=!1;const i={...MB,...t};try{const r=new BB(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw xm(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xm(e,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw xm(e,"email-already-in-use",a);if(l==="USER_DISABLED")throw xm(e,"user-disabled",a);const c=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw jR(e,c,u);oa(e,c)}}catch(r){if(r instanceof Fo)throw r;oa(e,"network-request-failed",{message:String(r)})}}async function Pp(e,t,n,i,r={}){const s=await Bo(e,t,n,i,r);return"mfaPendingCredential"in s&&oa(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function UR(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?hb(e.config,r):`${e.config.apiScheme}://${r}`;return VB.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function FB(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Va(this.auth,"network-request-failed")),jB.get())})}}function xm(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Va(e,t,i);return r.customData._tokenResponse=n,r}function K4(e){return e!==void 0&&e.enterprise!==void 0}class UB{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return FB(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zB(e,t){return Bo(e,"GET","/v2/recaptchaConfig",cu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qB(e,t){return Bo(e,"POST","/v1/accounts:delete",t)}async function c1(e,t){return Bo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function HB(e,t=!1){const n=Gi(e),i=await n.getIdToken(t),r=fb(i);me(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Nd(H2(r.auth_time)),issuedAtTime:Nd(H2(r.iat)),expirationTime:Nd(H2(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function H2(e){return Number(e)*1e3}function fb(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return lg("JWT malformed, contained fewer than 3 sections"),null;try{const r=ER(n);return r?JSON.parse(r):(lg("Failed to decode base64 JWT payload"),null)}catch(r){return lg("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Y4(e){const t=fb(e);return me(t,"internal-error"),me(typeof t.exp<"u","internal-error"),me(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Fo&&GB(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function GB({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nd(this.lastLoginAt),this.creationTime=Nd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(e){var p;const t=e.auth,n=await e.getIdToken(),i=await Gh(e,c1(t,{idToken:n}));me(i==null?void 0:i.users.length,t,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const s=(p=r.providerUserInfo)!=null&&p.length?zR(r.providerUserInfo):[],a=YB(e.providerData,s),o=e.isAnonymous,l=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Yv(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(e,c)}async function KB(e){const t=Gi(e);await h1(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function YB(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function zR(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $B(e,t){const n=await BR(e,{},async()=>{const i=Ip({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await UR(e,r,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:i};return e.emulatorConfig&&hf(e.emulatorConfig.host)&&(l.credentials="include"),FR.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XB(e,t){return Bo(e,"POST","/v2/accounts:revokeToken",cu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){me(t.idToken,"internal-error"),me(typeof t.idToken<"u","internal-error"),me(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Y4(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){me(t.length!==0,"internal-error");const n=Y4(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await $B(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new wh;return i&&(me(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(me(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(me(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new wh,this.toJSON())}_performRefresh(){return bo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(e,t){me(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class na{constructor({uid:t,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new WB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Yv(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await Gh(this,this.stsTokenManager.getToken(this.auth,t));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return HB(this,t)}reload(){return KB(this)}_assign(t){this!==t&&(me(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new na({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await h1(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ps(this.auth.app))return Promise.reject(xo(this.auth));const t=await this.getIdToken();return await Gh(this,qB(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:d,providerData:w,stsTokenManager:x}=n;me(p&&x,t,"internal-error");const I=wh.fromJSON(this.name,x);me(typeof p=="string",t,"internal-error"),cl(i,t.name),cl(r,t.name),me(typeof g=="boolean",t,"internal-error"),me(typeof d=="boolean",t,"internal-error"),cl(s,t.name),cl(a,t.name),cl(o,t.name),cl(l,t.name),cl(u,t.name),cl(c,t.name);const _=new na({uid:p,auth:t,email:r,emailVerified:g,displayName:i,isAnonymous:d,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:I,createdAt:u,lastLoginAt:c});return w&&Array.isArray(w)&&(_.providerData=w.map(E=>({...E}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(t,n,i=!1){const r=new wh;r.updateFromServerResponse(n);const s=new na({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await h1(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];me(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?zR(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),o=new wh;o.updateFromIdToken(i);const l=new na({uid:r.localId,auth:t,stsTokenManager:o,isAnonymous:a}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Yv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=new Map;function wo(e){ko(e instanceof Function,"Expected a class definition");let t=$4.get(e);return t?(ko(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,$4.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}qR.type="NONE";const X4=qR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(e,t,n){return`firebase:${e}:${t}:${n}`}class Ah{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=ug(this.userKey,r.apiKey,s),this.fullPersistenceKey=ug("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await c1(this.auth,{idToken:t}).catch(()=>{});return n?na._fromGetAccountInfoResponse(this.auth,n,t):null}return na._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ah(wo(X4),t,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||wo(X4);const a=ug(i,t.config.apiKey,t.name);let o=null;for(const u of n)try{const c=await u._get(a);if(c){let p;if(typeof c=="string"){const g=await c1(t,{idToken:c}).catch(()=>{});if(!g)break;p=await na._fromGetAccountInfoResponse(t,g,c)}else p=na._fromJSON(t,c);u!==s&&(o=p),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ah(s,t,i):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Ah(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(KR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($R(t))return"Blackberry";if(XR(t))return"Webos";if(GR(t))return"Safari";if((t.includes("chrome/")||WR(t))&&!t.includes("edge/"))return"Chrome";if(YR(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function HR(e=sr()){return/firefox\//i.test(e)}function GR(e=sr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function WR(e=sr()){return/crios\//i.test(e)}function KR(e=sr()){return/iemobile/i.test(e)}function YR(e=sr()){return/android/i.test(e)}function $R(e=sr()){return/blackberry/i.test(e)}function XR(e=sr()){return/webos/i.test(e)}function db(e=sr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function QB(e=sr()){var t;return db(e)&&!!((t=window.navigator)!=null&&t.standalone)}function JB(){return cF()&&document.documentMode===10}function QR(e=sr()){return db(e)||YR(e)||XR(e)||$R(e)||/windows phone/i.test(e)||KR(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(e,t=[]){let n;switch(e){case"Browser":n=Q4(sr());break;case"Worker":n=`${Q4(sr())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ff}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,o)=>{try{const l=t(s);a(l)}catch(l){o(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(e,t={}){return Bo(e,"GET","/v2/passwordPolicy",cu(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=6;class nU{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J4(this),this.idTokenSubscription=new J4(this),this.beforeStateQueue=new ZB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=wo(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Ah.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await c1(this,{idToken:t}),i=await na._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(Ps(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await h1(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=OB()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ps(this.app))return Promise.reject(xo(this));const n=t?Gi(t):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&me(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ps(this.app)?Promise.reject(xo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ps(this.app)?Promise.reject(xo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wo(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tU(this),n=new nU(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Rp("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await XB(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&wo(t)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await Ah.create(this,[wo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,i,r);return()=>{a=!0,l()}}else{const l=t.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=JR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(Ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&PB(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function fc(e){return Gi(e)}class J4{constructor(t){this.auth=t,this.observer=null,this.addObserver=vF(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rU(e){i0=e}function ZR(e){return i0.loadJS(e)}function sU(){return i0.recaptchaEnterpriseScript}function aU(){return i0.gapiScript}function oU(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class lU{constructor(){this.enterprise=new uU}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class uU{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const cU="recaptcha-enterprise",tI="NO_RECAPTCHA";class hU{constructor(t){this.type=cU,this.auth=fc(t)}async verify(t="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{zB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new UB(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function r(s,a,o){const l=window.grecaptcha;K4(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{a(u)}).catch(()=>{a(tI)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lU().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(o=>{if(!n&&K4(window.grecaptcha))r(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sU();l.length!==0&&(l+=o),ZR(l).then(()=>{r(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function Z4(e,t,n,i=!1,r=!1){const s=new hU(e);let a;if(r)a=tI;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function $v(e,t,n,i,r){var s;if((s=e._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Z4(e,t,n,n==="getOobCode");return i(e,a)}else return i(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Z4(e,t,n,n==="getOobCode");return i(e,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(e,t){const n=ub(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Ju(s,t??{}))return r;oa(r,"already-initialized")}return n.initialize({options:t})}function dU(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(wo);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function pU(e,t,n){const i=fc(e);me(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=eI(t),{host:a,port:o}=mU(t),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},c=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){me(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),me(Ju(u,i.config.emulator)&&Ju(c,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=c,i.settings.appVerificationDisabledForTesting=!0,hf(a)?(CR(`${s}//${a}${l}`),RR("Auth",!0)):gU()}function eI(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function mU(e){const t=eI(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:t3(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:t3(a)}}}function t3(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function gU(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return bo("not implemented")}_getIdTokenResponse(t){return bo("not implemented")}_linkToIdToken(t,n){return bo("not implemented")}_getReauthenticationResolver(t){return bo("not implemented")}}async function yU(e,t){return Bo(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(e,t){return Pp(e,"POST","/v1/accounts:signInWithPassword",cu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(e,t){return Pp(e,"POST","/v1/accounts:signInWithEmailLink",cu(e,t))}async function bU(e,t){return Pp(e,"POST","/v1/accounts:signInWithEmailLink",cu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends pb{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new np(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new np(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $v(t,n,"signInWithPassword",vU);case"emailLink":return _U(t,{email:this._email,oobCode:this._password});default:oa(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $v(t,i,"signUpPassword",yU);case"emailLink":return bU(t,{idToken:n,email:this._email,oobCode:this._password});default:oa(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(e,t){return Pp(e,"POST","/v1/accounts:signInWithIdp",cu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="http://localhost";class tc extends pb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new tc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):oa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new tc(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Sh(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Sh(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Sh(t,n)}buildRequest(){const t={requestUri:wU,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ip(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SU(e){const t=nd(id(e)).link,n=t?nd(id(t)).deep_link_id:null,i=nd(id(e)).deep_link_id;return(i?nd(id(i)).link:null)||i||n||t||e}class mb{constructor(t){const n=nd(id(t)),i=n.apiKey??null,r=n.oobCode??null,s=AU(n.mode??null);me(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=SU(t);try{return new mb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this.providerId=df.PROVIDER_ID}static credential(t,n){return np._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=mb.parseLink(n);return me(i,"argument-error"),np._fromEmailAndCode(t,i.code,i.tenantId)}}df.PROVIDER_ID="password";df.EMAIL_PASSWORD_SIGN_IN_METHOD="password";df.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends nI{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends Dp{constructor(){super("facebook.com")}static credential(t){return tc._fromParams({providerId:wl.PROVIDER_ID,signInMethod:wl.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wl.credentialFromTaggedObject(t)}static credentialFromError(t){return wl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wl.credential(t.oauthAccessToken)}catch{return null}}}wl.FACEBOOK_SIGN_IN_METHOD="facebook.com";wl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends Dp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return tc._fromParams({providerId:Al.PROVIDER_ID,signInMethod:Al.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Al.credentialFromTaggedObject(t)}static credentialFromError(t){return Al.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Al.credential(n,i)}catch{return null}}}Al.GOOGLE_SIGN_IN_METHOD="google.com";Al.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends Dp{constructor(){super("github.com")}static credential(t){return tc._fromParams({providerId:Sl.PROVIDER_ID,signInMethod:Sl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Sl.credentialFromTaggedObject(t)}static credentialFromError(t){return Sl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Sl.credential(t.oauthAccessToken)}catch{return null}}}Sl.GITHUB_SIGN_IN_METHOD="github.com";Sl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends Dp{constructor(){super("twitter.com")}static credential(t,n){return tc._fromParams({providerId:El.PROVIDER_ID,signInMethod:El.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return El.credentialFromTaggedObject(t)}static credentialFromError(t){return El.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return El.credential(n,i)}catch{return null}}}El.TWITTER_SIGN_IN_METHOD="twitter.com";El.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(e,t){return Pp(e,"POST","/v1/accounts:signUp",cu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await na._fromIdTokenResponse(t,i,r),a=e3(i);return new ec({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=e3(i);return new ec({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function e3(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends Fo{constructor(t,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,f1.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new f1(t,n,i,r)}}function iI(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?f1._fromErrorAndOperation(e,s,t,i):s})}async function TU(e,t,n=!1){const i=await Gh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ec._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(e,t,n=!1){const{auth:i}=e;if(Ps(i.app))return Promise.reject(xo(i));const r="reauthenticate";try{const s=await Gh(e,iI(i,r,t,e),n);me(s.idToken,i,"internal-error");const a=fb(s.idToken);me(a,i,"internal-error");const{sub:o}=a;return me(e.uid===o,i,"user-mismatch"),ec._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&oa(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(e,t,n=!1){if(Ps(e.app))return Promise.reject(xo(e));const i="signIn",r=await iI(e,i,t),s=await ec._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function NU(e,t){return rI(fc(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(e){const t=fc(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function CU(e,t,n){if(Ps(e.app))return Promise.reject(xo(e));const i=fc(e),a=await $v(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&sI(e),l}),o=await ec._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function RU(e,t,n){return Ps(e.app)?Promise.reject(xo(e)):NU(Gi(e),df.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&sI(e),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IU(e,t){return Bo(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=Gi(e),s={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},a=await Gh(i,IU(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function PU(e,t,n,i){return Gi(e).onIdTokenChanged(t,n,i)}function DU(e,t,n){return Gi(e).beforeAuthStateChanged(t,n)}function kU(e,t,n,i){return Gi(e).onAuthStateChanged(t,n,i)}function OU(e){return Gi(e).signOut()}const d1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(d1,"1"),this.storage.removeItem(d1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=1e3,VU=10;class oI extends aI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);JB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,VU):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},MU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}oI.type="LOCAL";const jU=oI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI extends aI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}lI.type="SESSION";const uI=lI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new r0(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await FU(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}r0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=gb("",20);r.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const g=p;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(){return window}function UU(e){ja().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){return typeof ja().WorkerGlobalScope<"u"&&typeof ja().importScripts=="function"}async function zU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qU(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function HU(){return cI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebaseLocalStorageDb",GU=1,p1="firebaseLocalStorage",fI="fbase_key";class kp{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function s0(e,t){return e.transaction([p1],t?"readwrite":"readonly").objectStore(p1)}function WU(){const e=indexedDB.deleteDatabase(hI);return new kp(e).toPromise()}function Xv(){const e=indexedDB.open(hI,GU);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(p1,{keyPath:fI})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(p1)?t(i):(i.close(),await WU(),t(await Xv()))})})}async function n3(e,t,n){const i=s0(e,!0).put({[fI]:t,value:n});return new kp(i).toPromise()}async function KU(e,t){const n=s0(e,!1).get(t),i=await new kp(n).toPromise();return i===void 0?null:i.value}function i3(e,t){const n=s0(e,!0).delete(t);return new kp(n).toPromise()}const YU=800,$U=3;class dI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xv(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>$U)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=r0._getInstance(HU()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await zU(),!this.activeServiceWorker)return;this.sender=new BU(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xv();return await n3(t,d1,"1"),await i3(t,d1),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>n3(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>KU(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>i3(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=s0(r,!1).getAll();return new kp(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dI.type="LOCAL";const XU=dI;new Lp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(e,t){return t?wo(t):(me(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends pb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Sh(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Sh(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Sh(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function JU(e){return rI(e.auth,new yb(e),e.bypassAuthState)}function ZU(e){const{auth:t,user:n}=e;return me(n,t,"internal-error"),xU(n,new yb(e),e.bypassAuthState)}async function tz(e){const{auth:t,user:n}=e;return me(n,t,"internal-error"),TU(n,new yb(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:o}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JU;case"linkViaPopup":case"linkViaRedirect":return tz;case"reauthViaPopup":case"reauthViaRedirect":return ZU;default:oa(this.auth,"internal-error")}}resolve(t){ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=new Lp(2e3,1e4);class hh extends pI{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,hh.currentPopupAction&&hh.currentPopupAction.cancel(),hh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return me(t,this.auth,"internal-error"),t}async onExecution(){ko(this.filter.length===1,"Popup operations only handle one event");const t=gb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Va(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Va(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hh.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Va(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ez.get())};t()}}hh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz="pendingRedirect",cg=new Map;class iz extends pI{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=cg.get(this.auth._key());if(!t){try{const i=await rz(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}cg.set(this.auth._key(),t)}return this.bypassAuthState||cg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rz(e,t){const n=oz(t),i=az(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function sz(e,t){cg.set(e._key(),t)}function az(e){return wo(e._redirectPersistence)}function oz(e){return ug(nz,e.config.apiKey,e.name)}async function lz(e,t,n=!1){if(Ps(e.app))return Promise.reject(xo(e));const i=fc(e),r=QU(i,t),a=await new iz(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=10*60*1e3;class cz{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hz(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!mI(t)){const r=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Va(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=uz&&this.cachedEventUids.clear(),this.cachedEventUids.has(r3(t))}saveEventToCache(t){this.cachedEventUids.add(r3(t)),this.lastProcessedEventTime=Date.now()}}function r3(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function mI({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function hz(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mI(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(e,t={}){return Bo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pz=/^https?/;async function mz(e){if(e.config.emulator)return;const{authorizedDomains:t}=await fz(e);for(const n of t)try{if(gz(n))return}catch{}oa(e,"unauthorized-domain")}function gz(e){const t=Kv(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!pz.test(n))return!1;if(dz.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=new Lp(3e4,6e4);function s3(){const e=ja().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function vz(e){return new Promise((t,n)=>{var r,s,a;function i(){s3(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{s3(),n(Va(e,"network-request-failed"))},timeout:yz.get()})}if((s=(r=ja().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((a=ja().gapi)!=null&&a.load)i();else{const o=oU("iframefcb");return ja()[o]=()=>{gapi.load?i():n(Va(e,"network-request-failed"))},ZR(`${aU()}?onload=${o}`).catch(l=>n(l))}}).catch(t=>{throw hg=null,t})}let hg=null;function _z(e){return hg=hg||vz(e),hg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=new Lp(5e3,15e3),wz="__/auth/iframe",Az="emulator/auth/iframe",Sz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ez=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tz(e){const t=e.config;me(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?hb(t,Az):`https://${e.config.authDomain}/${wz}`,i={apiKey:t.apiKey,appName:e.name,v:ff},r=Ez.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Ip(i).slice(1)}`}async function xz(e){const t=await _z(e),n=ja().gapi;return me(n,e,"internal-error"),t.open({where:document.body,url:Tz(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sz,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Va(e,"network-request-failed"),o=ja().setTimeout(()=>{s(a)},bz.get());function l(){ja().clearTimeout(o),r(i)}i.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cz=500,Rz=600,Iz="_blank",Lz="http://localhost";class a3{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Pz(e,t,n,i=Cz,r=Rz){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l={...Nz,width:i.toString(),height:r.toString(),top:s,left:a},u=sr().toLowerCase();n&&(o=WR(u)?Iz:n),HR(u)&&(t=t||Lz,l.scrollbars="yes");const c=Object.entries(l).reduce((g,[d,w])=>`${g}${d}=${w},`,"");if(QB(u)&&o!=="_self")return Dz(t||"",o),new a3(null);const p=window.open(t||"",o,c);me(p,e,"popup-blocked");try{p.focus()}catch{}return new a3(p)}function Dz(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz="__/auth/handler",Oz="emulator/auth/handler",Mz=encodeURIComponent("fac");async function o3(e,t,n,i,r,s){me(e.config.authDomain,e,"auth-domain-config-required"),me(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:ff,eventId:r};if(t instanceof nI){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",yF(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,p]of Object.entries({}))a[c]=p}if(t instanceof Dp){const c=t.getScopes().filter(p=>p!=="");c.length>0&&(a.scopes=c.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await e._getAppCheckToken(),u=l?`#${Mz}=${encodeURIComponent(l)}`:"";return`${Vz(e)}?${Ip(o).slice(1)}${u}`}function Vz({config:e}){return e.emulator?hb(e,Oz):`https://${e.authDomain}/${kz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="webStorageSupport";class jz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uI,this._completeRedirectFn=lz,this._overrideRedirectResult=sz}async _openPopup(t,n,i,r){var a;ko((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await o3(t,n,i,Kv(),r);return Pz(t,s,gb())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await o3(t,n,i,Kv(),r);return UU(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ko(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await xz(t),i=new cz(t);return n.register("authEvent",r=>(me(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(G2,{type:G2},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[G2];s!==void 0&&n(!!s),oa(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mz(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return QR()||GR()||db()}}const Fz=jz;var l3="@firebase/auth",u3="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zz(e){Hh(new Zu("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;me(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JR(e)},u=new iU(i,r,s,l);return dU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Hh(new Zu("auth-internal",t=>{const n=fc(t.getProvider("auth").getImmediate());return(i=>new Bz(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hl(l3,u3,Uz(e)),Hl(l3,u3,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=5*60,Hz=NR("authIdTokenMaxAge")||qz;let c3=null;const Gz=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Hz)return;const r=n==null?void 0:n.token;c3!==r&&(c3=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Wz(e=DR()){const t=ub(e,"auth");if(t.isInitialized())return t.getImmediate();const n=fU(e,{popupRedirectResolver:Fz,persistence:[XU,jU,uI]}),i=NR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=Gz(s.toString());DU(n,a,()=>a(n.currentUser)),PU(n,o=>a(o))}}const r=TR("auth");return r&&pU(n,`http://${r}`),n}function Kz(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}rU({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=Va("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",Kz().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zz("Browser");var h3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gl,gI;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,N){function T(){}T.prototype=N.prototype,M.F=N.prototype,M.prototype=new T,M.prototype.constructor=M,M.D=function(V,A,L){for(var P=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)P[Q-2]=arguments[Q];return N.prototype[A].apply(V,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,N,T){T||(T=0);const V=Array(16);if(typeof N=="string")for(var A=0;A<16;++A)V[A]=N.charCodeAt(T++)|N.charCodeAt(T++)<<8|N.charCodeAt(T++)<<16|N.charCodeAt(T++)<<24;else for(A=0;A<16;++A)V[A]=N[T++]|N[T++]<<8|N[T++]<<16|N[T++]<<24;N=M.g[0],T=M.g[1],A=M.g[2];let L=M.g[3],P;P=N+(L^T&(A^L))+V[0]+3614090360&4294967295,N=T+(P<<7&4294967295|P>>>25),P=L+(A^N&(T^A))+V[1]+3905402710&4294967295,L=N+(P<<12&4294967295|P>>>20),P=A+(T^L&(N^T))+V[2]+606105819&4294967295,A=L+(P<<17&4294967295|P>>>15),P=T+(N^A&(L^N))+V[3]+3250441966&4294967295,T=A+(P<<22&4294967295|P>>>10),P=N+(L^T&(A^L))+V[4]+4118548399&4294967295,N=T+(P<<7&4294967295|P>>>25),P=L+(A^N&(T^A))+V[5]+1200080426&4294967295,L=N+(P<<12&4294967295|P>>>20),P=A+(T^L&(N^T))+V[6]+2821735955&4294967295,A=L+(P<<17&4294967295|P>>>15),P=T+(N^A&(L^N))+V[7]+4249261313&4294967295,T=A+(P<<22&4294967295|P>>>10),P=N+(L^T&(A^L))+V[8]+1770035416&4294967295,N=T+(P<<7&4294967295|P>>>25),P=L+(A^N&(T^A))+V[9]+2336552879&4294967295,L=N+(P<<12&4294967295|P>>>20),P=A+(T^L&(N^T))+V[10]+4294925233&4294967295,A=L+(P<<17&4294967295|P>>>15),P=T+(N^A&(L^N))+V[11]+2304563134&4294967295,T=A+(P<<22&4294967295|P>>>10),P=N+(L^T&(A^L))+V[12]+1804603682&4294967295,N=T+(P<<7&4294967295|P>>>25),P=L+(A^N&(T^A))+V[13]+4254626195&4294967295,L=N+(P<<12&4294967295|P>>>20),P=A+(T^L&(N^T))+V[14]+2792965006&4294967295,A=L+(P<<17&4294967295|P>>>15),P=T+(N^A&(L^N))+V[15]+1236535329&4294967295,T=A+(P<<22&4294967295|P>>>10),P=N+(A^L&(T^A))+V[1]+4129170786&4294967295,N=T+(P<<5&4294967295|P>>>27),P=L+(T^A&(N^T))+V[6]+3225465664&4294967295,L=N+(P<<9&4294967295|P>>>23),P=A+(N^T&(L^N))+V[11]+643717713&4294967295,A=L+(P<<14&4294967295|P>>>18),P=T+(L^N&(A^L))+V[0]+3921069994&4294967295,T=A+(P<<20&4294967295|P>>>12),P=N+(A^L&(T^A))+V[5]+3593408605&4294967295,N=T+(P<<5&4294967295|P>>>27),P=L+(T^A&(N^T))+V[10]+38016083&4294967295,L=N+(P<<9&4294967295|P>>>23),P=A+(N^T&(L^N))+V[15]+3634488961&4294967295,A=L+(P<<14&4294967295|P>>>18),P=T+(L^N&(A^L))+V[4]+3889429448&4294967295,T=A+(P<<20&4294967295|P>>>12),P=N+(A^L&(T^A))+V[9]+568446438&4294967295,N=T+(P<<5&4294967295|P>>>27),P=L+(T^A&(N^T))+V[14]+3275163606&4294967295,L=N+(P<<9&4294967295|P>>>23),P=A+(N^T&(L^N))+V[3]+4107603335&4294967295,A=L+(P<<14&4294967295|P>>>18),P=T+(L^N&(A^L))+V[8]+1163531501&4294967295,T=A+(P<<20&4294967295|P>>>12),P=N+(A^L&(T^A))+V[13]+2850285829&4294967295,N=T+(P<<5&4294967295|P>>>27),P=L+(T^A&(N^T))+V[2]+4243563512&4294967295,L=N+(P<<9&4294967295|P>>>23),P=A+(N^T&(L^N))+V[7]+1735328473&4294967295,A=L+(P<<14&4294967295|P>>>18),P=T+(L^N&(A^L))+V[12]+2368359562&4294967295,T=A+(P<<20&4294967295|P>>>12),P=N+(T^A^L)+V[5]+4294588738&4294967295,N=T+(P<<4&4294967295|P>>>28),P=L+(N^T^A)+V[8]+2272392833&4294967295,L=N+(P<<11&4294967295|P>>>21),P=A+(L^N^T)+V[11]+1839030562&4294967295,A=L+(P<<16&4294967295|P>>>16),P=T+(A^L^N)+V[14]+4259657740&4294967295,T=A+(P<<23&4294967295|P>>>9),P=N+(T^A^L)+V[1]+2763975236&4294967295,N=T+(P<<4&4294967295|P>>>28),P=L+(N^T^A)+V[4]+1272893353&4294967295,L=N+(P<<11&4294967295|P>>>21),P=A+(L^N^T)+V[7]+4139469664&4294967295,A=L+(P<<16&4294967295|P>>>16),P=T+(A^L^N)+V[10]+3200236656&4294967295,T=A+(P<<23&4294967295|P>>>9),P=N+(T^A^L)+V[13]+681279174&4294967295,N=T+(P<<4&4294967295|P>>>28),P=L+(N^T^A)+V[0]+3936430074&4294967295,L=N+(P<<11&4294967295|P>>>21),P=A+(L^N^T)+V[3]+3572445317&4294967295,A=L+(P<<16&4294967295|P>>>16),P=T+(A^L^N)+V[6]+76029189&4294967295,T=A+(P<<23&4294967295|P>>>9),P=N+(T^A^L)+V[9]+3654602809&4294967295,N=T+(P<<4&4294967295|P>>>28),P=L+(N^T^A)+V[12]+3873151461&4294967295,L=N+(P<<11&4294967295|P>>>21),P=A+(L^N^T)+V[15]+530742520&4294967295,A=L+(P<<16&4294967295|P>>>16),P=T+(A^L^N)+V[2]+3299628645&4294967295,T=A+(P<<23&4294967295|P>>>9),P=N+(A^(T|~L))+V[0]+4096336452&4294967295,N=T+(P<<6&4294967295|P>>>26),P=L+(T^(N|~A))+V[7]+1126891415&4294967295,L=N+(P<<10&4294967295|P>>>22),P=A+(N^(L|~T))+V[14]+2878612391&4294967295,A=L+(P<<15&4294967295|P>>>17),P=T+(L^(A|~N))+V[5]+4237533241&4294967295,T=A+(P<<21&4294967295|P>>>11),P=N+(A^(T|~L))+V[12]+1700485571&4294967295,N=T+(P<<6&4294967295|P>>>26),P=L+(T^(N|~A))+V[3]+2399980690&4294967295,L=N+(P<<10&4294967295|P>>>22),P=A+(N^(L|~T))+V[10]+4293915773&4294967295,A=L+(P<<15&4294967295|P>>>17),P=T+(L^(A|~N))+V[1]+2240044497&4294967295,T=A+(P<<21&4294967295|P>>>11),P=N+(A^(T|~L))+V[8]+1873313359&4294967295,N=T+(P<<6&4294967295|P>>>26),P=L+(T^(N|~A))+V[15]+4264355552&4294967295,L=N+(P<<10&4294967295|P>>>22),P=A+(N^(L|~T))+V[6]+2734768916&4294967295,A=L+(P<<15&4294967295|P>>>17),P=T+(L^(A|~N))+V[13]+1309151649&4294967295,T=A+(P<<21&4294967295|P>>>11),P=N+(A^(T|~L))+V[4]+4149444226&4294967295,N=T+(P<<6&4294967295|P>>>26),P=L+(T^(N|~A))+V[11]+3174756917&4294967295,L=N+(P<<10&4294967295|P>>>22),P=A+(N^(L|~T))+V[2]+718787259&4294967295,A=L+(P<<15&4294967295|P>>>17),P=T+(L^(A|~N))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+N&4294967295,M.g[1]=M.g[1]+(A+(P<<21&4294967295|P>>>11))&4294967295,M.g[2]=M.g[2]+A&4294967295,M.g[3]=M.g[3]+L&4294967295}i.prototype.v=function(M,N){N===void 0&&(N=M.length);const T=N-this.blockSize,V=this.C;let A=this.h,L=0;for(;L<N;){if(A==0)for(;L<=T;)r(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<N;)if(V[A++]=M.charCodeAt(L++),A==this.blockSize){r(this,V),A=0;break}}else for(;L<N;)if(V[A++]=M[L++],A==this.blockSize){r(this,V),A=0;break}}this.h=A,this.o+=N},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var N=1;N<M.length-8;++N)M[N]=0;N=this.o*8;for(var T=M.length-8;T<M.length;++T)M[T]=N&255,N/=256;for(this.v(M),M=Array(16),N=0,T=0;T<4;++T)for(let V=0;V<32;V+=8)M[N++]=this.g[T]>>>V&255;return M};function s(M,N){var T=o;return Object.prototype.hasOwnProperty.call(T,M)?T[M]:T[M]=N(M)}function a(M,N){this.h=N;const T=[];let V=!0;for(let A=M.length-1;A>=0;A--){const L=M[A]|0;V&&L==N||(T[A]=L,V=!1)}this.g=T}var o={};function l(M){return-128<=M&&M<128?s(M,function(N){return new a([N|0],N<0?-1:0)}):new a([M|0],M<0?-1:0)}function u(M){if(isNaN(M)||!isFinite(M))return p;if(M<0)return I(u(-M));const N=[];let T=1;for(let V=0;M>=T;V++)N[V]=M/T|0,T*=4294967296;return new a(N,0)}function c(M,N){if(M.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(M.charAt(0)=="-")return I(c(M.substring(1),N));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=u(Math.pow(N,8));let V=p;for(let L=0;L<M.length;L+=8){var A=Math.min(8,M.length-L);const P=parseInt(M.substring(L,L+A),N);A<8?(A=u(Math.pow(N,A)),V=V.j(A).add(u(P))):(V=V.j(T),V=V.add(u(P)))}return V}var p=l(0),g=l(1),d=l(16777216);e=a.prototype,e.m=function(){if(x(this))return-I(this).m();let M=0,N=1;for(let T=0;T<this.g.length;T++){const V=this.i(T);M+=(V>=0?V:4294967296+V)*N,N*=4294967296}return M},e.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(w(this))return"0";if(x(this))return"-"+I(this).toString(M);const N=u(Math.pow(M,6));var T=this;let V="";for(;;){const A=D(T,N).g;T=_(T,A.j(N));let L=((T.g.length>0?T.g[0]:T.h)>>>0).toString(M);if(T=A,w(T))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},e.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function w(M){if(M.h!=0)return!1;for(let N=0;N<M.g.length;N++)if(M.g[N]!=0)return!1;return!0}function x(M){return M.h==-1}e.l=function(M){return M=_(this,M),x(M)?-1:w(M)?0:1};function I(M){const N=M.g.length,T=[];for(let V=0;V<N;V++)T[V]=~M.g[V];return new a(T,~M.h).add(g)}e.abs=function(){return x(this)?I(this):this},e.add=function(M){const N=Math.max(this.g.length,M.g.length),T=[];let V=0;for(let A=0;A<=N;A++){let L=V+(this.i(A)&65535)+(M.i(A)&65535),P=(L>>>16)+(this.i(A)>>>16)+(M.i(A)>>>16);V=P>>>16,L&=65535,P&=65535,T[A]=P<<16|L}return new a(T,T[T.length-1]&-2147483648?-1:0)};function _(M,N){return M.add(I(N))}e.j=function(M){if(w(this)||w(M))return p;if(x(this))return x(M)?I(this).j(I(M)):I(I(this).j(M));if(x(M))return I(this.j(I(M)));if(this.l(d)<0&&M.l(d)<0)return u(this.m()*M.m());const N=this.g.length+M.g.length,T=[];for(var V=0;V<2*N;V++)T[V]=0;for(V=0;V<this.g.length;V++)for(let A=0;A<M.g.length;A++){const L=this.i(V)>>>16,P=this.i(V)&65535,Q=M.i(A)>>>16,pt=M.i(A)&65535;T[2*V+2*A]+=P*pt,E(T,2*V+2*A),T[2*V+2*A+1]+=L*pt,E(T,2*V+2*A+1),T[2*V+2*A+1]+=P*Q,E(T,2*V+2*A+1),T[2*V+2*A+2]+=L*Q,E(T,2*V+2*A+2)}for(M=0;M<N;M++)T[M]=T[2*M+1]<<16|T[2*M];for(M=N;M<2*N;M++)T[M]=0;return new a(T,0)};function E(M,N){for(;(M[N]&65535)!=M[N];)M[N+1]+=M[N]>>>16,M[N]&=65535,N++}function C(M,N){this.g=M,this.h=N}function D(M,N){if(w(N))throw Error("division by zero");if(w(M))return new C(p,p);if(x(M))return N=D(I(M),N),new C(I(N.g),I(N.h));if(x(N))return N=D(M,I(N)),new C(I(N.g),N.h);if(M.g.length>30){if(x(M)||x(N))throw Error("slowDivide_ only works with positive integers.");for(var T=g,V=N;V.l(M)<=0;)T=G(T),V=G(V);var A=et(T,1),L=et(V,1);for(V=et(V,2),T=et(T,2);!w(V);){var P=L.add(V);P.l(M)<=0&&(A=A.add(T),L=P),V=et(V,1),T=et(T,1)}return N=_(M,A.j(N)),new C(A,N)}for(A=p;M.l(N)>=0;){for(T=Math.max(1,Math.floor(M.m()/N.m())),V=Math.ceil(Math.log(T)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=u(T),P=L.j(N);x(P)||P.l(M)>0;)T-=V,L=u(T),P=L.j(N);w(L)&&(L=g),A=A.add(L),M=_(M,P)}return new C(A,M)}e.B=function(M){return D(this,M).h},e.and=function(M){const N=Math.max(this.g.length,M.g.length),T=[];for(let V=0;V<N;V++)T[V]=this.i(V)&M.i(V);return new a(T,this.h&M.h)},e.or=function(M){const N=Math.max(this.g.length,M.g.length),T=[];for(let V=0;V<N;V++)T[V]=this.i(V)|M.i(V);return new a(T,this.h|M.h)},e.xor=function(M){const N=Math.max(this.g.length,M.g.length),T=[];for(let V=0;V<N;V++)T[V]=this.i(V)^M.i(V);return new a(T,this.h^M.h)};function G(M){const N=M.g.length+1,T=[];for(let V=0;V<N;V++)T[V]=M.i(V)<<1|M.i(V-1)>>>31;return new a(T,M.h)}function et(M,N){const T=N>>5;N%=32;const V=M.g.length-T,A=[];for(let L=0;L<V;L++)A[L]=N>0?M.i(L+T)>>>N|M.i(L+T+1)<<32-N:M.i(L+T);return new a(A,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,gI=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,Gl=a}).apply(typeof h3<"u"?h3:typeof self<"u"?self:typeof window<"u"?window:{});var Nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yI,rd,vI,fg,Qv,_I,bI,wI;(function(){var e,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nm=="object"&&Nm];for(var b=0;b<f.length;++b){var R=f[b];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var i=n(this);function r(f,b){if(b)t:{var R=i;f=f.split(".");for(var z=0;z<f.length-1;z++){var lt=f[z];if(!(lt in R))break t;R=R[lt]}f=f[f.length-1],z=R[f],b=b(z),b!=z&&b!=null&&t(R,f,{configurable:!0,writable:!0,value:b})}}r("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(f){return f||function(b){var R=[],z;for(z in b)Object.prototype.hasOwnProperty.call(b,z)&&R.push([z,b[z]]);return R}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function l(f,b,R){return f.call.apply(f.bind,arguments)}function u(f,b,R){return u=l,u.apply(null,arguments)}function c(f,b){var R=Array.prototype.slice.call(arguments,1);return function(){var z=R.slice();return z.push.apply(z,arguments),f.apply(this,z)}}function p(f,b){function R(){}R.prototype=b.prototype,f.Z=b.prototype,f.prototype=new R,f.prototype.constructor=f,f.Ob=function(z,lt,mt){for(var Ot=Array(arguments.length-2),be=2;be<arguments.length;be++)Ot[be-2]=arguments[be];return b.prototype[lt].apply(z,Ot)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function d(f){const b=f.length;if(b>0){const R=Array(b);for(let z=0;z<b;z++)R[z]=f[z];return R}return[]}function w(f,b){for(let z=1;z<arguments.length;z++){const lt=arguments[z];var R=typeof lt;if(R=R!="object"?R:lt?Array.isArray(lt)?"array":R:"null",R=="array"||R=="object"&&typeof lt.length=="number"){R=f.length||0;const mt=lt.length||0;f.length=R+mt;for(let Ot=0;Ot<mt;Ot++)f[R+Ot]=lt[Ot]}else f.push(lt)}}class x{constructor(b,R){this.i=b,this.j=R,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function I(f){a.setTimeout(()=>{throw f},0)}function _(){var f=M;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class E{constructor(){this.h=this.g=null}add(b,R){const z=C.get();z.set(b,R),this.h?this.h.next=z:this.g=z,this.h=z}}var C=new x(()=>new D,f=>f.reset());class D{constructor(){this.next=this.g=this.h=null}set(b,R){this.h=b,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let G,et=!1,M=new E,N=()=>{const f=Promise.resolve(void 0);G=()=>{f.then(T)}};function T(){for(var f;f=_();){try{f.h.call(f.g)}catch(R){I(R)}var b=C;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}et=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const R=()=>{};a.addEventListener("test",R,b),a.removeEventListener("test",R,b)}catch{}return f}();function P(f){return/^[\s\xa0]*$/.test(f)}function Q(f,b){A.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}p(Q,A),Q.prototype.init=function(f,b){const R=this.type=f.type,z=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(R=="mouseover"?b=f.fromElement:R=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var pt="closure_listenable_"+(Math.random()*1e6|0),it=0;function at(f,b,R,z,lt){this.listener=f,this.proxy=null,this.src=b,this.type=R,this.capture=!!z,this.ha=lt,this.key=++it,this.da=this.fa=!1}function Z(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ft(f,b,R){for(const z in f)b.call(R,f[z],z,f)}function Nt(f,b){for(const R in f)b.call(void 0,f[R],R,f)}function Tt(f){const b={};for(const R in f)b[R]=f[R];return b}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(f,b){let R,z;for(let lt=1;lt<arguments.length;lt++){z=arguments[lt];for(R in z)f[R]=z[R];for(let mt=0;mt<F.length;mt++)R=F[mt],Object.prototype.hasOwnProperty.call(z,R)&&(f[R]=z[R])}}function X(f){this.src=f,this.g={},this.h=0}X.prototype.add=function(f,b,R,z,lt){const mt=f.toString();f=this.g[mt],f||(f=this.g[mt]=[],this.h++);const Ot=st(f,b,z,lt);return Ot>-1?(b=f[Ot],R||(b.fa=!1)):(b=new at(b,this.src,mt,!!z,lt),b.fa=R,f.push(b)),b};function tt(f,b){const R=b.type;if(R in f.g){var z=f.g[R],lt=Array.prototype.indexOf.call(z,b,void 0),mt;(mt=lt>=0)&&Array.prototype.splice.call(z,lt,1),mt&&(Z(b),f.g[R].length==0&&(delete f.g[R],f.h--))}}function st(f,b,R,z){for(let lt=0;lt<f.length;++lt){const mt=f[lt];if(!mt.da&&mt.listener==b&&mt.capture==!!R&&mt.ha==z)return lt}return-1}var ct="closure_lm_"+(Math.random()*1e6|0),gt={};function vt(f,b,R,z,lt){if(Array.isArray(b)){for(let mt=0;mt<b.length;mt++)vt(f,b[mt],R,z,lt);return null}return R=ae(R),f&&f[pt]?f.J(b,R,o(z)?!!z.capture:!1,lt):St(f,b,R,!1,z,lt)}function St(f,b,R,z,lt,mt){if(!b)throw Error("Invalid event type");const Ot=o(lt)?!!lt.capture:!!lt;let be=Vt(f);if(be||(f[ct]=be=new X(f)),R=be.add(b,R,z,Ot,mt),R.proxy)return R;if(z=kt(),R.proxy=z,z.src=f,z.listener=R,f.addEventListener)L||(lt=Ot),lt===void 0&&(lt=!1),f.addEventListener(b.toString(),z,lt);else if(f.attachEvent)f.attachEvent(Zt(b.toString()),z);else if(f.addListener&&f.removeListener)f.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return R}function kt(){function f(R){return b.call(f.src,f.listener,R)}const b=H;return f}function Ft(f,b,R,z,lt){if(Array.isArray(b))for(var mt=0;mt<b.length;mt++)Ft(f,b[mt],R,z,lt);else z=o(z)?!!z.capture:!!z,R=ae(R),f&&f[pt]?(f=f.i,mt=String(b).toString(),mt in f.g&&(b=f.g[mt],R=st(b,R,z,lt),R>-1&&(Z(b[R]),Array.prototype.splice.call(b,R,1),b.length==0&&(delete f.g[mt],f.h--)))):f&&(f=Vt(f))&&(b=f.g[b.toString()],f=-1,b&&(f=st(b,R,z,lt)),(R=f>-1?b[f]:null)&&jt(R))}function jt(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[pt])tt(b.i,f);else{var R=f.type,z=f.proxy;b.removeEventListener?b.removeEventListener(R,z,f.capture):b.detachEvent?b.detachEvent(Zt(R),z):b.addListener&&b.removeListener&&b.removeListener(z),(R=Vt(b))?(tt(R,f),R.h==0&&(R.src=null,b[ct]=null)):Z(f)}}}function Zt(f){return f in gt?gt[f]:gt[f]="on"+f}function H(f,b){if(f.da)f=!0;else{b=new Q(b,this);const R=f.listener,z=f.ha||f.src;f.fa&&jt(f),f=R.call(z,b)}return f}function Vt(f){return f=f[ct],f instanceof X?f:null}var Ae="__closure_events_fn_"+(Math.random()*1e9>>>0);function ae(f){return typeof f=="function"?f:(f[Ae]||(f[Ae]=function(b){return f.handleEvent(b)}),f[Ae])}function Et(){V.call(this),this.i=new X(this),this.M=this,this.G=null}p(Et,V),Et.prototype[pt]=!0,Et.prototype.removeEventListener=function(f,b,R,z){Ft(this,f,b,R,z)};function qt(f,b){var R,z=f.G;if(z)for(R=[];z;z=z.G)R.push(z);if(f=f.M,z=b.type||b,typeof b=="string")b=new A(b,f);else if(b instanceof A)b.target=b.target||f;else{var lt=b;b=new A(z,f),$(b,lt)}lt=!0;let mt,Ot;if(R)for(Ot=R.length-1;Ot>=0;Ot--)mt=b.g=R[Ot],lt=Bt(mt,z,!0,b)&&lt;if(mt=b.g=f,lt=Bt(mt,z,!0,b)&&lt,lt=Bt(mt,z,!1,b)&&lt,R)for(Ot=0;Ot<R.length;Ot++)mt=b.g=R[Ot],lt=Bt(mt,z,!1,b)&&lt}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const R=f.g[b];for(let z=0;z<R.length;z++)Z(R[z]);delete f.g[b],f.h--}}this.G=null},Et.prototype.J=function(f,b,R,z){return this.i.add(String(f),b,!1,R,z)},Et.prototype.K=function(f,b,R,z){return this.i.add(String(f),b,!0,R,z)};function Bt(f,b,R,z){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let lt=!0;for(let mt=0;mt<b.length;++mt){const Ot=b[mt];if(Ot&&!Ot.da&&Ot.capture==R){const be=Ot.listener,En=Ot.ha||Ot.src;Ot.fa&&tt(f.i,Ot),lt=be.call(En,z)!==!1&&lt}}return lt&&!z.defaultPrevented}function oe(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:a.setTimeout(f,b||0)}function ne(f){f.g=oe(()=>{f.g=null,f.i&&(f.i=!1,ne(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Qe extends V{constructor(b,R){super(),this.m=b,this.l=R,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ne(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ie(f){V.call(this),this.h=f,this.g={}}p(Ie,V);var _e=[];function Me(f){ft(f.g,function(b,R){this.g.hasOwnProperty(R)&&jt(b)},f),f.g={}}Ie.prototype.N=function(){Ie.Z.N.call(this),Me(this)},Ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ke=a.JSON.stringify,$t=a.JSON.parse,Se=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Jt(){}function Fn(){}var Oe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xe(){A.call(this,"d")}p(xe,A);function Ne(){A.call(this,"c")}p(Ne,A);var Je={},ie=null;function tn(){return ie=ie||new Et}Je.Ia="serverreachability";function ce(f){A.call(this,Je.Ia,f)}p(ce,A);function de(f){const b=tn();qt(b,new ce(b))}Je.STAT_EVENT="statevent";function pn(f,b){A.call(this,Je.STAT_EVENT,f),this.stat=b}p(pn,A);function le(f){const b=tn();qt(b,new pn(b,f))}Je.Ja="timingevent";function ue(f,b){A.call(this,Je.Ja,f),this.size=b}p(ue,A);function Fe(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},b)}function Hr(){this.g=!0}Hr.prototype.ua=function(){this.g=!1};function Ti(f,b,R,z,lt,mt){f.info(function(){if(f.g)if(mt){var Ot="",be=mt.split("&");for(let Ue=0;Ue<be.length;Ue++){var En=be[Ue].split("=");if(En.length>1){const Tn=En[0];En=En[1];const Ni=Tn.split("_");Ot=Ni.length>=2&&Ni[1]=="type"?Ot+(Tn+"="+En+"&"):Ot+(Tn+"=redacted&")}}}else Ot=null;else Ot=mt;return"XMLHTTP REQ ("+z+") [attempt "+lt+"]: "+b+`
`+R+`
`+Ot})}function Us(f,b,R,z,lt,mt,Ot){f.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+lt+"]: "+b+`
`+R+`
`+mt+" "+Ot})}function Di(f,b,R,z){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+zs(f,R)+(z?" "+z:"")})}function he(f,b){f.info(function(){return"TIMEOUT: "+b})}Hr.prototype.info=function(){};function zs(f,b){if(!f.g)return b;if(!b)return null;try{const mt=JSON.parse(b);if(mt){for(f=0;f<mt.length;f++)if(Array.isArray(mt[f])){var R=mt[f];if(!(R.length<2)){var z=R[1];if(Array.isArray(z)&&!(z.length<1)){var lt=z[0];if(lt!="noop"&&lt!="stop"&&lt!="close")for(let Ot=1;Ot<z.length;Ot++)z[Ot]=""}}}}return ke(mt)}catch{return b}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ar={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},or;function bn(){}p(bn,Jt),bn.prototype.g=function(){return new XMLHttpRequest},or=new bn;function Bn(f){return encodeURIComponent(String(f))}function gi(f){var b=1;f=f.split(":");const R=[];for(;b>0&&f.length;)R.push(f.shift()),b--;return f.length&&R.push(f.join(":")),R}function Ki(f,b,R,z){this.j=f,this.i=b,this.l=R,this.S=z||1,this.V=new Ie(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qs}function qs(){this.i=null,this.g="",this.h=!1}var Er={},Tr={};function lr(f,b,R){f.M=1,f.A=Xa(Cr(b)),f.u=R,f.R=!0,xr(f,null)}function xr(f,b){f.F=Date.now(),ds(f),f.B=Cr(f.A);var R=f.B,z=f.S;Array.isArray(z)||(z=[String(z)]),Ec(R.i,"t",z),f.C=0,R=f.j.L,f.h=new qs,f.g=Ht(f.j,R?b:null,!f.u),f.P>0&&(f.O=new Qe(u(f.Y,f,f.g),f.P)),b=f.V,R=f.g,z=f.ba;var lt="readystatechange";Array.isArray(lt)||(lt&&(_e[0]=lt.toString()),lt=_e);for(let mt=0;mt<lt.length;mt++){const Ot=vt(R,lt[mt],z||b.handleEvent,!1,b.h||b);if(!Ot)break;b.g[Ot.key]=Ot}b=f.J?Tt(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),de(),Ti(f.i,f.v,f.B,f.l,f.S,f.u)}Ki.prototype.ba=function(f){f=f.target;const b=this.O;b&&Pr(f)==3?b.j():this.Y(f)},Ki.prototype.Y=function(f){try{if(f==this.g)t:{const be=Pr(this.g),En=this.g.ya(),Ue=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||Ko(this.g)))){this.K||be!=4||En==7||(En==8||Ue<=0?de(3):de(2)),pa(this);var b=this.g.ca();this.X=b;var R=Nr(this);if(this.o=b==200,Us(this.i,this.v,this.B,this.l,this.S,be,b),this.o){if(this.U&&!this.L){e:{if(this.g){var z,lt=this.g;if((z=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(z)){var mt=z;break e}}mt=null}if(f=mt)Di(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ya(this,f);else{this.o=!1,this.m=3,le(12),Hs(this),ps(this);break t}}if(this.R){f=!0;let Tn;for(;!this.K&&this.C<R.length;)if(Tn=fs(this,R),Tn==Tr){be==4&&(this.m=4,le(14),f=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==Er){this.m=4,le(15),Di(this.i,this.l,R,"[Invalid Chunk]"),f=!1;break}else Di(this.i,this.l,Tn,null),Ya(this,Tn);if(da(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||R.length!=0||this.h.h||(this.m=1,le(16),f=!1),this.o=this.o&&f,!f)Di(this.i,this.l,R,"[Invalid Chunked Response]"),Hs(this),ps(this);else if(R.length>0&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.aa&&!Ot.P&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),$o(Ot),Ot.P=!0,le(11))}}else Di(this.i,this.l,R,null),Ya(this,R);be==4&&Hs(this),this.o&&!this.K&&(be==4?W(this.j,this):(this.o=!1,ds(this)))}else Nc(this.g),b==400&&R.indexOf("Unknown SID")>0?(this.m=3,le(12)):(this.m=0,le(13)),Hs(this),ps(this)}}}catch{}finally{}};function Nr(f){if(!da(f))return f.g.la();const b=Ko(f.g);if(b==="")return"";let R="";const z=b.length,lt=Pr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Hs(f),ps(f),"";f.h.i=new a.TextDecoder}for(let mt=0;mt<z;mt++)f.h.h=!0,R+=f.h.i.decode(b[mt],{stream:!(lt&&mt==z-1)});return b.length=0,f.h.g+=R,f.C=0,f.h.g}function da(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function fs(f,b){var R=f.C,z=b.indexOf(`
`,R);return z==-1?Tr:(R=Number(b.substring(R,z)),isNaN(R)?Er:(z+=1,z+R>b.length?Tr:(b=b.slice(z,z+R),f.C=z+R,b)))}Ki.prototype.cancel=function(){this.K=!0,Hs(this)};function ds(f){f.T=Date.now()+f.H,Ka(f,f.H)}function Ka(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Fe(u(f.aa,f),b)}function pa(f){f.D&&(a.clearTimeout(f.D),f.D=null)}Ki.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(he(this.i,this.B),this.M!=2&&(de(),le(17)),Hs(this),this.m=2,ps(this)):Ka(this,this.T-f)};function ps(f){f.j.I==0||f.K||W(f.j,f)}function Hs(f){pa(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Me(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Ya(f,b){try{var R=f.j;if(R.I!=0&&(R.g==f||zo(R.h,f))){if(!f.L&&zo(R.h,f)&&R.I==3){try{var z=R.Ba.g.parse(b)}catch{z=null}if(Array.isArray(z)&&z.length==3){var lt=z;if(lt[0]==0){t:if(!R.v){if(R.g)if(R.g.F+3e3<f.F)k(R),ba(R);else break t;Ks(R),le(18)}}else R.xa=lt[1],0<R.xa-R.K&&lt[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=Fe(u(R.Va,R),6e3));Uo(R.h)<=1&&R.ta&&(R.ta=void 0)}else ot(R,11)}else if((f.L||R.g==f)&&k(R),!P(b))for(lt=R.Ba.g.parse(b),b=0;b<lt.length;b++){let Ue=lt[b];const Tn=Ue[0];if(!(Tn<=R.K))if(R.K=Tn,Ue=Ue[1],R.I==2)if(Ue[0]=="c"){R.M=Ue[1],R.ba=Ue[2];const Ni=Ue[3];Ni!=null&&(R.ka=Ni,R.j.info("VER="+R.ka));const Yi=Ue[4];Yi!=null&&(R.za=Yi,R.j.info("SVER="+R.za));const xn=Ue[5];xn!=null&&typeof xn=="number"&&xn>0&&(z=1.5*xn,R.O=z,R.j.info("backChannelRequestTimeoutMs_="+z)),z=R;const $i=f.g;if($i){const bs=$i.g?$i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var mt=z.h;mt.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(mt.j=mt.l,mt.g=new Set,mt.h&&($a(mt,mt.h),mt.h=null))}if(z.G){const Za=$i.g?$i.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(z.wa=Za,Ze(z.J,z.G,Za))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-f.F,R.j.info("Handshake RTT: "+R.T+"ms")),z=R;var Ot=f;if(z.na=It(z,z.L?z.ba:null,z.W),Ot.L){fu(z.h,Ot);var be=Ot,En=z.O;En&&(be.H=En),be.D&&(pa(be),ds(be)),z.g=Ot}else _u(z);R.i.length>0&&Aa(R)}else Ue[0]!="stop"&&Ue[0]!="close"||ot(R,7);else R.I==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?ot(R,7):_a(R):Ue[0]!="noop"&&R.l&&R.l.qa(Ue),R.A=0)}}de(4)}catch{}}var bc=class{constructor(f,b){this.g=f,this.map=b}};function hu(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ur(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Uo(f){return f.h?1:f.g?f.g.size:0}function zo(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function $a(f,b){f.g?f.g.add(b):f.h=b}function fu(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}hu.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function du(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const R of f.g.values())b=b.concat(R.G);return b}return d(f.i)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ms(f,b){if(f){f=f.split("&");for(let R=0;R<f.length;R++){const z=f[R].indexOf("=");let lt,mt=null;z>=0?(lt=f[R].substring(0,z),mt=f[R].substring(z+1)):lt=f[R],b(lt,mt?decodeURIComponent(mt.replace(/\+/g," ")):"")}}}function cr(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof cr?(this.l=f.l,wn(this,f.j),this.o=f.o,this.g=f.g,ma(this,f.u),this.h=f.h,Rr(this,qo(f.i)),this.m=f.m):f&&(b=String(f).match(pu))?(this.l=!1,wn(this,b[1]||"",!0),this.o=xi(b[2]||""),this.g=xi(b[3]||"",!0),ma(this,b[4]),this.h=xi(b[5]||"",!0),Rr(this,b[6]||"",!0),this.m=xi(b[7]||"")):(this.l=!1,this.i=new ga(null,this.l))}cr.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(Ln(b,mu,!0),":");var R=this.g;return(R||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Ln(b,mu,!0),"@"),f.push(Bn(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&f.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&f.push("/"),f.push(Ln(R,R.charAt(0)=="/"?wf:bf,!0))),(R=this.i.toString())&&f.push("?",R),(R=this.m)&&f.push("#",Ln(R,wc)),f.join("")},cr.prototype.resolve=function(f){const b=Cr(this);let R=!!f.j;R?wn(b,f.j):R=!!f.o,R?b.o=f.o:R=!!f.g,R?b.g=f.g:R=f.u!=null;var z=f.h;if(R)ma(b,f.u);else if(R=!!f.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var lt=b.h.lastIndexOf("/");lt!=-1&&(z=b.h.slice(0,lt+1)+z)}if(lt=z,lt==".."||lt==".")z="";else if(lt.indexOf("./")!=-1||lt.indexOf("/.")!=-1){z=lt.lastIndexOf("/",0)==0,lt=lt.split("/");const mt=[];for(let Ot=0;Ot<lt.length;){const be=lt[Ot++];be=="."?z&&Ot==lt.length&&mt.push(""):be==".."?((mt.length>1||mt.length==1&&mt[0]!="")&&mt.pop(),z&&Ot==lt.length&&mt.push("")):(mt.push(be),z=!0)}z=mt.join("/")}else z=lt}return R?b.h=z:R=f.i.toString()!=="",R?Rr(b,qo(f.i)):R=!!f.m,R&&(b.m=f.m),b};function Cr(f){return new cr(f)}function wn(f,b,R){f.j=R?xi(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function ma(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function Rr(f,b,R){b instanceof ga?(f.i=b,Gr(f.i,f.l)):(R||(b=Ln(b,gs)),f.i=new ga(b,f.l))}function Ze(f,b,R){f.i.set(b,R)}function Xa(f){return Ze(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function xi(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ln(f,b,R){return typeof f=="string"?(f=encodeURI(f).replace(b,Gs),R&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Gs(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var mu=/[#\/\?@]/g,bf=/[#\?:]/g,wf=/[#\?]/g,gs=/[#\?@]/g,wc=/#/g;function ga(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Ir(f){f.g||(f.g=new Map,f.h=0,f.i&&ms(f.i,function(b,R){f.add(decodeURIComponent(b.replace(/\+/g," ")),R)}))}e=ga.prototype,e.add=function(f,b){Ir(this),this.i=null,f=Ws(this,f);let R=this.g.get(f);return R||this.g.set(f,R=[]),R.push(b),this.h+=1,this};function ya(f,b){Ir(f),b=Ws(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Ac(f,b){return Ir(f),b=Ws(f,b),f.g.has(b)}e.forEach=function(f,b){Ir(this),this.g.forEach(function(R,z){R.forEach(function(lt){f.call(b,lt,z,this)},this)},this)};function Sc(f,b){Ir(f);let R=[];if(typeof b=="string")Ac(f,b)&&(R=R.concat(f.g.get(Ws(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)R=R.concat(f[b]);return R}e.set=function(f,b){return Ir(this),this.i=null,f=Ws(this,f),Ac(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},e.get=function(f,b){return f?(f=Sc(this,f),f.length>0?String(f[0]):b):b};function Ec(f,b,R){ya(f,b),R.length>0&&(f.i=null,f.g.set(Ws(f,b),d(R)),f.h+=R.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let z=0;z<b.length;z++){var R=b[z];const lt=Bn(R);R=Sc(this,R);for(let mt=0;mt<R.length;mt++){let Ot=lt;R[mt]!==""&&(Ot+="="+Bn(R[mt])),f.push(Ot)}}return this.i=f.join("&")};function qo(f){const b=new ga;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function Ws(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Gr(f,b){b&&!f.j&&(Ir(f),f.i=null,f.g.forEach(function(R,z){const lt=z.toLowerCase();z!=lt&&(ya(this,z),Ec(this,lt,R))},f)),f.j=b}function Af(f,b){const R=new Hr;if(a.Image){const z=new Image;z.onload=c(Lr,R,"TestLoadImage: loaded",!0,b,z),z.onerror=c(Lr,R,"TestLoadImage: error",!1,b,z),z.onabort=c(Lr,R,"TestLoadImage: abort",!1,b,z),z.ontimeout=c(Lr,R,"TestLoadImage: timeout",!1,b,z),a.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=f}else b(!1)}function Qa(f,b){const R=new Hr,z=new AbortController,lt=setTimeout(()=>{z.abort(),Lr(R,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:z.signal}).then(mt=>{clearTimeout(lt),mt.ok?Lr(R,"TestPingServer: ok",!0,b):Lr(R,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(lt),Lr(R,"TestPingServer: error",!1,b)})}function Lr(f,b,R,z,lt){try{lt&&(lt.onload=null,lt.onerror=null,lt.onabort=null,lt.ontimeout=null),z(R)}catch{}}function Sf(){this.g=new Se}function pe(f){this.i=f.Sb||null,this.h=f.ab||!1}p(pe,Jt),pe.prototype.g=function(){return new Ho(this.i,this.h)};function Ho(f,b){Et.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Ho,Et),e=Ho.prototype,e.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,hr(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||a).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=0},e.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tc(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Tc(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}e.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Ja(this):hr(this),this.readyState==3&&Tc(this)}},e.Oa=function(f){this.g&&(this.response=this.responseText=f,Ja(this))},e.Na=function(f){this.g&&(this.response=f,Ja(this))},e.ga=function(){this.g&&Ja(this)};function Ja(f){f.readyState=4,f.l=null,f.j=null,f.B=null,hr(f)}e.setRequestHeader=function(f,b){this.A.append(f,b)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var R=b.next();!R.done;)R=R.value,f.push(R[0]+": "+R[1]),R=b.next();return f.join(`\r
`)};function hr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ys(f){let b="";return ft(f,function(R,z){b+=z,b+=":",b+=R,b+=`\r
`}),b}function gu(f,b,R){t:{for(z in R){var z=!1;break t}z=!0}z||(R=ys(R),typeof f=="string"?R!=null&&Bn(R):Ze(f,b,R))}function An(f){Et.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(An,Et);var Go=/^https?$/i,yu=["POST","PUT"];e=An.prototype,e.Fa=function(f){this.H=f},e.ea=function(f,b,R,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():or.g(),this.g.onreadystatechange=g(u(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(mt){va(this,mt);return}if(f=R||"",R=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var lt in z)R.set(lt,z[lt]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const mt of z.keys())R.set(mt,z.get(mt));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(R.keys()).find(mt=>mt.toLowerCase()=="content-type"),lt=a.FormData&&f instanceof a.FormData,!(Array.prototype.indexOf.call(yu,b,void 0)>=0)||z||lt||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[mt,Ot]of R)this.g.setRequestHeader(mt,Ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(mt){va(this,mt)}};function va(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,xc(f),Wo(f)}function xc(f){f.A||(f.A=!0,qt(f,"complete"),qt(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,qt(this,"complete"),qt(this,"abort"),Wo(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wo(this,!0)),An.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?vs(this):this.Xa())},e.Xa=function(){vs(this)};function vs(f){if(f.h&&typeof s<"u"){if(f.v&&Pr(f)==4)setTimeout(f.Ca.bind(f),0);else if(qt(f,"readystatechange"),Pr(f)==4){f.h=!1;try{const mt=f.ca();t:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var R;if(!(R=b)){var z;if(z=mt===0){let Ot=String(f.D).match(pu)[1]||null;!Ot&&a.self&&a.self.location&&(Ot=a.self.location.protocol.slice(0,-1)),z=!Go.test(Ot?Ot.toLowerCase():"")}R=z}if(R)qt(f,"complete"),qt(f,"success");else{f.o=6;try{var lt=Pr(f)>2?f.g.statusText:""}catch{lt=""}f.l=lt+" ["+f.ca()+"]",xc(f)}}finally{Wo(f)}}}}function Wo(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const R=f.g;f.g=null,b||qt(f,"ready");try{R.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Pr(f){return f.g?f.g.readyState:0}e.ca=function(){try{return Pr(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),$t(b)}};function Ko(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Nc(f){const b={};f=(f.g&&Pr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<f.length;z++){if(P(f[z]))continue;var R=gi(f[z]);const lt=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const mt=b[lt]||[];b[lt]=mt,mt.push(R)}Nt(b,function(z){return z.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fr(f,b,R){return R&&R.internalChannelParams&&R.internalChannelParams[f]||b}function Yo(f){this.za=0,this.i=[],this.j=new Hr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fr("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fr("baseRetryDelayMs",5e3,f),this.Za=fr("retryDelaySeedMs",1e4,f),this.Ta=fr("forwardChannelMaxRetries",2,f),this.va=fr("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new hu(f&&f.concurrentRequestLimit),this.Ba=new Sf,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Yo.prototype,e.ka=8,e.I=1,e.connect=function(f,b,R,z){le(0),this.W=f,this.H=b||{},R&&z!==void 0&&(this.H.OSID=R,this.H.OAID=z),this.F=this.X,this.J=It(this,null,this.W),Aa(this)};function _a(f){if(wa(f),f.I==3){var b=f.V++,R=Cr(f.J);if(Ze(R,"SID",f.M),Ze(R,"RID",b),Ze(R,"TYPE","terminate"),dr(f,R),b=new Ki(f,f.j,b),b.M=2,b.A=Xa(Cr(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(b.A.toString(),"")}catch{}!R&&a.Image&&(new Image().src=b.A,R=!0),R||(b.g=Ht(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ds(b)}bt(f)}function ba(f){f.g&&($o(f),f.g.cancel(),f.g=null)}function wa(f){ba(f),f.v&&(a.clearTimeout(f.v),f.v=null),k(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&a.clearTimeout(f.m),f.m=null)}function Aa(f){if(!ur(f.h)&&!f.m){f.m=!0;var b=f.Ea;G||N(),et||(G(),et=!0),M.add(b,f),f.D=0}}function Cc(f,b){return Uo(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Fe(u(f.Ea,f,b),J(f,f.D)),f.D++,!0)}e.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const lt=new Ki(this,this.j,f);let mt=this.o;if(this.U&&(mt?(mt=Tt(mt),$(mt,this.U)):mt=this.U),this.u!==null||this.R||(lt.J=mt,mt=null),this.S)t:{for(var b=0,R=0;R<this.i.length;R++){e:{var z=this.i[R];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break e}z=void 0}if(z===void 0)break;if(b+=z,b>4096){b=R;break t}if(b===4096||R===this.i.length-1){b=R+1;break t}}b=1e3}else b=1e3;b=_s(this,lt,b),R=Cr(this.J),Ze(R,"RID",f),Ze(R,"CVER",22),this.G&&Ze(R,"X-HTTP-Session-Id",this.G),dr(this,R),mt&&(this.R?b="headers="+Bn(ys(mt))+"&"+b:this.u&&gu(R,this.u,mt)),$a(this.h,lt),this.Ra&&Ze(R,"TYPE","init"),this.S?(Ze(R,"$req",b),Ze(R,"SID","null"),lt.U=!0,lr(lt,R,null)):lr(lt,R,b),this.I=2}}else this.I==3&&(f?vu(this,f):this.i.length==0||ur(this.h)||vu(this))};function vu(f,b){var R;b?R=b.l:R=f.V++;const z=Cr(f.J);Ze(z,"SID",f.M),Ze(z,"RID",R),Ze(z,"AID",f.K),dr(f,z),f.u&&f.o&&gu(z,f.u,f.o),R=new Ki(f,f.j,R,f.D+1),f.u===null&&(R.J=f.o),b&&(f.i=b.G.concat(f.i)),b=_s(f,R,1e3),R.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),$a(f.h,R),lr(R,z,b)}function dr(f,b){f.H&&ft(f.H,function(R,z){Ze(b,z,R)}),f.l&&ft({},function(R,z){Ze(b,z,R)})}function _s(f,b,R){R=Math.min(f.i.length,R);const z=f.l?u(f.l.Ka,f.l,f):null;t:{var lt=f.i;let be=-1;for(;;){const En=["count="+R];be==-1?R>0?(be=lt[0].g,En.push("ofs="+be)):be=0:En.push("ofs="+be);let Ue=!0;for(let Tn=0;Tn<R;Tn++){var mt=lt[Tn].g;const Ni=lt[Tn].map;if(mt-=be,mt<0)be=Math.max(0,lt[Tn].g-100),Ue=!1;else try{mt="req"+mt+"_"||"";try{var Ot=Ni instanceof Map?Ni:Object.entries(Ni);for(const[Yi,xn]of Ot){let $i=xn;o(xn)&&($i=ke(xn)),En.push(mt+Yi+"="+encodeURIComponent($i))}}catch(Yi){throw En.push(mt+"type="+encodeURIComponent("_badmap")),Yi}}catch{z&&z(Ni)}}if(Ue){Ot=En.join("&");break t}}Ot=void 0}return f=f.i.splice(0,R),b.G=f,Ot}function _u(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;G||N(),et||(G(),et=!0),M.add(b,f),f.A=0}}function Ks(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Fe(u(f.Da,f),J(f,f.A)),f.A++,!0)}e.Da=function(){if(this.v=null,y(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Fe(u(this.Wa,this),f)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,le(10),ba(this),y(this))};function $o(f){f.B!=null&&(a.clearTimeout(f.B),f.B=null)}function y(f){f.g=new Ki(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Cr(f.na);Ze(b,"RID","rpc"),Ze(b,"SID",f.M),Ze(b,"AID",f.K),Ze(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&Ze(b,"TO",f.ia),Ze(b,"TYPE","xmlhttp"),dr(f,b),f.u&&f.o&&gu(b,f.u,f.o),f.O&&(f.g.H=f.O);var R=f.g;f=f.ba,R.M=1,R.A=Xa(Cr(b)),R.u=null,R.R=!0,xr(R,f)}e.Va=function(){this.C!=null&&(this.C=null,ba(this),Ks(this),le(19))};function k(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function W(f,b){var R=null;if(f.g==b){k(f),$o(f),f.g=null;var z=2}else if(zo(f.h,b))R=b.G,fu(f.h,b),z=1;else return;if(f.I!=0){if(b.o)if(z==1){R=b.u?b.u.length:0,b=Date.now()-b.F;var lt=f.D;z=tn(),qt(z,new ue(z,R)),Aa(f)}else _u(f);else if(lt=b.m,lt==3||lt==0&&b.X>0||!(z==1&&Cc(f,b)||z==2&&Ks(f)))switch(R&&R.length>0&&(b=f.h,b.i=b.i.concat(R)),lt){case 1:ot(f,5);break;case 4:ot(f,10);break;case 3:ot(f,6);break;default:ot(f,2)}}}function J(f,b){let R=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(R*=2),R*b}function ot(f,b){if(f.j.info("Error code "+b),b==2){var R=u(f.bb,f),z=f.Ua;const lt=!z;z=new cr(z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||wn(z,"https"),Xa(z),lt?Af(z.toString(),R):Qa(z.toString(),R)}else le(2);f.I=0,f.l&&f.l.pa(b),bt(f),wa(f)}e.bb=function(f){f?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function bt(f){if(f.I=0,f.ja=[],f.l){const b=du(f.h);(b.length!=0||f.i.length!=0)&&(w(f.ja,b),w(f.ja,f.i),f.h.i.length=0,d(f.i),f.i.length=0),f.l.oa()}}function It(f,b,R){var z=R instanceof cr?Cr(R):new cr(R);if(z.g!="")b&&(z.g=b+"."+z.g),ma(z,z.u);else{var lt=a.location;z=lt.protocol,b=b?b+"."+lt.hostname:lt.hostname,lt=+lt.port;const mt=new cr(null);z&&wn(mt,z),b&&(mt.g=b),lt&&ma(mt,lt),R&&(mt.h=R),z=mt}return R=f.G,b=f.wa,R&&b&&Ze(z,R,b),Ze(z,"VER",f.ka),dr(f,z),z}function Ht(f,b,R){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new An(new pe({ab:R})):new An(f.ma),b.Fa(f.L),b}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yt(){}e=Yt.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function fe(){}fe.prototype.g=function(f,b){return new re(f,b)};function re(f,b){Et.call(this),this.g=new Yo(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!P(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!P(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new mn(this)}p(re,Et),re.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},re.prototype.close=function(){_a(this.g)},re.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var R={};R.__data__=f,f=R}else this.v&&(R={},R.__data__=ke(f),f=R);b.i.push(new bc(b.Ya++,f)),b.I==3&&Aa(b)},re.prototype.N=function(){this.g.l=null,delete this.j,_a(this.g),delete this.g,re.Z.N.call(this)};function Be(f){xe.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){t:{for(const R in b){f=R;break t}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}p(Be,xe);function Sn(){Ne.call(this),this.status=1}p(Sn,Ne);function mn(f){this.g=f}p(mn,Yt),mn.prototype.ra=function(){qt(this.g,"a")},mn.prototype.qa=function(f){qt(this.g,new Be(f))},mn.prototype.pa=function(f){qt(this.g,new Sn)},mn.prototype.oa=function(){qt(this.g,"b")},fe.prototype.createWebChannel=fe.prototype.g,re.prototype.send=re.prototype.o,re.prototype.open=re.prototype.m,re.prototype.close=re.prototype.close,wI=function(){return new fe},bI=function(){return tn()},_I=Je,Qv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,fg=Sr,ar.COMPLETE="complete",vI=ar,Fn.EventType=Oe,Oe.OPEN="a",Oe.CLOSE="b",Oe.ERROR="c",Oe.MESSAGE="d",Et.prototype.listen=Et.prototype.J,rd=Fn,An.prototype.listenOnce=An.prototype.K,An.prototype.getLastError=An.prototype.Ha,An.prototype.getLastErrorCode=An.prototype.ya,An.prototype.getStatus=An.prototype.ca,An.prototype.getResponseJson=An.prototype.La,An.prototype.getResponseText=An.prototype.la,An.prototype.send=An.prototype.ea,An.prototype.setWithCredentials=An.prototype.Fa,yI=An}).apply(typeof Nm<"u"?Nm:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf="12.9.0";function Yz(e){pf=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new ob("@firebase/firestore");function zc(){return nc.logLevel}function zt(e,...t){if(nc.logLevel<=ze.DEBUG){const n=t.map(vb);nc.debug(`Firestore (${pf}): ${e}`,...n)}}function Oo(e,...t){if(nc.logLevel<=ze.ERROR){const n=t.map(vb);nc.error(`Firestore (${pf}): ${e}`,...n)}}function ic(e,...t){if(nc.logLevel<=ze.WARN){const n=t.map(vb);nc.warn(`Firestore (${pf}): ${e}`,...n)}}function vb(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,AI(e,i,n)}function AI(e,t,n){let i=`FIRESTORE (${pf}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Oo(i),new Error(i)}function sn(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||AI(t,r,i)}function Te(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends Fo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(nr.UNAUTHENTICATED))}shutdown(){}}class Xz{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qz{constructor(t){this.t=t,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){sn(this.o===void 0,42304);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Hu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hu,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},o=l=>{zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hu)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(sn(typeof i.accessToken=="string",31837,{l:i}),new SI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return sn(t===null||typeof t=="string",2055,{h:t}),new nr(t)}}class Jz{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Zz{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new Jz(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tq{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ps(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){sn(this.o===void 0,3512);const i=s=>{s.error!=null&&zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,zt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new f3(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(sn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new f3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eq(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=eq(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function qe(e,t){return e<t?-1:e>t?1:0}function Jv(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const r=e.charAt(i),s=t.charAt(i);if(r!==s)return W2(r)===W2(s)?qe(r,s):W2(r)?1:-1}return qe(e.length,t.length)}const nq=55296,iq=57343;function W2(e){const t=e.charCodeAt(0);return t>=nq&&t<=iq}function Wh(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="__name__";class Ra{constructor(t,n,i){n===void 0?n=0:n>t.length&&ge(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&ge(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ra.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ra?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=Ra.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return qe(t.length,n.length)}static compareSegments(t,n){const i=Ra.isNumericId(t),r=Ra.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?Ra.extractNumericId(t).compare(Ra.extractNumericId(n)):Jv(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gl.fromString(t.substring(4,t.length-2))}}class Cn extends Ra{construct(t,n,i){return new Cn(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ut(Ct.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Cn(n)}static emptyPath(){return new Cn([])}}const rq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zi extends Ra{construct(t,n,i){return new zi(t,n,i)}static isValidIdentifier(t){return rq.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d3}static keyField(){return new zi([d3])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Ut(Ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const o=t[r];if(o==="\\"){if(r+1===t.length)throw new Ut(Ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ut(Ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else o==="`"?(a=!a,r++):o!=="."||a?(i+=o,r++):(s(),r++)}if(s(),a)throw new Ut(Ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new zi(n)}static emptyPath(){return new zi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.path=t}static fromPath(t){return new se(Cn.fromString(t))}static fromName(t){return new se(Cn.fromString(t).popFirst(5))}static empty(){return new se(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Cn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Cn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new se(new Cn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(e,t,n){if(!n)throw new Ut(Ct.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function sq(e,t,n,i){if(t===!0&&i===!0)throw new Ut(Ct.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function p3(e){if(!se.isDocumentKey(e))throw new Ut(Ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function m3(e){if(se.isDocumentKey(e))throw new Ut(Ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function TI(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function a0(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ge(12329,{type:typeof e})}function Wl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ut(Ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=a0(e);throw new Ut(Ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(e,t){const n={typeString:e};return t&&(n.value=t),n}function Op(e,t){if(!TI(e))throw new Ut(Ct.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new Ut(Ct.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=-62135596800,y3=1e6;class On{static now(){return On.fromMillis(Date.now())}static fromDate(t){return On.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*y3);return new On(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ut(Ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ut(Ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<g3)throw new Ut(Ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ut(Ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y3}_compareTo(t){return this.seconds===t.seconds?qe(this.nanoseconds,t.nanoseconds):qe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:On._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Op(t,On._jsonSchema))return new On(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-g3;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}On._jsonSchemaVersion="firestore/timestamp/1.0",On._jsonSchema={type:pi("string",On._jsonSchemaVersion),seconds:pi("number"),nanoseconds:pi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(t){return new we(t)}static min(){return new we(new On(0,0))}static max(){return new we(new On(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=-1;function aq(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=we.fromTimestamp(i===1e9?new On(n+1,0):new On(n,i));return new tu(r,se.empty(),t)}function oq(e){return new tu(e.readTime,e.key,ip)}class tu{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new tu(we.min(),se.empty(),ip)}static max(){return new tu(we.max(),se.empty(),ip)}}function lq(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=se.comparator(e.documentKey,t.documentKey),n!==0?n:qe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(e){if(e.code!==Ct.FAILED_PRECONDITION||e.message!==uq)throw e;zt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Rt((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Rt?n:Rt.resolve(n)}catch(n){return Rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Rt.reject(n)}static resolve(t){return new Rt((n,i)=>{n(t)})}static reject(t){return new Rt((n,i)=>{i(t)})}static waitFor(t){return new Rt((n,i)=>{let r=0,s=0,a=!1;t.forEach(o=>{++r,o.next(()=>{++s,a&&s===r&&n()},l=>i(l))}),a=!0,s===r&&n()})}static or(t){let n=Rt.resolve(!1);for(const i of t)n=n.next(r=>r?Rt.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new Rt((i,r)=>{const s=t.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{a[u]=c,++o,o===s&&i(a)},c=>r(c))}})}static doWhile(t,n){return new Rt((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function hq(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gf(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}o0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=-1;function l0(e){return e==null}function m1(e){return e===0&&1/e==-1/0}function fq(e){return typeof e=="number"&&Number.isInteger(e)&&!m1(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="";function dq(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=v3(t)),t=pq(e.get(n),t);return v3(t)}function pq(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case xI:n+="";break;default:n+=s}}return n}function v3(e){return e+xI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function NI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t,n){this.comparator=t,this.root=n||Fi.EMPTY}insert(t,n){return new Hn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(t){return new Hn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cm(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cm(this.root,t,this.comparator,!0)}}class Cm{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fi{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??Fi.RED,this.left=r??Fi.EMPTY,this.right=s??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new Fi(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return Fi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ge(27949);return t+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1;Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new Fi(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this.comparator=t,this.data=new Hn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new b3(this.data.getIterator())}getIteratorFrom(t){return new b3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Si)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Si(this.comparator);return n.data=t,n}}class b3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t){this.fields=t,t.sort(zi.comparator)}static empty(){return new ia([])}unionWith(t){let n=new Si(zi.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new ia(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Wh(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CI("Invalid base64 string: "+s):s}}(t);return new Wi(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new Wi(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Wi.EMPTY_BYTE_STRING=new Wi("");const mq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eu(e){if(sn(!!e,39018),typeof e=="string"){let t=0;const n=mq.exec(e);if(sn(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ei(e.seconds),nanos:ei(e.nanos)}}function ei(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function nu(e){return typeof e=="string"?Wi.fromBase64String(e):Wi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="server_timestamp",II="__type__",LI="__previous_value__",PI="__local_write_time__";function wb(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[II])==null?void 0:i.stringValue)===RI}function u0(e){const t=e.mapValue.fields[LI];return wb(t)?u0(t):t}function rp(e){const t=eu(e.mapValue.fields[PI].timestampValue);return new On(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(t,n,i,r,s,a,o,l,u,c,p){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c,this.apiKey=p}}const g1="(default)";class sp{constructor(t,n){this.projectId=t,this.database=n||g1}static empty(){return new sp("","")}get isDefaultDatabase(){return this.database===g1}isEqual(t){return t instanceof sp&&t.projectId===this.projectId&&t.database===this.database}}function yq(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ut(Ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sp(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="__type__",vq="__max__",Rm={mapValue:{}},kI="__vector__",y1="value";function iu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wb(e)?4:bq(e)?9007199254740991:_q(e)?10:11:ge(28295,{value:e})}function qa(e,t){if(e===t)return!0;const n=iu(e);if(n!==iu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rp(e).isEqual(rp(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=eu(r.timestampValue),o=eu(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return nu(r.bytesValue).isEqual(nu(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return ei(r.geoPointValue.latitude)===ei(s.geoPointValue.latitude)&&ei(r.geoPointValue.longitude)===ei(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ei(r.integerValue)===ei(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=ei(r.doubleValue),o=ei(s.doubleValue);return a===o?m1(a)===m1(o):isNaN(a)&&isNaN(o)}return!1}(e,t);case 9:return Wh(e.arrayValue.values||[],t.arrayValue.values||[],qa);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},o=s.mapValue.fields||{};if(_3(a)!==_3(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!qa(a[l],o[l])))return!1;return!0}(e,t);default:return ge(52216,{left:e})}}function ap(e,t){return(e.values||[]).find(n=>qa(n,t))!==void 0}function Kh(e,t){if(e===t)return 0;const n=iu(e),i=iu(t);if(n!==i)return qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(e.booleanValue,t.booleanValue);case 2:return function(s,a){const o=ei(s.integerValue||s.doubleValue),l=ei(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return w3(e.timestampValue,t.timestampValue);case 4:return w3(rp(e),rp(t));case 5:return Jv(e.stringValue,t.stringValue);case 6:return function(s,a){const o=nu(s),l=nu(a);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=qe(o[u],l[u]);if(c!==0)return c}return qe(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const o=qe(ei(s.latitude),ei(a.latitude));return o!==0?o:qe(ei(s.longitude),ei(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return A3(e.arrayValue,t.arrayValue);case 10:return function(s,a){var g,d,w,x;const o=s.fields||{},l=a.fields||{},u=(g=o[y1])==null?void 0:g.arrayValue,c=(d=l[y1])==null?void 0:d.arrayValue,p=qe(((w=u==null?void 0:u.values)==null?void 0:w.length)||0,((x=c==null?void 0:c.values)==null?void 0:x.length)||0);return p!==0?p:A3(u,c)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===Rm.mapValue&&a===Rm.mapValue)return 0;if(s===Rm.mapValue)return 1;if(a===Rm.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let p=0;p<l.length&&p<c.length;++p){const g=Jv(l[p],c[p]);if(g!==0)return g;const d=Kh(o[l[p]],u[c[p]]);if(d!==0)return d}return qe(l.length,c.length)}(e.mapValue,t.mapValue);default:throw ge(23264,{he:n})}}function w3(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return qe(e,t);const n=eu(e),i=eu(t),r=qe(n.seconds,i.seconds);return r!==0?r:qe(n.nanos,i.nanos)}function A3(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Kh(n[r],i[r]);if(s)return s}return qe(n.length,i.length)}function Yh(e){return Zv(e)}function Zv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=eu(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return nu(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return se.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Zv(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Zv(n.fields[a])}`;return r+"}"}(e.mapValue):ge(61005,{value:e})}function dg(e){switch(iu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=u0(e);return t?16+dg(t):16;case 5:return 2*e.stringValue.length;case 6:return nu(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+dg(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return dc(i.fields,(s,a)=>{r+=s.length+dg(a)}),r}(e.mapValue);default:throw ge(13486,{value:e})}}function S3(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function t5(e){return!!e&&"integerValue"in e}function Ab(e){return!!e&&"arrayValue"in e}function E3(e){return!!e&&"nullValue"in e}function T3(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pg(e){return!!e&&"mapValue"in e}function _q(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[DI])==null?void 0:i.stringValue)===kI}function Cd(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return dc(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Cd(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cd(e.arrayValue.values[n]);return t}return{...e}}function bq(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===vq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t){this.value=t}static empty(){return new Ds({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!pg(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cd(n)}setAll(t){let n=zi.emptyPath(),i={},r=[];t.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=o.popLast()}a?i[o.lastSegment()]=Cd(a):r.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());pg(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return qa(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];pg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){dc(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ds(Cd(this.value))}}function OI(e){const t=[];return dc(e.fields,(n,i)=>{const r=new zi([n]);if(pg(i)){const s=OI(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new ia(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,n,i,r,s,a,o){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(t){return new ir(t,0,we.min(),we.min(),we.min(),Ds.empty(),0)}static newFoundDocument(t,n,i,r){return new ir(t,1,n,we.min(),i,r,0)}static newNoDocument(t,n){return new ir(t,2,n,we.min(),we.min(),Ds.empty(),0)}static newUnknownDocument(t,n){return new ir(t,3,n,we.min(),we.min(),Ds.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ds.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ir&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t,n){this.position=t,this.inclusive=n}}function x3(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=se.comparator(se.fromName(a.referenceValue),n.key):i=Kh(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function N3(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qa(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(t,n="asc"){this.field=t,this.dir=n}}function wq(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{}class fi extends MI{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new Sq(t,n,i):n==="array-contains"?new xq(t,i):n==="in"?new Nq(t,i):n==="not-in"?new Cq(t,i):n==="array-contains-any"?new Rq(t,i):new fi(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new Eq(t,i):new Tq(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Kh(n,this.value)):n!==null&&iu(this.value)===iu(n)&&this.matchesComparison(Kh(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class la extends MI{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new la(t,n)}matches(t){return VI(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VI(e){return e.op==="and"}function jI(e){return Aq(e)&&VI(e)}function Aq(e){for(const t of e.filters)if(t instanceof la)return!1;return!0}function e5(e){if(e instanceof fi)return e.field.canonicalString()+e.op.toString()+Yh(e.value);if(jI(e))return e.filters.map(t=>e5(t)).join(",");{const t=e.filters.map(n=>e5(n)).join(",");return`${e.op}(${t})`}}function FI(e,t){return e instanceof fi?function(i,r){return r instanceof fi&&i.op===r.op&&i.field.isEqual(r.field)&&qa(i.value,r.value)}(e,t):e instanceof la?function(i,r){return r instanceof la&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,o)=>s&&FI(a,r.filters[o]),!0):!1}(e,t):void ge(19439)}function BI(e){return e instanceof fi?function(n){return`${n.field.canonicalString()} ${n.op} ${Yh(n.value)}`}(e):e instanceof la?function(n){return n.op.toString()+" {"+n.getFilters().map(BI).join(" ,")+"}"}(e):"Filter"}class Sq extends fi{constructor(t,n,i){super(t,n,i),this.key=se.fromName(i.referenceValue)}matches(t){const n=se.comparator(t.key,this.key);return this.matchesComparison(n)}}class Eq extends fi{constructor(t,n){super(t,"in",n),this.keys=UI("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Tq extends fi{constructor(t,n){super(t,"not-in",n),this.keys=UI("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function UI(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>se.fromName(i.referenceValue))}class xq extends fi{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ab(n)&&ap(n.arrayValue,this.value)}}class Nq extends fi{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ap(this.value.arrayValue,n)}}class Cq extends fi{constructor(t,n){super(t,"not-in",n)}matches(t){if(ap(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ap(this.value.arrayValue,n)}}class Rq extends fi{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ab(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ap(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(t,n=null,i=[],r=[],s=null,a=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function C3(e,t=null,n=[],i=[],r=null,s=null,a=null){return new Iq(e,t,n,i,r,s,a)}function Sb(e){const t=Te(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>e5(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),l0(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Yh(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Yh(i)).join(",")),t.Te=n}return t.Te}function Eb(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!wq(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!FI(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!N3(e.startAt,t.startAt)&&N3(e.endAt,t.endAt)}function n5(e){return se.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,n=null,i=[],r=[],s=null,a="F",o=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Lq(e,t,n,i,r,s,a,o){return new yf(e,t,n,i,r,s,a,o)}function Tb(e){return new yf(e)}function R3(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Pq(e){return se.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function zI(e){return e.collectionGroup!==null}function Rd(e){const t=Te(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Si(zi.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new op(s,i))}),n.has(zi.keyField().canonicalString())||t.Ie.push(new op(zi.keyField(),i))}return t.Ie}function Fa(e){const t=Te(e);return t.Ee||(t.Ee=Dq(t,Rd(e))),t.Ee}function Dq(e,t){if(e.limitType==="F")return C3(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new op(r.field,s)});const n=e.endAt?new v1(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new v1(e.startAt.position,e.startAt.inclusive):null;return C3(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function i5(e,t){const n=e.filters.concat([t]);return new yf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function kq(e,t){const n=e.explicitOrderBy.concat([t]);return new yf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function r5(e,t,n){return new yf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function c0(e,t){return Eb(Fa(e),Fa(t))&&e.limitType===t.limitType}function qI(e){return`${Sb(Fa(e))}|lt:${e.limitType}`}function qc(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>BI(r)).join(", ")}]`),l0(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Yh(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Yh(r)).join(",")),`Target(${i})`}(Fa(e))}; limitType=${e.limitType})`}function h0(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):se.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of Rd(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,o,l){const u=x3(a,o,l);return a.inclusive?u<=0:u<0}(i.startAt,Rd(i),r)||i.endAt&&!function(a,o,l){const u=x3(a,o,l);return a.inclusive?u>=0:u>0}(i.endAt,Rd(i),r))}(e,t)}function Oq(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function HI(e){return(t,n)=>{let i=!1;for(const r of Rd(e)){const s=Mq(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Mq(e,t,n){const i=e.field.isKeyField()?se.comparator(t.key,n.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?Kh(l,u):ge(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ge(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){dc(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return NI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq=new Hn(se.comparator);function Mo(){return Vq}const GI=new Hn(se.comparator);function sd(...e){let t=GI;for(const n of e)t=t.insert(n.key,n);return t}function WI(e){let t=GI;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Vu(){return Id()}function KI(){return Id()}function Id(){return new pc(e=>e.toString(),(e,t)=>e.isEqual(t))}const jq=new Hn(se.comparator),Fq=new Si(se.comparator);function He(...e){let t=Fq;for(const n of e)t=t.add(n);return t}const Bq=new Si(qe);function Uq(){return Bq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:m1(t)?"-0":t}}function YI(e){return{integerValue:""+e}}function zq(e,t){return fq(t)?YI(t):xb(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this._=void 0}}function qq(e,t,n){return e instanceof lp?function(r,s){const a={fields:{[II]:{stringValue:RI},[PI]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&wb(s)&&(s=u0(s)),s&&(a.fields[LI]=s),{mapValue:a}}(n,t):e instanceof up?XI(e,t):e instanceof cp?QI(e,t):function(r,s){const a=$I(r,s),o=I3(a)+I3(r.Ae);return t5(a)&&t5(r.Ae)?YI(o):xb(r.serializer,o)}(e,t)}function Hq(e,t,n){return e instanceof up?XI(e,t):e instanceof cp?QI(e,t):n}function $I(e,t){return e instanceof _1?function(i){return t5(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class lp extends f0{}class up extends f0{constructor(t){super(),this.elements=t}}function XI(e,t){const n=JI(t);for(const i of e.elements)n.some(r=>qa(r,i))||n.push(i);return{arrayValue:{values:n}}}class cp extends f0{constructor(t){super(),this.elements=t}}function QI(e,t){let n=JI(t);for(const i of e.elements)n=n.filter(r=>!qa(r,i));return{arrayValue:{values:n}}}class _1 extends f0{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function I3(e){return ei(e.integerValue||e.doubleValue)}function JI(e){return Ab(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(t,n){this.field=t,this.transform=n}}function Wq(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof up&&r instanceof up||i instanceof cp&&r instanceof cp?Wh(i.elements,r.elements,qa):i instanceof _1&&r instanceof _1?qa(i.Ae,r.Ae):i instanceof lp&&r instanceof lp}(e.transform,t.transform)}class Kq{constructor(t,n){this.version=t,this.transformResults=n}}class sa{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new sa}static exists(t){return new sa(void 0,t)}static updateTime(t){return new sa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mg(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class d0{}function ZI(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Nb(e.key,sa.none()):new Mp(e.key,e.data,sa.none());{const n=e.data,i=Ds.empty();let r=new Si(zi.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new mc(e.key,i,new ia(r.toArray()),sa.none())}}function Yq(e,t,n){e instanceof Mp?function(r,s,a){const o=r.value.clone(),l=P3(r.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(e,t,n):e instanceof mc?function(r,s,a){if(!mg(r.precondition,s))return void s.convertToUnknownDocument(a.version);const o=P3(r.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(t8(r)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Ld(e,t,n,i){return e instanceof Mp?function(s,a,o,l){if(!mg(s.precondition,a))return o;const u=s.value.clone(),c=D3(s.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(e,t,n,i):e instanceof mc?function(s,a,o,l){if(!mg(s.precondition,a))return o;const u=D3(s.fieldTransforms,l,a),c=a.data;return c.setAll(t8(s)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(s,a,o){return mg(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(e,t,n)}function $q(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=$I(i.transform,r||null);s!=null&&(n===null&&(n=Ds.empty()),n.set(i.field,s))}return n||null}function L3(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Wh(i,r,(s,a)=>Wq(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Mp extends d0{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class mc extends d0{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function t8(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function P3(e,t,n){const i=new Map;sn(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,o=t.data.field(s.field);i.set(s.field,Hq(a,o,n[r]))}return i}function D3(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,qq(s,a,t))}return i}class Nb extends d0{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xq extends d0{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&Yq(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ld(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ld(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=KI();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(r.key)?null:o;const l=ZI(a,o);l!==null&&i.set(r.key,l),a.isValidDocument()||a.convertToNoDocument(we.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),He())}isEqual(t){return this.batchId===t.batchId&&Wh(this.mutations,t.mutations,(n,i)=>L3(n,i))&&Wh(this.baseMutations,t.baseMutations,(n,i)=>L3(n,i))}}class Cb{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){sn(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=function(){return jq}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Cb(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oi,$e;function tH(e){switch(e){case Ct.OK:return ge(64938);case Ct.CANCELLED:case Ct.UNKNOWN:case Ct.DEADLINE_EXCEEDED:case Ct.RESOURCE_EXHAUSTED:case Ct.INTERNAL:case Ct.UNAVAILABLE:case Ct.UNAUTHENTICATED:return!1;case Ct.INVALID_ARGUMENT:case Ct.NOT_FOUND:case Ct.ALREADY_EXISTS:case Ct.PERMISSION_DENIED:case Ct.FAILED_PRECONDITION:case Ct.ABORTED:case Ct.OUT_OF_RANGE:case Ct.UNIMPLEMENTED:case Ct.DATA_LOSS:return!0;default:return ge(15467,{code:e})}}function e8(e){if(e===void 0)return Oo("GRPC error has no .code"),Ct.UNKNOWN;switch(e){case oi.OK:return Ct.OK;case oi.CANCELLED:return Ct.CANCELLED;case oi.UNKNOWN:return Ct.UNKNOWN;case oi.DEADLINE_EXCEEDED:return Ct.DEADLINE_EXCEEDED;case oi.RESOURCE_EXHAUSTED:return Ct.RESOURCE_EXHAUSTED;case oi.INTERNAL:return Ct.INTERNAL;case oi.UNAVAILABLE:return Ct.UNAVAILABLE;case oi.UNAUTHENTICATED:return Ct.UNAUTHENTICATED;case oi.INVALID_ARGUMENT:return Ct.INVALID_ARGUMENT;case oi.NOT_FOUND:return Ct.NOT_FOUND;case oi.ALREADY_EXISTS:return Ct.ALREADY_EXISTS;case oi.PERMISSION_DENIED:return Ct.PERMISSION_DENIED;case oi.FAILED_PRECONDITION:return Ct.FAILED_PRECONDITION;case oi.ABORTED:return Ct.ABORTED;case oi.OUT_OF_RANGE:return Ct.OUT_OF_RANGE;case oi.UNIMPLEMENTED:return Ct.UNIMPLEMENTED;case oi.DATA_LOSS:return Ct.DATA_LOSS;default:return ge(39323,{code:e})}}($e=oi||(oi={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=new Gl([4294967295,4294967295],0);function k3(e){const t=eH().encode(e),n=new gI;return n.update(t),new Uint8Array(n.digest())}function O3(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Gl([n,i],0),new Gl([r,s],0)]}class Rb{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ad(`Invalid padding: ${n}`);if(i<0)throw new ad(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ad(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new ad(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Gl.fromNumber(this.ge)}ye(t,n,i){let r=t.add(n.multiply(Gl.fromNumber(i)));return r.compare(nH)===1&&(r=new Gl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=k3(t),[i,r]=O3(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new Rb(s,r,n);return i.forEach(o=>a.insert(o)),a}insert(t){if(this.ge===0)return;const n=k3(t),[i,r]=O3(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.be(a)}}be(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Vp.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new p0(we.min(),r,new Hn(qe),Mo(),He())}}class Vp{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Vp(i,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t,n,i,r){this.Se=t,this.removedTargetIds=n,this.key=i,this.De=r}}class n8{constructor(t,n){this.targetId=t,this.Ce=n}}class i8{constructor(t,n,i=Wi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class M3{constructor(){this.ve=0,this.Fe=V3(),this.Me=Wi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=He(),n=He(),i=He();return this.Fe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ge(38017,{changeType:s})}}),new Vp(this.Me,this.xe,t,n,i)}Ke(){this.Oe=!1,this.Fe=V3()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,sn(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class iH{constructor(t){this.Ge=t,this.ze=new Map,this.je=Mo(),this.He=Im(),this.Je=Im(),this.Ze=new Hn(qe)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:ge(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(t){const n=t.targetId,i=t.Ce.count,r=this.ot(n);if(r){const s=r.target;if(n5(s))if(i===0){const a=new se(s.path);this.et(n,a,ir.newNoDocument(a,we.min()))}else sn(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const o=this.ut(t),l=o?this.ct(o,t,a):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,o;try{a=nu(i).toUint8Array()}catch(l){if(l instanceof CI)return ic("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Rb(a,r,s)}catch(l){return ic(l instanceof ad?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(o)||(this.et(n,s,null),r++)}),r}Tt(t){const n=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&n5(o.target)){const l=new se(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,ir.newNoDocument(l,t))}s.Be&&(n.set(a,s.ke()),s.Ke())}});let i=He();this.Je.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(t));const r=new p0(t,n,this.Ze,this.je,i);return this.je=Mo(),this.He=Im(),this.Je=Im(),this.Ze=new Hn(qe),r}Ye(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,n)?r.qe(n,1):r.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new M3,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Si(qe),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Si(qe),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||zt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new M3),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Im(){return new Hn(se.comparator)}function V3(){return new Hn(se.comparator)}const rH={asc:"ASCENDING",desc:"DESCENDING"},sH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aH={and:"AND",or:"OR"};class oH{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function s5(e,t){return e.useProto3Json||l0(t)?t:{value:t}}function b1(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function r8(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lH(e,t){return b1(e,t.toTimestamp())}function Ba(e){return sn(!!e,49232),we.fromTimestamp(function(n){const i=eu(n);return new On(i.seconds,i.nanos)}(e))}function Ib(e,t){return a5(e,t).canonicalString()}function a5(e,t){const n=function(r){return new Cn(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function s8(e){const t=Cn.fromString(e);return sn(c8(t),10190,{key:t.toString()}),t}function o5(e,t){return Ib(e.databaseId,t.path)}function K2(e,t){const n=s8(t);if(n.get(1)!==e.databaseId.projectId)throw new Ut(Ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ut(Ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new se(o8(n))}function a8(e,t){return Ib(e.databaseId,t)}function uH(e){const t=s8(e);return t.length===4?Cn.emptyPath():o8(t)}function l5(e){return new Cn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function o8(e){return sn(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function j3(e,t,n){return{name:o5(e,t),fields:n.value.mapValue.fields}}function cH(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(sn(c===void 0||typeof c=="string",58123),Wi.fromBase64String(c||"")):(sn(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Wi.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(u){const c=u.code===void 0?Ct.UNKNOWN:e8(u.code);return new Ut(c,u.message||"")}(a);n=new i8(i,r,s,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=K2(e,i.document.name),s=Ba(i.document.updateTime),a=i.document.createTime?Ba(i.document.createTime):we.min(),o=new Ds({mapValue:{fields:i.document.fields}}),l=ir.newFoundDocument(r,s,a,o),u=i.targetIds||[],c=i.removedTargetIds||[];n=new gg(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=K2(e,i.document),s=i.readTime?Ba(i.readTime):we.min(),a=ir.newNoDocument(r,s),o=i.removedTargetIds||[];n=new gg([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=K2(e,i.document),s=i.removedTargetIds||[];n=new gg([],s,r,null)}else{if(!("filter"in t))return ge(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new Zq(r,s),o=i.targetId;n=new n8(o,a)}}return n}function hH(e,t){let n;if(t instanceof Mp)n={update:j3(e,t.key,t.value)};else if(t instanceof Nb)n={delete:o5(e,t.key)};else if(t instanceof mc)n={update:j3(e,t.key,t.data),updateMask:bH(t.fieldMask)};else{if(!(t instanceof Xq))return ge(16599,{dt:t.type});n={verify:o5(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const o=a.transform;if(o instanceof lp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof up)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof cp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof _1)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw ge(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:lH(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge(27497)}(e,t.precondition)),n}function fH(e,t){return e&&e.length>0?(sn(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?Ba(r.updateTime):Ba(s);return a.isEqual(we.min())&&(a=Ba(s)),new Kq(a,r.transformResults||[])}(n,t))):[]}function dH(e,t){return{documents:[a8(e,t.path)]}}function pH(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=a8(e,r);const s=function(u){if(u.length!==0)return u8(la.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(c=>function(g){return{field:Hc(g.field),direction:yH(g.dir)}}(c))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=s5(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:n,parent:r}}function mH(e){let t=uH(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){sn(i===1,65062);const c=n.from[0];c.allDescendants?r=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(p){const g=l8(p);return g instanceof la&&jI(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(g=>function(w){return new op(Gc(w.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(n.orderBy));let o=null;n.limit&&(o=function(p){let g;return g=typeof p=="object"?p.value:p,l0(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(p){const g=!!p.before,d=p.values||[];return new v1(d,g)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const g=!p.before,d=p.values||[];return new v1(d,g)}(n.endAt)),Lq(t,r,a,s,o,"F",l,u)}function gH(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function l8(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Gc(n.unaryFilter.field);return fi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Gc(n.unaryFilter.field);return fi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Gc(n.unaryFilter.field);return fi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Gc(n.unaryFilter.field);return fi.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(e):e.fieldFilter!==void 0?function(n){return fi.create(Gc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return la.create(n.compositeFilter.filters.map(i=>l8(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(n.compositeFilter.op))}(e):ge(30097,{filter:e})}function yH(e){return rH[e]}function vH(e){return sH[e]}function _H(e){return aH[e]}function Hc(e){return{fieldPath:e.canonicalString()}}function Gc(e){return zi.fromServerFormat(e.fieldPath)}function u8(e){return e instanceof fi?function(n){if(n.op==="=="){if(T3(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NAN"}};if(E3(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T3(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NOT_NAN"}};if(E3(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hc(n.field),op:vH(n.op),value:n.value}}}(e):e instanceof la?function(n){const i=n.getFilters().map(r=>u8(r));return i.length===1?i[0]:{compositeFilter:{op:_H(n.op),filters:i}}}(e):ge(54877,{filter:e})}function bH(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function c8(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function h8(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,n,i,r,s=we.min(),a=we.min(),o=Wi.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Ll(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(t){this.yt=t}}function AH(e){const t=mH({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?r5(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(){this.Sn=new EH}addToCollectionParentIndex(t,n){return this.Sn.add(n),Rt.resolve()}getCollectionParents(t,n){return Rt.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return Rt.resolve()}deleteFieldIndex(t,n){return Rt.resolve()}deleteAllFieldIndexes(t){return Rt.resolve()}createTargetIndexes(t,n){return Rt.resolve()}getDocumentsMatchingTarget(t,n){return Rt.resolve(null)}getIndexType(t,n){return Rt.resolve(0)}getFieldIndexes(t,n){return Rt.resolve([])}getNextCollectionGroupToUpdate(t){return Rt.resolve(null)}getMinOffset(t,n){return Rt.resolve(tu.min())}getMinOffsetFromCollectionGroup(t,n){return Rt.resolve(tu.min())}updateCollectionGroup(t,n,i){return Rt.resolve()}updateIndexEntries(t,n){return Rt.resolve()}}class EH{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Si(Cn.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Si(Cn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},f8=41943040;class Fr{static withCacheSize(t){return new Fr(t,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr.DEFAULT_COLLECTION_PERCENTILE=10,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fr.DEFAULT=new Fr(f8,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fr.DISABLED=new Fr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new $h(0)}static ar(){return new $h(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="LruGarbageCollector",TH=1048576;function U3([e,t],[n,i]){const r=qe(e,n);return r===0?qe(t,i):r}class xH{constructor(t){this.Pr=t,this.buffer=new Si(U3),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();U3(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NH{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){zt(B3,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gf(n)?zt(B3,"Ignoring IndexedDB error during garbage collection: ",n):await mf(n)}await this.Ar(3e5)})}}class CH{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return Rt.resolve(o0.ce);const i=new xH(n);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.mr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(zt("LruGarbageCollector","Garbage collection skipped; disabled"),Rt.resolve(F3)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(zt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F3):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let i,r,s,a,o,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(zt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(i=p,o=Date.now(),this.removeTargets(t,i,n))).next(p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(u=Date.now(),zc()<=ze.DEBUG&&zt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${r} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Rt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p})))}}function RH(e,t){return new CH(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(){this.changes=new pc(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ir.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Rt.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Ld(i.mutation,r,ia.empty(),On.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,He()).next(()=>i))}getLocalViewOfDocuments(t,n,i=He()){const r=Vu();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=sd();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=Vu();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,He()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(t,n,i,r){let s=Mo();const a=Id(),o=function(){return Id()}();return n.forEach((l,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof mc)?s=s.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),Ld(c.mutation,u,c.mutation.getFieldMask(),On.now())):a.set(u.key,ia.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>o.set(u,new LH(c,a.get(u)??null))),o))}recalculateAndSaveOverlays(t,n){const i=Id();let r=new Hn((a,o)=>a-o),s=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||ia.empty();c=o.applyToLocalView(u,c),i.set(l,c);const p=(r.get(o.batchId)||He()).add(l);r=r.insert(o.batchId,p)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,p=KI();c.forEach(g=>{if(!s.has(g)){const d=ZI(n.get(g),i.get(g));d!==null&&p.set(g,d),s=s.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(t,u,p))}return Rt.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return Pq(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):zI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):Rt.resolve(Vu());let o=ip,l=s;return a.next(u=>Rt.forEach(u,(c,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(c)?Rt.resolve():this.remoteDocumentCache.getEntry(t,c).next(g=>{l=l.insert(c,g)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,He())).next(c=>({batchId:o,changes:WI(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new se(n)).next(i=>{let r=sd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=sd();return this.indexManager.getCollectionParents(t,s).next(o=>Rt.forEach(o,l=>{const u=function(p,g){return new yf(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,i,r).next(c=>{c.forEach((p,g)=>{a=a.insert(p,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,ir.newInvalidDocument(c)))});let o=sd();return a.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Ld(c.mutation,u,ia.empty(),On.now()),h0(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return Rt.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Ba(r.createTime)}}(n)),Rt.resolve()}getNamedQuery(t,n){return Rt.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(r){return{name:r.name,query:AH(r.bundledQuery),readTime:Ba(r.readTime)}}(n)),Rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(){this.overlays=new Hn(se.comparator),this.Lr=new Map}getOverlay(t,n){return Rt.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Vu();return Rt.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.bt(t,n,s)}),Rt.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(i)),Rt.resolve()}getOverlaysForCollection(t,n,i){const r=Vu(),s=n.length+1,a=new se(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return Rt.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Hn((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=Vu(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=Vu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=r)););return Rt.resolve(o)}bt(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Jq(n,i));let s=this.Lr.get(n);s===void 0&&(s=He(),this.Lr.set(n,s)),this.Lr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(){this.sessionToken=Wi.EMPTY_BYTE_STRING}getSessionToken(t){return Rt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.kr=new Si(Ci.Kr),this.qr=new Si(Ci.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const i=new Ci(t,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Wr(new Ci(t,n))}Qr(t,n){t.forEach(i=>this.removeReference(i,n))}Gr(t){const n=new se(new Cn([])),i=new Ci(n,t),r=new Ci(n,t+1),s=[];return this.qr.forEachInRange([i,r],a=>{this.Wr(a),s.push(a.key)}),s}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new se(new Cn([])),i=new Ci(n,t),r=new Ci(n,t+1);let s=He();return this.qr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new Ci(t,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Ci{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return se.comparator(t.key,n.key)||qe(t.Hr,n.Hr)}static Ur(t,n){return qe(t.Hr,n.Hr)||se.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Si(Ci.Kr)}checkEmpty(t){return Rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Qq(s,n,i,r);this.mutationQueue.push(a);for(const o of r)this.Jr=this.Jr.add(new Ci(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Rt.resolve(a)}lookupMutationBatch(t,n){return Rt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.Xr(i),s=r<0?0:r;return Rt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Rt.resolve(this.mutationQueue.length===0?bb:this.Yn-1)}getAllMutationBatches(t){return Rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Ci(n,0),r=new Ci(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([i,r],a=>{const o=this.Zr(a.Hr);s.push(o)}),Rt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Si(qe);return n.forEach(r=>{const s=new Ci(r,0),a=new Ci(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],o=>{i=i.add(o.Hr)})}),Rt.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;se.isDocumentKey(s)||(s=s.child(""));const a=new Ci(new se(s),0);let o=new Si(qe);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(o=o.add(l.Hr)),!0)},a),Rt.resolve(this.Yr(o))}Yr(t){const n=[];return t.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){sn(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return Rt.forEach(n.mutations,r=>{const s=new Ci(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Jr=i})}nr(t){}containsKey(t,n){const i=new Ci(n,0),r=this.Jr.firstAfterOrEqual(i);return Rt.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Rt.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(t){this.ti=t,this.docs=function(){return new Hn(se.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return Rt.resolve(i?i.document.mutableCopy():ir.newInvalidDocument(n))}getEntries(t,n){let i=Mo();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ir.newInvalidDocument(r))}),Rt.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=Mo();const a=n.path,o=new se(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||lq(oq(c),i)<=0||(r.has(c.key)||h0(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Rt.resolve(s)}getAllFromCollectionGroup(t,n,i,r){ge(9500)}ni(t,n){return Rt.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new jH(this)}getSize(t){return Rt.resolve(this.size)}}class jH extends IH{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Mr.addEntry(t,r)):this.Mr.removeEntry(i)}),Rt.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(t){this.persistence=t,this.ri=new pc(n=>Sb(n),Eb),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new Lb,this.targetCount=0,this.oi=$h._r()}forEachTarget(t,n){return this.ri.forEach((i,r)=>n(r)),Rt.resolve()}getLastRemoteSnapshotVersion(t){return Rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Rt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),Rt.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new $h(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,Rt.resolve()}updateTargetData(t,n){return this.lr(n),Rt.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Rt.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.ri.forEach((a,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)}),Rt.waitFor(s).next(()=>r)}getTargetCount(t){return Rt.resolve(this.targetCount)}getTargetData(t,n){const i=this.ri.get(n)||null;return Rt.resolve(i)}addMatchingKeys(t,n,i){return this.si.$r(n,i),Rt.resolve()}removeMatchingKeys(t,n,i){this.si.Qr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),Rt.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),Rt.resolve()}getMatchingKeysForTargetId(t,n){const i=this.si.jr(n);return Rt.resolve(i)}containsKey(t,n){return Rt.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(t,n){this._i={},this.overlays={},this.ai=new o0(0),this.ui=!1,this.ui=!0,this.ci=new OH,this.referenceDelegate=t(this),this.li=new FH(this),this.indexManager=new SH,this.remoteDocumentCache=function(r){return new VH(r)}(i=>this.referenceDelegate.hi(i)),this.serializer=new wH(n),this.Pi=new DH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new kH,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this._i[t.toKey()];return i||(i=new MH(n,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,i){zt("MemoryPersistence","Starting transaction:",t);const r=new BH(this.ai.next());return this.referenceDelegate.Ti(),i(r).next(s=>this.referenceDelegate.Ii(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(t,n){return Rt.or(Object.values(this._i).map(i=>()=>i.containsKey(t,n)))}}class BH extends cq{constructor(t){super(),this.currentSequenceNumber=t}}class Pb{constructor(t){this.persistence=t,this.Ri=new Lb,this.Ai=null}static Vi(t){return new Pb(t)}get di(){if(this.Ai)return this.Ai;throw ge(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),Rt.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),Rt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Rt.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.di.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rt.forEach(this.di,i=>{const r=se.fromPath(i);return this.mi(t,r).next(s=>{s||n.removeEntry(r,we.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return Rt.or([()=>Rt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class w1{constructor(t,n){this.persistence=t,this.fi=new pc(i=>dq(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=RH(this,n)}static Vi(t,n){return new w1(t,n)}Ti(){}Ii(t){return Rt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}pr(t){let n=0;return this.mr(t,i=>{n++}).next(()=>n)}mr(t,n){return Rt.forEach(this.fi,(i,r)=>this.wr(t,i,r).next(s=>s?Rt.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ni(t,a=>this.wr(t,a,n).next(o=>{o||(i++,s.removeEntry(a,we.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),Rt.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),Rt.resolve()}removeReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),Rt.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),Rt.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=dg(t.data.value)),n}wr(t,n,i){return Rt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.fi.get(n);return Rt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Ts=i,this.Is=r}static Es(t,n){let i=He(),r=He();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Db(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return hF()?8:hq(sr())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.gs(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ps(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new UH;return this.ys(t,n,a).next(o=>{if(s.result=o,this.As)return this.ws(t,n,a,o.size)})}).next(()=>s.result)}ws(t,n,i,r){return i.documentReadCount<this.Vs?(zc()<=ze.DEBUG&&zt("QueryEngine","SDK will not create cache indexes for query:",qc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Rt.resolve()):(zc()<=ze.DEBUG&&zt("QueryEngine","Query:",qc(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(zc()<=ze.DEBUG&&zt("QueryEngine","The SDK decides to create cache indexes for query:",qc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fa(n))):Rt.resolve())}gs(t,n){if(R3(n))return Rt.resolve(null);let i=Fa(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=r5(n,null,"F"),i=Fa(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=He(...s);return this.fs.getDocuments(t,a).next(o=>this.indexManager.getMinOffset(t,i).next(l=>{const u=this.bs(n,o);return this.Ss(n,u,a,l.readTime)?this.gs(t,r5(n,null,"F")):this.Ds(t,u,n,l)}))})))}ps(t,n,i,r){return R3(n)||r.isEqual(we.min())?Rt.resolve(null):this.fs.getDocuments(t,i).next(s=>{const a=this.bs(n,s);return this.Ss(n,a,i,r)?Rt.resolve(null):(zc()<=ze.DEBUG&&zt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qc(n)),this.Ds(t,a,n,aq(r,ip)).next(o=>o))})}bs(t,n){let i=new Si(HI(t));return n.forEach((r,s)=>{h0(t,s)&&(i=i.add(s))}),i}Ss(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ys(t,n,i){return zc()<=ze.DEBUG&&zt("QueryEngine","Using full collection scan to execute query:",qc(n)),this.fs.getDocumentsMatchingQuery(t,n,tu.min(),i)}Ds(t,n,i,r){return this.fs.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="LocalStore",qH=3e8;class HH{constructor(t,n,i,r){this.persistence=t,this.Cs=n,this.serializer=r,this.vs=new Hn(qe),this.Fs=new pc(s=>Sb(s),Eb),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PH(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function GH(e,t,n,i){return new HH(e,t,n,i)}async function p8(e,t){const n=Te(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Os(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],o=[];let l=He();for(const u of r){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({Ns:u,removedBatchIds:a,addedBatchIds:o}))})})}function WH(e,t){const n=Te(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const p=u.batch,g=p.keys();let d=Rt.resolve();return g.forEach(w=>{d=d.next(()=>c.getEntry(l,w)).next(x=>{const I=u.docVersions.get(w);sn(I!==null,48541),x.version.compareTo(I)<0&&(p.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),c.addEntry(x)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(l,p))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let l=He();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function m8(e){const t=Te(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function KH(e,t){const n=Te(e),i=t.snapshotVersion;let r=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});r=n.vs;const o=[];t.targetChanges.forEach((c,p)=>{const g=r.get(p);if(!g)return;o.push(n.li.removeMatchingKeys(s,c.removedDocuments,p).next(()=>n.li.addMatchingKeys(s,c.addedDocuments,p)));let d=g.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?d=d.withResumeToken(Wi.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,i)),r=r.insert(p,d),function(x,I,_){return x.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=qH?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(g,d,c)&&o.push(n.li.updateTargetData(s,d))});let l=Mo(),u=He();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),o.push(YH(s,a,t.documentUpdates).next(c=>{l=c.Bs,u=c.Ls})),!i.isEqual(we.min())){const c=n.li.getLastRemoteSnapshotVersion(s).next(p=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,i));o.push(c)}return Rt.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.vs=r,s))}function YH(e,t,n){let i=He(),r=He();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=Mo();return n.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(o)),l.isNoDocument()&&l.version.isEqual(we.min())?(t.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),a=a.insert(o,l)):zt(kb,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Bs:a,Ls:r}})}function $H(e,t){const n=Te(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=bb),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function XH(e,t){const n=Te(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.li.getTargetData(i,t).next(s=>s?(r=s,Rt.resolve(r)):n.li.allocateTargetId(i).next(a=>(r=new Ll(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(t,i.targetId)),i})}async function u5(e,t,n){const i=Te(e),r=i.vs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!gf(a))throw a;zt(kb,`Failed to update sequence numbers for target ${t}: ${a}`)}i.vs=i.vs.remove(t),i.Fs.delete(r.target)}function z3(e,t,n){const i=Te(e);let r=we.min(),s=He();return i.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const p=Te(l),g=p.Fs.get(c);return g!==void 0?Rt.resolve(p.vs.get(g)):p.li.getTargetData(u,c)}(i,a,Fa(t)).next(o=>{if(o)return r=o.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,t,n?r:we.min(),n?s:He())).next(o=>(QH(i,Oq(t),o),{documents:o,ks:s})))}function QH(e,t,n){let i=e.Ms.get(t)||we.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ms.set(t,i)}class q3{constructor(){this.activeTargetIds=Uq()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JH{constructor(){this.vo=new q3,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,i){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new q3,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="ConnectivityMonitor";class G3{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){zt(H3,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){zt(H3,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm=null;function c5(){return Lm===null?Lm=function(){return 268435456+Math.round(2147483648*Math.random())}():Lm++,"0x"+Lm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="RestConnection",tG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class eG{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===g1?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,n,i,r,s){const a=c5(),o=this.Qo(t,n.toUriEncodedString());zt(Y2,`Sending RPC '${t}' ${a}:`,o,i);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,r,s);const{host:u}=new URL(o),c=hf(u);return this.zo(t,o,l,i,c).then(p=>(zt(Y2,`Received RPC '${t}' ${a}: `,p),p),p=>{throw ic(Y2,`RPC '${t}' ${a} failed with error: `,p,"url: ",o,"request:",i),p})}jo(t,n,i,r,s,a){return this.Wo(t,n,i,r,s)}Go(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pf}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}Qo(t,n){const i=tG[t];let r=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="WebChannelConnection",Kf=(e,t,n)=>{e.listen(t,i=>{try{n(i)}catch(r){setTimeout(()=>{throw r},0)}})};class Eh extends eG{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Eh.c_){const t=bI();Kf(t,_I.STAT_EVENT,n=>{n.stat===Qv.PROXY?zt(Qi,"STAT_EVENT: detected buffering proxy"):n.stat===Qv.NOPROXY&&zt(Qi,"STAT_EVENT: detected no buffering proxy")}),Eh.c_=!0}}zo(t,n,i,r,s){const a=c5();return new Promise((o,l)=>{const u=new yI;u.setWithCredentials(!0),u.listenOnce(vI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case fg.NO_ERROR:const p=u.getResponseJson();zt(Qi,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),o(p);break;case fg.TIMEOUT:zt(Qi,`RPC '${t}' ${a} timed out`),l(new Ut(Ct.DEADLINE_EXCEEDED,"Request time out"));break;case fg.HTTP_ERROR:const g=u.getStatus();if(zt(Qi,`RPC '${t}' ${a} failed with status:`,g,"response text:",u.getResponseText()),g>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const w=d==null?void 0:d.error;if(w&&w.status&&w.message){const x=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(Ct).indexOf(E)>=0?E:Ct.UNKNOWN}(w.status);l(new Ut(x,w.message))}else l(new Ut(Ct.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Ut(Ct.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:t,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{zt(Qi,`RPC '${t}' ${a} completed.`)}});const c=JSON.stringify(r);zt(Qi,`RPC '${t}' ${a} sending request:`,r),u.send(n,"POST",c,i,15)})}T_(t,n,i){const r=c5(),s=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,i),o.encodeInitMessageHeaders=!0;const u=s.join("");zt(Qi,`Creating RPC '${t}' stream ${r}: ${u}`,o);const c=a.createWebChannel(u,o);this.I_(c);let p=!1,g=!1;const d=new nG({Ho:w=>{g?zt(Qi,`Not sending because RPC '${t}' stream ${r} is closed:`,w):(p||(zt(Qi,`Opening RPC '${t}' stream ${r} transport.`),c.open(),p=!0),zt(Qi,`RPC '${t}' stream ${r} sending:`,w),c.send(w))},Jo:()=>c.close()});return Kf(c,rd.EventType.OPEN,()=>{g||(zt(Qi,`RPC '${t}' stream ${r} transport opened.`),d.i_())}),Kf(c,rd.EventType.CLOSE,()=>{g||(g=!0,zt(Qi,`RPC '${t}' stream ${r} transport closed`),d.o_(),this.E_(c))}),Kf(c,rd.EventType.ERROR,w=>{g||(g=!0,ic(Qi,`RPC '${t}' stream ${r} transport errored. Name:`,w.name,"Message:",w.message),d.o_(new Ut(Ct.UNAVAILABLE,"The operation could not be completed")))}),Kf(c,rd.EventType.MESSAGE,w=>{var x;if(!g){const I=w.data[0];sn(!!I,16349);const _=I,E=(_==null?void 0:_.error)||((x=_[0])==null?void 0:x.error);if(E){zt(Qi,`RPC '${t}' stream ${r} received error:`,E);const C=E.status;let D=function(M){const N=oi[M];if(N!==void 0)return e8(N)}(C),G=E.message;C==="NOT_FOUND"&&G.includes("database")&&G.includes("does not exist")&&G.includes(this.databaseId.database)&&ic(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),D===void 0&&(D=Ct.INTERNAL,G="Unknown error status: "+C+" with message "+E.message),g=!0,d.o_(new Ut(D,G)),c.close()}else zt(Qi,`RPC '${t}' stream ${r} received:`,I),d.__(I)}}),Eh.u_(),setTimeout(()=>{d.s_()},0),d}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,i){super.Go(t,n,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return wI()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iG(e){return new Eh(e)}function $2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(e){return new oH(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eh.c_=!1;class g8{constructor(t,n,i=1e3,r=1.5,s=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=r,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&zt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="PersistentStream";class y8{constructor(t,n,i,r,s,a,o,l){this.Ci=t,this.b_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new g8(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Ct.RESOURCE_EXHAUSTED?(Oo(n.toString()),Oo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{t(()=>{const r=new Ut(Ct.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(t,n){const i=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.H_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return zt(W3,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(zt(W3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rG extends y8{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=cH(this.serializer,t),i=function(s){if(!("targetChange"in s))return we.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?we.min():a.readTime?Ba(a.readTime):we.min()}(t);return this.listener.J_(n,i)}Z_(t){const n={};n.database=l5(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=n5(l)?{documents:dH(s,l)}:{query:pH(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=r8(s,a.resumeToken);const u=s5(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(we.min())>0){o.readTime=b1(s,a.snapshotVersion.toTimestamp());const u=s5(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const i=gH(this.serializer,t);i&&(n.labels=i),this.K_(n)}X_(t){const n={};n.database=l5(this.serializer),n.removeTarget=t,this.K_(n)}}class sG extends y8{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return sn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,sn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){sn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=fH(t.writeResults,t.commitTime),i=Ba(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=l5(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>hH(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{}class oG extends aG{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Ut(Ct.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(t,a5(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ut(Ct.UNKNOWN,s.toString())})}jo(t,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.jo(t,a5(n,i),r,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ut(Ct.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function lG(e,t,n,i){return new oG(e,t,n,i)}class uG{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oo(n),this.aa=!1):zt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc="RemoteStore";class cG{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{gc(this)&&(zt(rc,"Restarting streams for network reachability change."),await async function(l){const u=Te(l);u.Ea.add(4),await jp(u),u.Va.set("Unknown"),u.Ea.delete(4),await g0(u)}(this))})}),this.Va=new uG(i,r)}}async function g0(e){if(gc(e))for(const t of e.Ra)await t(!0)}async function jp(e){for(const t of e.Ra)await t(!1)}function v8(e,t){const n=Te(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),jb(n)?Vb(n):vf(n).O_()&&Mb(n,t))}function Ob(e,t){const n=Te(e),i=vf(n);n.Ia.delete(t),i.O_()&&_8(n,t),n.Ia.size===0&&(i.O_()?i.L_():gc(n)&&n.Va.set("Unknown"))}function Mb(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(we.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vf(e).Z_(t)}function _8(e,t){e.da.$e(t),vf(e).X_(t)}function Vb(e){e.da=new iH({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),vf(e).start(),e.Va.ua()}function jb(e){return gc(e)&&!vf(e).x_()&&e.Ia.size>0}function gc(e){return Te(e).Ea.size===0}function b8(e){e.da=void 0}async function hG(e){e.Va.set("Online")}async function fG(e){e.Ia.forEach((t,n)=>{Mb(e,t)})}async function dG(e,t){b8(e),jb(e)?(e.Va.ha(t),Vb(e)):e.Va.set("Unknown")}async function pG(e,t,n){if(e.Va.set("Online"),t instanceof i8&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const o of s.targetIds)r.Ia.has(o)&&(await r.remoteSyncer.rejectListen(o,a),r.Ia.delete(o),r.da.removeTarget(o))}(e,t)}catch(i){zt(rc,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await A1(e,i)}else if(t instanceof gg?e.da.Xe(t):t instanceof n8?e.da.st(t):e.da.tt(t),!n.isEqual(we.min()))try{const i=await m8(e.localStore);n.compareTo(i)>=0&&await function(s,a){const o=s.da.Tt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Ia.get(u);c&&s.Ia.set(u,c.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const c=s.Ia.get(l);if(!c)return;s.Ia.set(l,c.withResumeToken(Wi.EMPTY_BYTE_STRING,c.snapshotVersion)),_8(s,l);const p=new Ll(c.target,l,u,c.sequenceNumber);Mb(s,p)}),s.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){zt(rc,"Failed to raise snapshot:",i),await A1(e,i)}}async function A1(e,t,n){if(!gf(t))throw t;e.Ea.add(1),await jp(e),e.Va.set("Offline"),n||(n=()=>m8(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{zt(rc,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await g0(e)})}function w8(e,t){return t().catch(n=>A1(e,n,t))}async function y0(e){const t=Te(e),n=ru(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bb;for(;mG(t);)try{const r=await $H(t.localStore,i);if(r===null){t.Ta.length===0&&n.L_();break}i=r.batchId,gG(t,r)}catch(r){await A1(t,r)}A8(t)&&S8(t)}function mG(e){return gc(e)&&e.Ta.length<10}function gG(e,t){e.Ta.push(t);const n=ru(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function A8(e){return gc(e)&&!ru(e).x_()&&e.Ta.length>0}function S8(e){ru(e).start()}async function yG(e){ru(e).ra()}async function vG(e){const t=ru(e);for(const n of e.Ta)t.ea(n.mutations)}async function _G(e,t,n){const i=e.Ta.shift(),r=Cb.from(i,t,n);await w8(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await y0(e)}async function bG(e,t){t&&ru(e).Y_&&await async function(i,r){if(function(a){return tH(a)&&a!==Ct.ABORTED}(r.code)){const s=i.Ta.shift();ru(i).B_(),await w8(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await y0(i)}}(e,t),A8(e)&&S8(e)}async function K3(e,t){const n=Te(e);n.asyncQueue.verifyOperationInProgress(),zt(rc,"RemoteStore received new credentials");const i=gc(n);n.Ea.add(3),await jp(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await g0(n)}async function wG(e,t){const n=Te(e);t?(n.Ea.delete(2),await g0(n)):t||(n.Ea.add(2),await jp(n),n.Va.set("Unknown"))}function vf(e){return e.ma||(e.ma=function(n,i,r){const s=Te(n);return s.sa(),new rG(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Zo:hG.bind(null,e),Yo:fG.bind(null,e),t_:dG.bind(null,e),J_:pG.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),jb(e)?Vb(e):e.Va.set("Unknown")):(await e.ma.stop(),b8(e))})),e.ma}function ru(e){return e.fa||(e.fa=function(n,i,r){const s=Te(n);return s.sa(),new sG(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:yG.bind(null,e),t_:bG.bind(null,e),ta:vG.bind(null,e),na:_G.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await y0(e)):(await e.fa.stop(),e.Ta.length>0&&(zt(rc,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Hu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,o=new Fb(t,n,a,r,s);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ut(Ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bb(e,t){if(Oo("AsyncQueue",`${t}: ${e}`),gf(e))return new Ut(Ct.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{static emptySet(t){return new Th(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||se.comparator(n.key,i.key):(n,i)=>se.comparator(n.key,i.key),this.keyedMap=sd(),this.sortedSet=new Hn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Th)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Th;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this.ga=new Hn(se.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):ge(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class Xh{constructor(t,n,i,r,s,a,o,l,u){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Xh(t,n,Th.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&c0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class SG{constructor(){this.queries=$3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=Te(n),s=r.queries;r.queries=$3(),s.forEach((a,o)=>{for(const l of o.ba)l.onError(i)})})(this,new Ut(Ct.ABORTED,"Firestore shutting down"))}}function $3(){return new pc(e=>qI(e),c0)}async function EG(e,t){const n=Te(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.Sa()&&t.Da()&&(i=2):(s=new AG,i=t.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const o=Bb(a,`Initialization of query '${qc(t.query)}' failed`);return void t.onError(o)}n.queries.set(r,s),s.ba.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Ub(n)}async function TG(e,t){const n=Te(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.ba.indexOf(t);a>=0&&(s.ba.splice(a,1),s.ba.length===0?r=t.Da()?0:1:!s.Sa()&&t.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function xG(e,t){const n=Te(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const o of a.ba)o.Fa(r)&&(i=!0);a.wa=r}}i&&Ub(n)}function NG(e,t,n){const i=Te(e),r=i.queries.get(t);if(r)for(const s of r.ba)s.onError(n);i.queries.delete(t)}function Ub(e){e.Ca.forEach(t=>{t.next()})}var h5,X3;(X3=h5||(h5={})).Ma="default",X3.Cache="cache";class CG{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Xh(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Xh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==h5.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(t){this.key=t}}class T8{constructor(t){this.key=t}}class RG{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.eu=HI(t),this.tu=new Th(this.eu)}get nu(){return this.Za}ru(t,n){const i=n?n.iu:new Y3,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,o=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((c,p)=>{const g=r.get(c),d=h0(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),x=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let I=!1;g&&d?g.data.isEqual(d.data)?w!==x&&(i.track({type:3,doc:d}),I=!0):this.su(g,d)||(i.track({type:2,doc:d}),I=!0,(l&&this.eu(d,l)>0||u&&this.eu(d,u)<0)&&(o=!0)):!g&&d?(i.track({type:0,doc:d}),I=!0):g&&!d&&(i.track({type:1,doc:g}),I=!0,(l||u)&&(o=!0)),I&&(d?(a=a.add(d),s=x?s.add(c):s.delete(c)):(a=a.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{tu:a,iu:i,Ss:o,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort((c,p)=>function(d,w){const x=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:I})}};return x(d)-x(w)}(c.type,p.type)||this.eu(c.doc,p.doc)),this.ou(i),r=r??!1;const o=n&&!r?this._u():[],l=this.Ya.size===0&&this.current&&!r?1:0,u=l!==this.Xa;return this.Xa=l,a.length!==0||u?{snapshot:new Xh(this.query,t.tu,s,a,t.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Y3,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=He(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new T8(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new E8(i))}),n}cu(t){this.Za=t.ks,this.Ya=He();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Xh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const zb="SyncEngine";class IG{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class LG{constructor(t){this.key=t,this.hu=!1}}class PG{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new pc(o=>qI(o),c0),this.Iu=new Map,this.Eu=new Set,this.Ru=new Hn(se.comparator),this.Au=new Map,this.Vu=new Lb,this.du={},this.mu=new Map,this.fu=$h.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DG(e,t,n=!0){const i=L8(e);let r;const s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await x8(i,t,n,!0),r}async function kG(e,t){const n=L8(e);await x8(n,t,!0,!1)}async function x8(e,t,n,i){const r=await XH(e.localStore,Fa(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return i&&(o=await OG(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&v8(e.remoteStore,r),o}async function OG(e,t,n,i,r){e.pu=(p,g,d)=>async function(x,I,_,E){let C=I.view.ru(_);C.Ss&&(C=await z3(x.localStore,I.query,!1).then(({documents:M})=>I.view.ru(M,C)));const D=E&&E.targetChanges.get(I.targetId),G=E&&E.targetMismatches.get(I.targetId)!=null,et=I.view.applyChanges(C,x.isPrimaryClient,D,G);return J3(x,I.targetId,et.au),et.snapshot}(e,p,g,d);const s=await z3(e.localStore,t,!0),a=new RG(t,s.ks),o=a.ru(s.documents),l=Vp.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),u=a.applyChanges(o,e.isPrimaryClient,l);J3(e,n,u.au);const c=new IG(t,n,a);return e.Tu.set(t,c),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function MG(e,t,n){const i=Te(e),r=i.Tu.get(t),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!c0(a,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await u5(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Ob(i.remoteStore,r.targetId),f5(i,r.targetId)}).catch(mf)):(f5(i,r.targetId),await u5(i.localStore,r.targetId,!0))}async function VG(e,t){const n=Te(e),i=n.Tu.get(t),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Ob(n.remoteStore,i.targetId))}async function jG(e,t,n){const i=GG(e);try{const r=await function(a,o){const l=Te(a),u=On.now(),c=o.reduce((d,w)=>d.add(w.key),He());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let w=Mo(),x=He();return l.xs.getEntries(d,c).next(I=>{w=I,w.forEach((_,E)=>{E.isValidDocument()||(x=x.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,w)).next(I=>{p=I;const _=[];for(const E of o){const C=$q(E,p.get(E.key).overlayedDocument);C!=null&&_.push(new mc(E.key,C,OI(C.value.mapValue),sa.exists(!0)))}return l.mutationQueue.addMutationBatch(d,u,_,o)}).next(I=>{g=I;const _=I.applyToLocalDocumentSet(p,x);return l.documentOverlayCache.saveOverlays(d,I.batchId,_)})}).then(()=>({batchId:g.batchId,changes:WI(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,o,l){let u=a.du[a.currentUser.toKey()];u||(u=new Hn(qe)),u=u.insert(o,l),a.du[a.currentUser.toKey()]=u}(i,r.batchId,n),await Fp(i,r.changes),await y0(i.remoteStore)}catch(r){const s=Bb(r,"Failed to persist write");n.reject(s)}}async function N8(e,t){const n=Te(e);try{const i=await KH(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(sn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?sn(a.hu,14607):r.removedDocuments.size>0&&(sn(a.hu,42227),a.hu=!1))}),await Fp(n,i,t)}catch(i){await mf(i)}}function Q3(e,t,n){const i=Te(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const o=a.view.va(t);o.snapshot&&r.push(o.snapshot)}),function(a,o){const l=Te(a);l.onlineState=o;let u=!1;l.queries.forEach((c,p)=>{for(const g of p.ba)g.va(o)&&(u=!0)}),u&&Ub(l)}(i.eventManager,t),r.length&&i.Pu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function FG(e,t,n){const i=Te(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Au.get(t),s=r&&r.key;if(s){let a=new Hn(se.comparator);a=a.insert(s,ir.newNoDocument(s,we.min()));const o=He().add(s),l=new p0(we.min(),new Map,new Hn(qe),a,o);await N8(i,l),i.Ru=i.Ru.remove(s),i.Au.delete(t),qb(i)}else await u5(i.localStore,t,!1).then(()=>f5(i,t,n)).catch(mf)}async function BG(e,t){const n=Te(e),i=t.batch.batchId;try{const r=await WH(n.localStore,t);R8(n,i,null),C8(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Fp(n,r)}catch(r){await mf(r)}}async function UG(e,t,n){const i=Te(e);try{const r=await function(a,o){const l=Te(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(p=>(sn(p!==null,37113),c=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(i.localStore,t);R8(i,t,n),C8(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Fp(i,r)}catch(r){await mf(r)}}function C8(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function R8(e,t,n){const i=Te(e);let r=i.du[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.du[i.currentUser.toKey()]=r}}function f5(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(i=>{e.Vu.containsKey(i)||I8(e,i)})}function I8(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(Ob(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),qb(e))}function J3(e,t,n){for(const i of n)i instanceof E8?(e.Vu.addReference(i.key,t),zG(e,i)):i instanceof T8?(zt(zb,"Document no longer in limbo: "+i.key),e.Vu.removeReference(i.key,t),e.Vu.containsKey(i.key)||I8(e,i.key)):ge(19791,{wu:i})}function zG(e,t){const n=t.key,i=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(i)||(zt(zb,"New document in limbo: "+n),e.Eu.add(i),qb(e))}function qb(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new se(Cn.fromString(t)),i=e.fu.next();e.Au.set(i,new LG(n)),e.Ru=e.Ru.insert(n,i),v8(e.remoteStore,new Ll(Fa(Tb(n.path)),i,"TargetPurposeLimboResolution",o0.ce))}}async function Fp(e,t,n){const i=Te(e),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((o,l)=>{a.push(i.pu(l,t,n).then(u=>{var c;if((u||n)&&i.isPrimaryClient){const p=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;i.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){r.push(u);const p=Db.Es(l.targetId,u);s.push(p)}}))}),await Promise.all(a),i.Pu.J_(r),await async function(l,u){const c=Te(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>Rt.forEach(u,g=>Rt.forEach(g.Ts,d=>c.persistence.referenceDelegate.addReference(p,g.targetId,d)).next(()=>Rt.forEach(g.Is,d=>c.persistence.referenceDelegate.removeReference(p,g.targetId,d)))))}catch(p){if(!gf(p))throw p;zt(kb,"Failed to update sequence numbers: "+p)}for(const p of u){const g=p.targetId;if(!p.fromCache){const d=c.vs.get(g),w=d.snapshotVersion,x=d.withLastLimboFreeSnapshotVersion(w);c.vs=c.vs.insert(g,x)}}}(i.localStore,s))}async function qG(e,t){const n=Te(e);if(!n.currentUser.isEqual(t)){zt(zb,"User change. New user:",t.toKey());const i=await p8(n.localStore,t);n.currentUser=t,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new Ut(Ct.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Fp(n,i.Ns)}}function HG(e,t){const n=Te(e),i=n.Au.get(t);if(i&&i.hu)return He().add(i.key);{let r=He();const s=n.Iu.get(t);if(!s)return r;for(const a of s){const o=n.Tu.get(a);r=r.unionWith(o.view.nu)}return r}}function L8(e){const t=Te(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=N8.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HG.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=FG.bind(null,t),t.Pu.J_=xG.bind(null,t.eventManager),t.Pu.yu=NG.bind(null,t.eventManager),t}function GG(e){const t=Te(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BG.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UG.bind(null,t),t}class S1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=m0(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return GH(this.persistence,new zH,t.initialUser,this.serializer)}Cu(t){return new d8(Pb.Vi,this.serializer)}Du(t){return new JH}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}S1.provider={build:()=>new S1};class WG extends S1{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){sn(this.persistence.referenceDelegate instanceof w1,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new NH(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Fr.withCacheSize(this.cacheSizeBytes):Fr.DEFAULT;return new d8(i=>w1.Vi(i,n),this.serializer)}}class d5{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Q3(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=qG.bind(null,this.syncEngine),await wG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new SG}()}createDatastore(t){const n=m0(t.databaseInfo.databaseId),i=iG(t.databaseInfo);return lG(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,o){return new cG(i,r,s,a,o)}(this.localStore,this.datastore,t.asyncQueue,n=>Q3(this.syncEngine,n,0),function(){return G3.v()?new G3:new ZH}())}createSyncEngine(t,n){return function(r,s,a,o,l,u,c){const p=new PG(r,s,a,o,l,u);return c&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=Te(r);zt(rc,"RemoteStore shutting down."),s.Ea.add(5),await jp(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}d5.provider={build:()=>new d5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Oo("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="FirestoreClient";class YG{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=r,this.user=nr.UNAUTHENTICATED,this.clientId=_b.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{zt(su,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(zt(su,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Bb(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function X2(e,t){e.asyncQueue.verifyOperationInProgress(),zt(su,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await p8(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Z3(e,t){e.asyncQueue.verifyOperationInProgress();const n=await $G(e);zt(su,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>K3(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>K3(t.remoteStore,r)),e._onlineComponents=t}async function $G(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){zt(su,"Using user provided OfflineComponentProvider");try{await X2(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===Ct.FAILED_PRECONDITION||r.code===Ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;ic("Error using user provided cache. Falling back to memory cache: "+n),await X2(e,new S1)}}else zt(su,"Using default OfflineComponentProvider"),await X2(e,new WG(void 0));return e._offlineComponents}async function P8(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(zt(su,"Using user provided OnlineComponentProvider"),await Z3(e,e._uninitializedComponentsProvider._online)):(zt(su,"Using default OnlineComponentProvider"),await Z3(e,new d5))),e._onlineComponents}function XG(e){return P8(e).then(t=>t.syncEngine)}async function tE(e){const t=await P8(e),n=t.eventManager;return n.onListen=DG.bind(null,t.syncEngine),n.onUnlisten=MG.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=kG.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=VG.bind(null,t.syncEngine),n}function QG(e,t,n,i){const r=new KG(i),s=new CG(t,r,n);return e.asyncQueue.enqueueAndForget(async()=>EG(await tE(e),s)),()=>{r.Nu(),e.asyncQueue.enqueueAndForget(async()=>TG(await tE(e),s))}}function JG(e,t){const n=new Hu;return e.asyncQueue.enqueueAndForget(async()=>jG(await XG(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG="ComponentProvider",eE=new Map;function tW(e,t,n,i,r){return new gq(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,D8(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8="firestore.googleapis.com",nE=!0;class iE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ut(Ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k8,this.ssl=nE}else this.host=t.host,this.ssl=t.ssl??nE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=f8;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<TH)throw new Ut(Ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D8(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ut(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ut(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ut(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class v0{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ut(Ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ut(Ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new $z;switch(i.type){case"firstParty":return new Zz(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ut(Ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=eE.get(n);i&&(zt(ZG,"Removing Datastore"),eE.delete(n),i.terminate())}(this),Promise.resolve()}}function eW(e,t,n,i={}){var u;e=Wl(e,v0);const r=hf(t),s=e._getSettings(),a={...s,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;r&&(CR(`https://${o}`),RR("Firestore",!0)),s.host!==k8&&s.host!==o&&ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:r,emulatorOptions:i};if(!Ju(l,a)&&(e._setSettings(l),i.mockUserToken)){let c,p;if(typeof i.mockUserToken=="string")c=i.mockUserToken,p=nr.MOCK_USER;else{c=nF(i.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Ut(Ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new nr(g)}e._authCredentials=new Xz(new SI(c,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new yc(this.firestore,t,this._query)}}class mi{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mi(this.firestore,t,this._key)}toJSON(){return{type:mi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Op(n,mi._jsonSchema))return new mi(t,i||null,new se(Cn.fromString(n.referencePath)))}}mi._jsonSchemaVersion="firestore/documentReference/1.0",mi._jsonSchema={type:pi("string",mi._jsonSchemaVersion),referencePath:pi("string")};class Kl extends yc{constructor(t,n,i){super(t,n,Tb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mi(this.firestore,null,new se(t))}withConverter(t){return new Kl(this.firestore,t,this._path)}}function rE(e,t,...n){if(e=Gi(e),EI("collection","path",t),e instanceof v0){const i=Cn.fromString(t,...n);return m3(i),new Kl(e,null,i)}{if(!(e instanceof mi||e instanceof Kl))throw new Ut(Ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Cn.fromString(t,...n));return m3(i),new Kl(e.firestore,null,i)}}function E1(e,t,...n){if(e=Gi(e),arguments.length===1&&(t=_b.newId()),EI("doc","path",t),e instanceof v0){const i=Cn.fromString(t,...n);return p3(i),new mi(e,null,new se(i))}{if(!(e instanceof mi||e instanceof Kl))throw new Ut(Ct.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Cn.fromString(t,...n));return p3(i),new mi(e.firestore,e instanceof Kl?e.converter:null,new se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="AsyncQueue";class aE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new g8(this,"async_queue_retry"),this._c=()=>{const i=$2();i&&zt(sE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=$2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=$2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Hu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!gf(t))throw t;zt(sE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Oo("INTERNAL UNHANDLED ERROR: ",oE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const r=Fb.createAndSchedule(this,t,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&ge(47125,{Pc:oE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function oE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Qh extends v0{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new aE,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new aE(t),this._firestoreClient=void 0,await t}}}function nW(e,t){const n=typeof e=="object"?e:DR(),i=typeof e=="string"?e:g1,r=ub(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=tF("firestore");s&&eW(r,...s)}return r}function O8(e){if(e._terminated)throw new Ut(Ct.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||iW(e),e._firestoreClient}function iW(e){var i,r,s,a;const t=e._freezeSettings(),n=tW(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,(r=e._app)==null?void 0:r.options.apiKey,t);e._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new YG(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ks(Wi.fromBase64String(t))}catch(n){throw new Ut(Ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ks(Wi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ks._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Op(t,ks._jsonSchema))return ks.fromBase64String(t.bytes)}}ks._jsonSchemaVersion="firestore/bytes/1.0",ks._jsonSchema={type:pi("string",ks._jsonSchemaVersion),bytes:pi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ut(Ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ut(Ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ut(Ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qe(this._lat,t._lat)||qe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ua._jsonSchemaVersion}}static fromJSON(t){if(Op(t,Ua._jsonSchema))return new Ua(t.latitude,t.longitude)}}Ua._jsonSchemaVersion="firestore/geoPoint/1.0",Ua._jsonSchema={type:pi("string",Ua._jsonSchemaVersion),latitude:pi("number"),longitude:pi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:aa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Op(t,aa._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new aa(t.vectorValues);throw new Ut(Ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}aa._jsonSchemaVersion="firestore/vectorValue/1.0",aa._jsonSchema={type:pi("string",aa._jsonSchemaVersion),vectorValues:pi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW=/^__.*__$/;class sW{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new mc(t,this.data,this.fieldMask,n,this.fieldTransforms):new Mp(t,this.data,n,this.fieldTransforms)}}function V8(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{dataSource:e})}}class Gb{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Gb({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var r;const n=(r=this.path)==null?void 0:r.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){var r;const n=(r=this.path)==null?void 0:r.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return T1(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(V8(this.dataSource)&&rW.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class aW{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||m0(t)}createContext(t,n,i,r=!1){return new Gb({dataSource:t,methodName:n,targetDoc:i,path:zi.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wb(e){const t=e._freezeSettings(),n=m0(e._databaseId);return new aW(e._databaseId,!!t.ignoreUndefinedProperties,n)}function j8(e,t,n,i,r,s={}){const a=e.createContext(s.merge||s.mergeFields?2:0,t,n,r);U8("Data must be an object, but it was:",a,i);const o=F8(i,a);let l,u;if(s.merge)l=new ia(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const c=[];for(const p of s.mergeFields){const g=_0(t,p,n);if(!a.contains(g))throw new Ut(Ct.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);cW(c,g)||c.push(g)}l=new ia(c),u=a.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=a.fieldTransforms;return new sW(new Ds(o),l,u)}class Kb extends Hb{_toFieldTransform(t){return new Gq(t.path,new lp)}isEqual(t){return t instanceof Kb}}function oW(e,t,n,i=!1){return Yb(n,e.createContext(i?4:3,t))}function Yb(e,t){if(B8(e=Gi(e)))return U8("Unsupported field value:",t,e),F8(e,t);if(e instanceof Hb)return function(i,r){if(!V8(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const o of i){let l=Yb(o,r.childContextForArray(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Gi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return zq(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=On.fromDate(i);return{timestampValue:b1(r.serializer,s)}}if(i instanceof On){const s=new On(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:b1(r.serializer,s)}}if(i instanceof Ua)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ks)return{bytesValue:r8(r.serializer,i._byteString)};if(i instanceof mi){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ib(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof aa)return function(a,o){const l=a instanceof aa?a.toArray():a;return{mapValue:{fields:{[DI]:{stringValue:kI},[y1]:{arrayValue:{values:l.map(c=>{if(typeof c!="number")throw o.createError("VectorValues must only contain numeric values.");return xb(o.serializer,c)})}}}}}}(i,r);if(h8(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${a0(i)}`)}(e,t)}function F8(e,t){const n={};return NI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dc(e,(i,r)=>{const s=Yb(r,t.childContextForField(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function B8(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof On||e instanceof Ua||e instanceof ks||e instanceof mi||e instanceof Hb||e instanceof aa||h8(e))}function U8(e,t,n){if(!B8(n)||!TI(n)){const i=a0(n);throw i==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+i)}}function _0(e,t,n){if((t=Gi(t))instanceof M8)return t._internalPath;if(typeof t=="string")return uW(e,t);throw T1("Field path arguments must be of type string or ",e,!1,void 0,n)}const lW=new RegExp("[~\\*/\\[\\]]");function uW(e,t,n){if(t.search(lW)>=0)throw T1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new M8(...t.split("."))._internalPath}catch{throw T1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function T1(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${i}`),a&&(l+=` in document ${r}`),l+=")"),new Ut(Ct.INVALID_ARGUMENT,o+e+l)}function cW(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{convertValue(t,n="none"){switch(iu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ei(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(nu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw ge(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return dc(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var i,r,s;const n=(s=(r=(i=t.fields)==null?void 0:i[y1].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>ei(a.doubleValue));return new aa(n)}convertGeoPoint(t){return new Ua(ei(t.latitude),ei(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=u0(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(rp(t));default:return null}}convertTimestamp(t){const n=eu(t);return new On(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Cn.fromString(t);sn(c8(i),9688,{name:t});const r=new sp(i.get(1),i.get(3)),s=new se(i.popFirst(5));return r.isEqual(n)||Oo(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8 extends hW{constructor(t){super(),this.firestore=t}convertBytes(t){return new ks(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new mi(this.firestore,null,n)}}function fW(){return new Kb("serverTimestamp")}const lE="@firebase/firestore",uE="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new dW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(_0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dW extends q8{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pW(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ut(Ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $b{}class H8 extends $b{}function mW(e,t,...n){let i=[];t instanceof $b&&i.push(t),i=i.concat(n),function(s){const a=s.filter(l=>l instanceof Qb).length,o=s.filter(l=>l instanceof Xb).length;if(a>1||a>0&&o>0)throw new Ut(Ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class Xb extends H8{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Xb(t,n,i)}_apply(t){const n=this._parse(t);return G8(t._query,n),new yc(t.firestore,t.converter,i5(t._query,n))}_parse(t){const n=Wb(t.firestore);return function(s,a,o,l,u,c,p){let g;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ut(Ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){fE(p,c);const w=[];for(const x of p)w.push(hE(l,s,x));g={arrayValue:{values:w}}}else g=hE(l,s,p)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||fE(p,c),g=oW(o,a,p,c==="in"||c==="not-in");return fi.create(u,c,g)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Qb extends $b{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Qb(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:la.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let a=r;const o=s.getFlattenedFilters();for(const l of o)G8(a,l),a=i5(a,l)}(t._query,n),new yc(t.firestore,t.converter,i5(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jb extends H8{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Jb(t,n)}_apply(t){const n=function(r,s,a){if(r.startAt!==null)throw new Ut(Ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Ut(Ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new op(s,a)}(t._query,this._field,this._direction);return new yc(t.firestore,t.converter,kq(t._query,n))}}function gW(e,t="asc"){const n=t,i=_0("orderBy",e);return Jb._create(i,n)}function hE(e,t,n){if(typeof(n=Gi(n))=="string"){if(n==="")throw new Ut(Ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zI(t)&&n.indexOf("/")!==-1)throw new Ut(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Cn.fromString(n));if(!se.isDocumentKey(i))throw new Ut(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return S3(e,new se(i))}if(n instanceof mi)return S3(e,n._key);throw new Ut(Ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${a0(n)}.`)}function fE(e,t){if(!Array.isArray(e)||e.length===0)throw new Ut(Ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function G8(e,t){const n=function(r,s){for(const a of r)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Ut(Ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ut(Ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function W8(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class od{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gu extends q8{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new yg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(_0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ut(Ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Gu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gu._jsonSchema={type:pi("string",Gu._jsonSchemaVersion),bundleSource:pi("string","DocumentSnapshot"),bundleName:pi("string"),bundle:pi("string")};class yg extends Gu{data(t={}){return super.data(t)}}class xh{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new od(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new yg(this._firestore,this._userDataWriter,i.key,i,new od(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ut(Ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(o=>{const l=new yg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new od(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new yg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new od(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),c=a.indexOf(o.doc.key)),{type:yW(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ut(Ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=xh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=_b.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function yW(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xh._jsonSchemaVersion="firestore/querySnapshot/1.0",xh._jsonSchema={type:pi("string",xh._jsonSchemaVersion),bundleSource:pi("string","QuerySnapshot"),bundleName:pi("string"),bundle:pi("string")};function vW(e,t,n){e=Wl(e,mi);const i=Wl(e.firestore,Qh),r=W8(e.converter,t,n),s=Wb(i);return Zb(i,[j8(s,"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,sa.none())])}function _W(e){return Zb(Wl(e.firestore,Qh),[new Nb(e._key,sa.none())])}function bW(e,t){const n=Wl(e.firestore,Qh),i=E1(e),r=W8(e.converter,t),s=Wb(e.firestore);return Zb(n,[j8(s,"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,sa.exists(!1))]).then(()=>i)}function K8(e,...t){var u,c,p;e=Gi(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||cE(t[i])||(n=t[i++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cE(t[i])){const g=t[i];t[i]=(u=g.next)==null?void 0:u.bind(g),t[i+1]=(c=g.error)==null?void 0:c.bind(g),t[i+2]=(p=g.complete)==null?void 0:p.bind(g)}let s,a,o;if(e instanceof mi)a=Wl(e.firestore,Qh),o=Tb(e._key.path),s={next:g=>{t[i]&&t[i](wW(a,e,g))},error:t[i+1],complete:t[i+2]};else{const g=Wl(e,yc);a=Wl(g.firestore,Qh),o=g._query;const d=new z8(a);s={next:w=>{t[i]&&t[i](new xh(a,d,g,w))},error:t[i+1],complete:t[i+2]},pW(e._query)}const l=O8(a);return QG(l,o,r,s)}function Zb(e,t){const n=O8(e);return JG(n,t)}function wW(e,t,n){const i=n.docs.get(t._key),r=new z8(e);return new Gu(e,r,t._key,i,new od(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){Yz(ff),Hh(new Zu("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),o=new Qh(new Qz(i.getProvider("auth-internal")),new tq(a,i.getProvider("app-check-internal")),yq(a,r),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Hl(lE,uE,t),Hl(lE,uE,"esm2020")})();const AW={apiKey:"AIzaSyASJX4zAclotzyPntAnLtAJ6wX438ZYbBI",authDomain:"church-fund-app.firebaseapp.com",projectId:"church-fund-app",storageBucket:"church-fund-app.firebasestorage.app",messagingSenderId:"823874792125",appId:"1:823874792125:web:e6ae9d3c9e6ec77413a5d4",measurementId:"G-7NPGRSG4WD"},Y8=PR(AW),Pm=Wz(Y8),Pd=nW(Y8),$8=Pt.createContext();function tw(){return Pt.useContext($8)}function SW({children:e}){const[t,n]=Pt.useState(null),[i,r]=Pt.useState(!0);async function s(u,c,p){const g=await CU(Pm,u,c);return p&&(await LU(g.user,{displayName:p}),n({...g.user,displayName:p})),g}function a(u,c){return RU(Pm,u,c)}function o(){return OU(Pm)}Pt.useEffect(()=>kU(Pm,c=>{n(c),r(!1)}),[]);const l={currentUser:t,signup:s,login:a,logout:o};return yt.jsx($8.Provider,{value:l,children:!i&&e})}const EW=({purpose:e,onBack:t,onExport:n,onLogout:i})=>{const[r,s]=Pt.useState([]),[a,o]=Pt.useState(!1),[l,u]=Pt.useState(""),[c,p]=Pt.useState(""),[g,d]=Pt.useState(!0),{currentUser:w}=tw(),x=r.reduce((E,C)=>E+Number(C.amount),0);Pt.useEffect(()=>{if(!w)return;const E=mW(rE(Pd,"users",w.uid,"entries"),gW("createdAt","desc"));return K8(E,D=>{const G=D.docs.map(et=>({id:et.id,...et.data()}));s(G.filter(et=>et.purpose===e)),d(!1)})},[w,e]);const I=async E=>{if(E.preventDefault(),!l||!c){alert("Please enter both Name and Amount.");return}o(!1);try{await bW(rE(Pd,"users",w.uid,"entries"),{name:l,amount:Number(c),purpose:e,createdAt:fW()}),u(""),p("")}catch(C){console.error("Error adding entry: ",C),alert("Failed to save entry")}},_=async E=>{if(window.confirm("Are you sure you want to delete this entry?"))try{await _W(E1(Pd,"users",w.uid,"entries",E))}catch(C){console.error("Error deleting entry: ",C),alert("Failed to delete entry")}};return yt.jsxs("div",{className:"relative min-h-screen bg-gray-50 pb-20",children:[yt.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10 transition-all",children:yt.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-4 flex items-center justify-between",children:[yt.jsxs("div",{className:"flex items-center space-x-2",children:[t&&yt.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 text-gray-600 transition-colors",children:yt.jsx(Vj,{size:24})}),yt.jsx("h1",{className:"text-lg font-semibold text-gray-800 truncate max-w-[150px] sm:max-w-xs",children:e})]}),yt.jsxs("div",{className:"flex items-center space-x-2",children:[yt.jsx("button",{onClick:()=>n(r,x),className:"p-2 rounded-full hover:bg-indigo-50 text-indigo-600 transition-colors",title:"Export PDF",children:yt.jsx(Uj,{size:24})}),yt.jsx("button",{onClick:i,className:"p-2 rounded-full hover:bg-red-50 text-red-600 transition-colors",title:"Logout",children:yt.jsx(bR,{size:24})})]})]})}),yt.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-6 space-y-4",children:[yt.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg mb-6 transform transition-all hover:scale-[1.01]",children:[yt.jsx("p",{className:"text-indigo-100 text-sm font-medium",children:"Total Collection"}),yt.jsxs("p",{className:"text-4xl font-bold mt-1",children:[" ",x.toLocaleString()]})]}),yt.jsx("div",{className:"space-y-3",children:yt.jsx(b4,{children:g?yt.jsx("div",{className:"text-center py-10 text-gray-400",children:"Loading entries..."}):r.length===0?yt.jsx(Ia.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-10 text-gray-400",children:"No entries yet. Tap + to add."}):r.map(E=>yt.jsxs(Ia.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center hover:shadow-md transition-shadow",children:[yt.jsx("div",{children:yt.jsx("p",{className:"font-medium text-gray-800 text-lg",children:E.name})}),yt.jsxs("div",{className:"flex items-center space-x-4",children:[yt.jsxs("span",{className:"font-semibold text-indigo-600",children:["",E.amount]}),yt.jsx("button",{onClick:()=>_(E.id),className:"text-gray-300 hover:text-red-500 transition-colors p-1",children:yt.jsx(Gj,{size:18})})]})]},E.id))})})]}),yt.jsx(Ia.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(!0),className:"fixed bottom-6 right-6 bg-indigo-600 text-white p-4 rounded-full shadow-lg shadow-indigo-200 z-20",children:yt.jsx(wR,{size:32})}),yt.jsx(b4,{children:a&&yt.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[yt.jsx(Ia.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50",onClick:()=>o(!1)}),yt.jsxs(Ia.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:500},className:"bg-white w-full max-w-lg rounded-t-3xl sm:rounded-2xl p-6 relative z-10 shadow-2xl m-0 sm:m-4",children:[yt.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Add Contribution"}),yt.jsxs("form",{onSubmit:I,className:"space-y-4",children:[yt.jsxs("div",{children:[yt.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Name"}),yt.jsx("input",{type:"text",value:l,onChange:E=>u(E.target.value),placeholder:"Enter name",className:"w-full p-3 rounded-xl border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 outline-none transition-all",autoFocus:!0})]}),yt.jsxs("div",{children:[yt.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Amount"}),yt.jsx("input",{type:"number",value:c,onChange:E=>p(E.target.value),placeholder:"Enter amount",className:"w-full p-3 rounded-xl border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 outline-none transition-all"})]}),yt.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-xl font-semibold hover:bg-indigo-700 transition-colors active:scale-[0.98]",children:"Add Entry"})]})]})]})})]})},TW=({onComplete:e,initialParish:t,initialKoottayma:n})=>{const[i,r]=Pt.useState(t||""),[s,a]=Pt.useState(n||""),[o,l]=Pt.useState("Perunnal Pirivu"),[u,c]=Pt.useState("");Pt.useEffect(()=>{t&&r(t),n&&a(n)},[t,n]);const p=g=>{g.preventDefault();const d=o==="Other"?u:o;i.trim()&&s.trim()&&d.trim()&&e(i,s,d)};return yt.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:yt.jsx(Ia.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"sm:mx-auto sm:w-full sm:max-w-md",children:yt.jsxs("div",{className:"bg-white py-8 px-4 shadow rounded-2xl mx-4 sm:px-10",children:[yt.jsxs("div",{className:"mb-6 text-center",children:[yt.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome"}),yt.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Please enter fund details to continue"})]}),yt.jsxs("form",{className:"space-y-6",onSubmit:p,children:[yt.jsxs("div",{children:[yt.jsx("label",{htmlFor:"parish",className:"block text-sm font-medium text-gray-700",children:"Parish Name"}),yt.jsx("div",{className:"mt-1",children:yt.jsx("input",{id:"parish",name:"parish",type:"text",required:!0,className:"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition-all",placeholder:"e.g. St. Maria Gorethi Church",value:i,onChange:g=>r(g.target.value)})})]}),yt.jsxs("div",{children:[yt.jsx("label",{htmlFor:"koottayma",className:"block text-sm font-medium text-gray-700",children:"Koottayma Name"}),yt.jsx("div",{className:"mt-1",children:yt.jsx("input",{id:"koottayma",name:"koottayma",type:"text",required:!0,className:"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition-all",placeholder:"e.g. St. Jude Koottayma",value:s,onChange:g=>a(g.target.value)})})]}),yt.jsxs("div",{children:[yt.jsx("label",{htmlFor:"purpose",className:"block text-sm font-medium text-gray-700",children:"Type of Fund Collection"}),yt.jsx("div",{className:"mt-1",children:yt.jsxs("select",{id:"purpose",name:"purpose",value:o,onChange:g=>l(g.target.value),className:"block w-full px-3 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition-all",children:[yt.jsx("option",{value:"Perunnal Pirivu",children:"Perunnal Pirivu"}),yt.jsx("option",{value:"Mission Pirivu",children:"Mission Pirivu"}),yt.jsx("option",{value:"Other",children:"Other"})]})})]}),o==="Other"&&yt.jsxs(Ia.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"overflow-hidden",children:[yt.jsx("label",{htmlFor:"customPurpose",className:"block text-sm font-medium text-gray-700",children:"Enter Fund Name"}),yt.jsx("div",{className:"mt-1",children:yt.jsx("input",{id:"customPurpose",name:"customPurpose",type:"text",required:!0,className:"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition-all",placeholder:"e.g. Building Fund",value:u,onChange:g=>c(g.target.value),autoFocus:!0})})]}),yt.jsx("div",{children:yt.jsx("button",{type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:"Continue"})})]})]})})})};function xW(){const[e,t]=Pt.useState(!0),[n,i]=Pt.useState(""),[r,s]=Pt.useState(""),[a,o]=Pt.useState(""),[l,u]=Pt.useState(""),[c,p]=Pt.useState(!1),{signup:g,login:d}=tw();async function w(x){x.preventDefault(),u(""),p(!0);try{e?await d(n,r):await g(n,r,a)}catch(I){console.error(I),u("Failed to "+(e?"log in":"create an account")+": "+I.message)}p(!1)}return yt.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:yt.jsxs(Ia.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-xl",children:[yt.jsxs("div",{children:[yt.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:e?"Sign in to your account":"Create a new account"}),yt.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[e?"Don't have an account? ":"Already have an account? ",yt.jsx("button",{onClick:()=>t(!e),className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors",children:e?"Sign up":"Sign in"})]})]}),yt.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[l&&yt.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:l}),yt.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[!e&&yt.jsxs("div",{className:"mb-4",children:[yt.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),yt.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:"appearance-none rounded-xl relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:a,onChange:x=>o(x.target.value)})]}),yt.jsxs("div",{className:"mb-4",children:[yt.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),yt.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-xl relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:n,onChange:x=>i(x.target.value)})]}),yt.jsxs("div",{children:[yt.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),yt.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-xl relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:x=>s(x.target.value)})]})]}),yt.jsx("div",{children:yt.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition-colors",children:c?"Processing...":e?"Sign in":"Sign up"})})]})]})})}const NW="modulepreload",CW=function(e){return"/church-fund-app/"+e},dE={},Q2=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=CW(l),l in dE)return;dE[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":NW,u||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((g,d)=>{p.addEventListener("load",g),p.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function cn(e){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(e)}var ua=Uint8Array,ss=Uint16Array,ew=Int32Array,nw=new ua([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),iw=new ua([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),pE=new ua([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),X8=function(e,t){for(var n=new ss(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var r=new ew(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return{b:n,r}},Q8=X8(nw,2),RW=Q8.b,p5=Q8.r;RW[28]=258,p5[258]=28;var IW=X8(iw,0),mE=IW.r,m5=new ss(32768);for(var Mn=0;Mn<32768;++Mn){var hl=(Mn&43690)>>1|(Mn&21845)<<1;hl=(hl&52428)>>2|(hl&13107)<<2,hl=(hl&61680)>>4|(hl&3855)<<4,m5[Mn]=((hl&65280)>>8|(hl&255)<<8)>>1}var Dd=function(e,t,n){for(var i=e.length,r=0,s=new ss(t);r<i;++r)e[r]&&++s[e[r]-1];var a=new ss(t);for(r=1;r<t;++r)a[r]=a[r-1]+s[r-1]<<1;var o;if(n){o=new ss(1<<t);var l=15-t;for(r=0;r<i;++r)if(e[r])for(var u=r<<4|e[r],c=t-e[r],p=a[e[r]-1]++<<c,g=p|(1<<c)-1;p<=g;++p)o[m5[p]>>l]=u}else for(o=new ss(i),r=0;r<i;++r)e[r]&&(o[r]=m5[a[e[r]-1]++]>>15-e[r]);return o},sc=new ua(288);for(var Mn=0;Mn<144;++Mn)sc[Mn]=8;for(var Mn=144;Mn<256;++Mn)sc[Mn]=9;for(var Mn=256;Mn<280;++Mn)sc[Mn]=7;for(var Mn=280;Mn<288;++Mn)sc[Mn]=8;var x1=new ua(32);for(var Mn=0;Mn<32;++Mn)x1[Mn]=5;var LW=Dd(sc,9,0),PW=Dd(x1,5,0),J8=function(e){return(e+7)/8|0},DW=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new ua(e.subarray(t,n))},co=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},Yf=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},J2=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,s=n.slice();if(!r)return{t:tL,l:0};if(r==1){var a=new ua(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(G,et){return G.f-et.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,c=1,p=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=r-1;)o=n[n[u].f<n[p].f?u++:p++],l=n[u!=c&&n[u].f<n[p].f?u++:p++],n[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=s[0].s,i=1;i<r;++i)s[i].s>g&&(g=s[i].s);var d=new ss(g+1),w=g5(n[c-1],d,0);if(w>t){var i=0,x=0,I=w-t,_=1<<I;for(s.sort(function(et,M){return d[M.s]-d[et.s]||et.f-M.f});i<r;++i){var E=s[i].s;if(d[E]>t)x+=_-(1<<w-d[E]),d[E]=t;else break}for(x>>=I;x>0;){var C=s[i].s;d[C]<t?x-=1<<t-d[C]++-1:++i}for(;i>=0&&x;--i){var D=s[i].s;d[D]==t&&(--d[D],++x)}w=t}return{t:new ua(d),l:w}},g5=function(e,t,n){return e.s==-1?Math.max(g5(e.l,t,n+1),g5(e.r,t,n+1)):t[e.s]=n},gE=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ss(++t),i=0,r=e[0],s=1,a=function(l){n[i++]=l},o=1;o<=t;++o)if(e[o]==r&&o!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=e[o]}return{c:n.subarray(0,i),n:t}},$f=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},Z8=function(e,t,n){var i=n.length,r=J8(t+2);e[r]=i&255,e[r+1]=i>>8,e[r+2]=e[r]^255,e[r+3]=e[r+1]^255;for(var s=0;s<i;++s)e[r+s+4]=n[s];return(r+4+i)*8},yE=function(e,t,n,i,r,s,a,o,l,u,c){co(t,c++,n),++r[256];for(var p=J2(r,15),g=p.t,d=p.l,w=J2(s,15),x=w.t,I=w.l,_=gE(g),E=_.c,C=_.n,D=gE(x),G=D.c,et=D.n,M=new ss(19),N=0;N<E.length;++N)++M[E[N]&31];for(var N=0;N<G.length;++N)++M[G[N]&31];for(var T=J2(M,7),V=T.t,A=T.l,L=19;L>4&&!V[pE[L-1]];--L);var P=u+5<<3,Q=$f(r,sc)+$f(s,x1)+a,pt=$f(r,g)+$f(s,x)+a+14+3*L+$f(M,V)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&P<=Q&&P<=pt)return Z8(t,c,e.subarray(l,l+u));var it,at,Z,ft;if(co(t,c,1+(pt<Q)),c+=2,pt<Q){it=Dd(g,d,0),at=g,Z=Dd(x,I,0),ft=x;var Nt=Dd(V,A,0);co(t,c,C-257),co(t,c+5,et-1),co(t,c+10,L-4),c+=14;for(var N=0;N<L;++N)co(t,c+3*N,V[pE[N]]);c+=3*L;for(var Tt=[E,G],F=0;F<2;++F)for(var $=Tt[F],N=0;N<$.length;++N){var X=$[N]&31;co(t,c,Nt[X]),c+=V[X],X>15&&(co(t,c,$[N]>>5&127),c+=$[N]>>12)}}else it=LW,at=sc,Z=PW,ft=x1;for(var N=0;N<o;++N){var tt=i[N];if(tt>255){var X=tt>>18&31;Yf(t,c,it[X+257]),c+=at[X+257],X>7&&(co(t,c,tt>>23&31),c+=nw[X]);var st=tt&31;Yf(t,c,Z[st]),c+=ft[st],st>3&&(Yf(t,c,tt>>5&8191),c+=iw[st])}else Yf(t,c,it[tt]),c+=at[tt]}return Yf(t,c,it[256]),c+at[256]},kW=new ew([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tL=new ua(0),OW=function(e,t,n,i,r,s){var a=s.z||e.length,o=new ua(i+a+5*(1+Math.ceil(a/7e3))+r),l=o.subarray(i,o.length-r),u=s.l,c=(s.r||0)&7;if(t){c&&(l[0]=s.r>>3);for(var p=kW[t-1],g=p>>13,d=p&8191,w=(1<<n)-1,x=s.p||new ss(32768),I=s.h||new ss(w+1),_=Math.ceil(n/3),E=2*_,C=function(Zt){return(e[Zt]^e[Zt+1]<<_^e[Zt+2]<<E)&w},D=new ew(25e3),G=new ss(288),et=new ss(32),M=0,N=0,T=s.i||0,V=0,A=s.w||0,L=0;T+2<a;++T){var P=C(T),Q=T&32767,pt=I[P];if(x[Q]=pt,I[P]=Q,A<=T){var it=a-T;if((M>7e3||V>24576)&&(it>423||!u)){c=yE(e,l,0,D,G,et,N,V,L,T-L,c),V=M=N=0,L=T;for(var at=0;at<286;++at)G[at]=0;for(var at=0;at<30;++at)et[at]=0}var Z=2,ft=0,Nt=d,Tt=Q-pt&32767;if(it>2&&P==C(T-Tt))for(var F=Math.min(g,it)-1,$=Math.min(32767,T),X=Math.min(258,it);Tt<=$&&--Nt&&Q!=pt;){if(e[T+Z]==e[T+Z-Tt]){for(var tt=0;tt<X&&e[T+tt]==e[T+tt-Tt];++tt);if(tt>Z){if(Z=tt,ft=Tt,tt>F)break;for(var st=Math.min(Tt,tt-2),ct=0,at=0;at<st;++at){var gt=T-Tt+at&32767,vt=x[gt],St=gt-vt&32767;St>ct&&(ct=St,pt=gt)}}}Q=pt,pt=x[Q],Tt+=Q-pt&32767}if(ft){D[V++]=268435456|p5[Z]<<18|mE[ft];var kt=p5[Z]&31,Ft=mE[ft]&31;N+=nw[kt]+iw[Ft],++G[257+kt],++et[Ft],A=T+Z,++M}else D[V++]=e[T],++G[e[T]]}}for(T=Math.max(T,A);T<a;++T)D[V++]=e[T],++G[e[T]];c=yE(e,l,u,D,G,et,N,V,L,T-L,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=I,s.p=x,s.i=T,s.w=A)}else{for(var T=s.w||0;T<a+u;T+=65535){var jt=T+65535;jt>=a&&(l[c/8|0]=u,jt=a),c=Z8(l,c+1,e.subarray(T,jt))}s.i=a}return DW(o,0,i+J8(c)+r)},eL=function(){var e=1,t=0;return{p:function(n){for(var i=e,r=t,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)r+=i+=n[a];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}e=i,t=r},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},MW=function(e,t,n,i,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new ua(s.length+e.length);a.set(s),a.set(e,s.length),e=a,r.w=s.length}return OW(e,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,r)},nL=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},VW=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var r=eL();r.p(t.dictionary),nL(e,2,r.d())}};function y5(e,t){t||(t={});var n=eL();n.p(e);var i=MW(e,t,t.dictionary?6:2,4);return VW(i,t),nL(i,i.length-4,n.d()),i}var jW=typeof TextDecoder<"u"&&new TextDecoder,FW=0;try{jW.decode(tL,{stream:!0}),FW=1}catch{}function BW(e){if(Array.isArray(e))return e}function UW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(i=s.call(n)).done)&&(o.push(i.value),o.length!==t);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function vE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function zW(e,t){if(e){if(typeof e=="string")return vE(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vE(e,t):void 0}}function qW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _E(e,t){return BW(e)||UW(e,t)||zW(e,t)||qW()}function bE(e,t="utf8"){return new TextDecoder(t).decode(e)}const HW=new TextEncoder;function GW(e){return HW.encode(e)}const WW=1024*8,KW=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Z2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class rw{constructor(t=WW,n={}){ln(this,"buffer");ln(this,"byteLength");ln(this,"byteOffset");ln(this,"length");ln(this,"offset");ln(this,"lastWrittenByte");ln(this,"littleEndian");ln(this,"_data");ln(this,"_mark");ln(this,"_marks");let i=!1;typeof t=="number"?t=new ArrayBuffer(t):(i=!0,this.lastWrittenByte=t.byteLength);const r=n.offset?n.offset>>>0:0,s=t.byteLength-r;let a=r;(ArrayBuffer.isView(t)||t instanceof rw)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+r),t=t.buffer),i?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const i=(this.offset+t)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const i=Z2[n].BYTES_PER_ELEMENT*t,r=this.byteOffset+this.offset,s=this.buffer.slice(r,r+i);if(this.littleEndian===KW&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(r,r+i));o.reverse();const l=new Z2[n](o.buffer);return this.offset+=i,l.reverse(),l}const a=new Z2[n](s);return this.offset+=i,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let i=0;i<t;i++)n+=this.readChar();return n}readUtf8(t=1){return bE(this.readBytes(t))}decodeText(t=1,n="utf8"){return bE(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(GW(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function _f(e){let t=e.length;for(;--t>=0;)e[t]=0}const YW=3,$W=258,iL=29,XW=256,QW=XW+1+iL,rL=30,JW=512,ZW=new Array((QW+2)*2);_f(ZW);const tK=new Array(rL*2);_f(tK);const eK=new Array(JW);_f(eK);const nK=new Array($W-YW+1);_f(nK);const iK=new Array(iL);_f(iK);const rK=new Array(rL);_f(rK);const sK=(e,t,n,i)=>{let r=e&65535|0,s=e>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do r=r+t[i++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0};var v5=sK;const aK=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},oK=new Uint32Array(aK()),lK=(e,t,n,i)=>{const r=oK,s=i+n;e^=-1;for(let a=i;a<s;a++)e=e>>>8^r[(e^t[a])&255];return e^-1};var xa=lK,_5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},sL={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const uK=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var cK=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)uK(n,i)&&(e[i]=n[i])}}return e},hK=e=>{let t=0;for(let i=0,r=e.length;i<r;i++)t+=e[i].length;const n=new Uint8Array(t);for(let i=0,r=0,s=e.length;i<s;i++){let a=e[i];n.set(a,r),r+=a.length}return n},aL={assign:cK,flattenChunks:hK};let oL=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oL=!1}const hp=new Uint8Array(256);for(let e=0;e<256;e++)hp[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;hp[254]=hp[254]=1;var fK=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,i,r,s,a=e.length,o=0;for(r=0;r<a;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<a&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),s=0,r=0;s<o;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<a&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const dK=(e,t)=>{if(t<65534&&e.subarray&&oL)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n};var pK=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let i,r;const s=new Array(n*2);for(r=0,i=0;i<n;){let a=e[i++];if(a<128){s[r++]=a;continue}let o=hp[a];if(o>4){s[r++]=65533,i+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&i<n;)a=a<<6|e[i++]&63,o--;if(o>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return dK(s,r)},mK=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+hp[e[n]]>t?n:t},b5={string2buf:fK,buf2string:pK,utf8border:mK};function gK(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var yK=gK;const Dm=16209,vK=16191;var _K=function(t,n){let i,r,s,a,o,l,u,c,p,g,d,w,x,I,_,E,C,D,G,et,M,N,T,V;const A=t.state;i=t.next_in,T=t.input,r=i+(t.avail_in-5),s=t.next_out,V=t.output,a=s-(n-t.avail_out),o=s+(t.avail_out-257),l=A.dmax,u=A.wsize,c=A.whave,p=A.wnext,g=A.window,d=A.hold,w=A.bits,x=A.lencode,I=A.distcode,_=(1<<A.lenbits)-1,E=(1<<A.distbits)-1;t:do{w<15&&(d+=T[i++]<<w,w+=8,d+=T[i++]<<w,w+=8),C=x[d&_];e:for(;;){if(D=C>>>24,d>>>=D,w-=D,D=C>>>16&255,D===0)V[s++]=C&65535;else if(D&16){G=C&65535,D&=15,D&&(w<D&&(d+=T[i++]<<w,w+=8),G+=d&(1<<D)-1,d>>>=D,w-=D),w<15&&(d+=T[i++]<<w,w+=8,d+=T[i++]<<w,w+=8),C=I[d&E];n:for(;;){if(D=C>>>24,d>>>=D,w-=D,D=C>>>16&255,D&16){if(et=C&65535,D&=15,w<D&&(d+=T[i++]<<w,w+=8,w<D&&(d+=T[i++]<<w,w+=8)),et+=d&(1<<D)-1,et>l){t.msg="invalid distance too far back",A.mode=Dm;break t}if(d>>>=D,w-=D,D=s-a,et>D){if(D=et-D,D>c&&A.sane){t.msg="invalid distance too far back",A.mode=Dm;break t}if(M=0,N=g,p===0){if(M+=u-D,D<G){G-=D;do V[s++]=g[M++];while(--D);M=s-et,N=V}}else if(p<D){if(M+=u+p-D,D-=p,D<G){G-=D;do V[s++]=g[M++];while(--D);if(M=0,p<G){D=p,G-=D;do V[s++]=g[M++];while(--D);M=s-et,N=V}}}else if(M+=p-D,D<G){G-=D;do V[s++]=g[M++];while(--D);M=s-et,N=V}for(;G>2;)V[s++]=N[M++],V[s++]=N[M++],V[s++]=N[M++],G-=3;G&&(V[s++]=N[M++],G>1&&(V[s++]=N[M++]))}else{M=s-et;do V[s++]=V[M++],V[s++]=V[M++],V[s++]=V[M++],G-=3;while(G>2);G&&(V[s++]=V[M++],G>1&&(V[s++]=V[M++]))}}else if(D&64){t.msg="invalid distance code",A.mode=Dm;break t}else{C=I[(C&65535)+(d&(1<<D)-1)];continue n}break}}else if(D&64)if(D&32){A.mode=vK;break t}else{t.msg="invalid literal/length code",A.mode=Dm;break t}else{C=x[(C&65535)+(d&(1<<D)-1)];continue e}break}}while(i<r&&s<o);G=w>>3,i-=G,w-=G<<3,d&=(1<<w)-1,t.next_in=i,t.next_out=s,t.avail_in=i<r?5+(r-i):5-(i-r),t.avail_out=s<o?257+(o-s):257-(s-o),A.hold=d,A.bits=w};const Oc=15,wE=852,AE=592,SE=0,ty=1,EE=2,bK=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),wK=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),AK=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),SK=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),EK=(e,t,n,i,r,s,a,o)=>{const l=o.bits;let u=0,c=0,p=0,g=0,d=0,w=0,x=0,I=0,_=0,E=0,C,D,G,et,M,N=null,T;const V=new Uint16Array(Oc+1),A=new Uint16Array(Oc+1);let L=null,P,Q,pt;for(u=0;u<=Oc;u++)V[u]=0;for(c=0;c<i;c++)V[t[n+c]]++;for(d=l,g=Oc;g>=1&&V[g]===0;g--);if(d>g&&(d=g),g===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&V[p]===0;p++);for(d<p&&(d=p),I=1,u=1;u<=Oc;u++)if(I<<=1,I-=V[u],I<0)return-1;if(I>0&&(e===SE||g!==1))return-1;for(A[1]=0,u=1;u<Oc;u++)A[u+1]=A[u]+V[u];for(c=0;c<i;c++)t[n+c]!==0&&(a[A[t[n+c]]++]=c);if(e===SE?(N=L=a,T=20):e===ty?(N=bK,L=wK,T=257):(N=AK,L=SK,T=0),E=0,c=0,u=p,M=s,w=d,x=0,G=-1,_=1<<d,et=_-1,e===ty&&_>wE||e===EE&&_>AE)return 1;for(;;){P=u-x,a[c]+1<T?(Q=0,pt=a[c]):a[c]>=T?(Q=L[a[c]-T],pt=N[a[c]-T]):(Q=96,pt=0),C=1<<u-x,D=1<<w,p=D;do D-=C,r[M+(E>>x)+D]=P<<24|Q<<16|pt|0;while(D!==0);for(C=1<<u-1;E&C;)C>>=1;if(C!==0?(E&=C-1,E+=C):E=0,c++,--V[u]===0){if(u===g)break;u=t[n+a[c]]}if(u>d&&(E&et)!==G){for(x===0&&(x=d),M+=p,w=u-x,I=1<<w;w+x<g&&(I-=V[w+x],!(I<=0));)w++,I<<=1;if(_+=1<<w,e===ty&&_>wE||e===EE&&_>AE)return 1;G=E&et,r[G]=d<<24|w<<16|M-s|0}}return E!==0&&(r[M+E]=u-x<<24|64<<16|0),o.bits=d,0};var kd=EK;const TK=0,lL=1,uL=2,{Z_FINISH:TE,Z_BLOCK:xK,Z_TREES:km,Z_OK:ac,Z_STREAM_END:NK,Z_NEED_DICT:CK,Z_STREAM_ERROR:Bs,Z_DATA_ERROR:cL,Z_MEM_ERROR:hL,Z_BUF_ERROR:RK,Z_DEFLATED:xE}=sL,b0=16180,NE=16181,CE=16182,RE=16183,IE=16184,LE=16185,PE=16186,DE=16187,kE=16188,OE=16189,N1=16190,ho=16191,ey=16192,ME=16193,ny=16194,VE=16195,jE=16196,FE=16197,BE=16198,Om=16199,Mm=16200,UE=16201,zE=16202,qE=16203,HE=16204,GE=16205,iy=16206,WE=16207,KE=16208,Un=16209,fL=16210,dL=16211,IK=852,LK=592,PK=15,DK=PK,YE=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function kK(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const vc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<b0||t.mode>dL?1:0},pL=e=>{if(vc(e))return Bs;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=b0,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(IK),t.distcode=t.distdyn=new Int32Array(LK),t.sane=1,t.back=-1,ac},mL=e=>{if(vc(e))return Bs;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,pL(e)},gL=(e,t)=>{let n;if(vc(e))return Bs;const i=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Bs:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,mL(e))},yL=(e,t)=>{if(!e)return Bs;const n=new kK;e.state=n,n.strm=e,n.window=null,n.mode=b0;const i=gL(e,t);return i!==ac&&(e.state=null),i},OK=e=>yL(e,DK);let $E=!0,ry,sy;const MK=e=>{if($E){ry=new Int32Array(512),sy=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(kd(lL,e.lens,0,288,ry,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;kd(uL,e.lens,0,32,sy,0,e.work,{bits:5}),$E=!1}e.lencode=ry,e.lenbits=9,e.distcode=sy,e.distbits=5},vL=(e,t,n,i)=>{let r;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(t.subarray(n-i,n-i+r),s.wnext),i-=r,i?(s.window.set(t.subarray(n-i,n),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},VK=(e,t)=>{let n,i,r,s,a,o,l,u,c,p,g,d,w,x,I=0,_,E,C,D,G,et,M,N;const T=new Uint8Array(4);let V,A;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vc(e)||!e.output||!e.input&&e.avail_in!==0)return Bs;n=e.state,n.mode===ho&&(n.mode=ey),a=e.next_out,r=e.output,l=e.avail_out,s=e.next_in,i=e.input,o=e.avail_in,u=n.hold,c=n.bits,p=o,g=l,N=ac;t:for(;;)switch(n.mode){case b0:if(n.wrap===0){n.mode=ey;break}for(;c<16;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,T[0]=u&255,T[1]=u>>>8&255,n.check=xa(n.check,T,2,0),u=0,c=0,n.mode=NE;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=Un;break}if((u&15)!==xE){e.msg="unknown compression method",n.mode=Un;break}if(u>>>=4,c-=4,M=(u&15)+8,n.wbits===0&&(n.wbits=M),M>15||M>n.wbits){e.msg="invalid window size",n.mode=Un;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?OE:ho,u=0,c=0;break;case NE:for(;c<16;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}if(n.flags=u,(n.flags&255)!==xE){e.msg="unknown compression method",n.mode=Un;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Un;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=xa(n.check,T,2,0)),u=0,c=0,n.mode=CE;case CE:for(;c<32;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,n.check=xa(n.check,T,4,0)),u=0,c=0,n.mode=RE;case RE:for(;c<16;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=xa(n.check,T,2,0)),u=0,c=0,n.mode=IE;case IE:if(n.flags&1024){for(;c<16;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=xa(n.check,T,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=LE;case LE:if(n.flags&1024&&(d=n.length,d>o&&(d=o),d&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(s,s+d),M)),n.flags&512&&n.wrap&4&&(n.check=xa(n.check,i,d,s)),o-=d,s+=d,n.length-=d),n.length))break t;n.length=0,n.mode=PE;case PE:if(n.flags&2048){if(o===0)break t;d=0;do M=i[s+d++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M));while(M&&d<o);if(n.flags&512&&n.wrap&4&&(n.check=xa(n.check,i,d,s)),o-=d,s+=d,M)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=DE;case DE:if(n.flags&4096){if(o===0)break t;d=0;do M=i[s+d++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M));while(M&&d<o);if(n.flags&512&&n.wrap&4&&(n.check=xa(n.check,i,d,s)),o-=d,s+=d,M)break t}else n.head&&(n.head.comment=null);n.mode=kE;case kE:if(n.flags&512){for(;c<16;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Un;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=ho;break;case OE:for(;c<32;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}e.adler=n.check=YE(u),u=0,c=0,n.mode=N1;case N1:if(n.havedict===0)return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=u,n.bits=c,CK;e.adler=n.check=1,n.mode=ho;case ho:if(t===xK||t===km)break t;case ey:if(n.last){u>>>=c&7,c-=c&7,n.mode=iy;break}for(;c<3;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}switch(n.last=u&1,u>>>=1,c-=1,u&3){case 0:n.mode=ME;break;case 1:if(MK(n),n.mode=Om,t===km){u>>>=2,c-=2;break t}break;case 2:n.mode=jE;break;case 3:e.msg="invalid block type",n.mode=Un}u>>>=2,c-=2;break;case ME:for(u>>>=c&7,c-=c&7;c<32;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Un;break}if(n.length=u&65535,u=0,c=0,n.mode=ny,t===km)break t;case ny:n.mode=VE;case VE:if(d=n.length,d){if(d>o&&(d=o),d>l&&(d=l),d===0)break t;r.set(i.subarray(s,s+d),a),o-=d,s+=d,l-=d,a+=d,n.length-=d;break}n.mode=ho;break;case jE:for(;c<14;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}if(n.nlen=(u&31)+257,u>>>=5,c-=5,n.ndist=(u&31)+1,u>>>=5,c-=5,n.ncode=(u&15)+4,u>>>=4,c-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Un;break}n.have=0,n.mode=FE;case FE:for(;n.have<n.ncode;){for(;c<3;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}n.lens[L[n.have++]]=u&7,u>>>=3,c-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,V={bits:n.lenbits},N=kd(TK,n.lens,0,19,n.lencode,0,n.work,V),n.lenbits=V.bits,N){e.msg="invalid code lengths set",n.mode=Un;break}n.have=0,n.mode=BE;case BE:for(;n.have<n.nlen+n.ndist;){for(;I=n.lencode[u&(1<<n.lenbits)-1],_=I>>>24,E=I>>>16&255,C=I&65535,!(_<=c);){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}if(C<16)u>>>=_,c-=_,n.lens[n.have++]=C;else{if(C===16){for(A=_+2;c<A;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}if(u>>>=_,c-=_,n.have===0){e.msg="invalid bit length repeat",n.mode=Un;break}M=n.lens[n.have-1],d=3+(u&3),u>>>=2,c-=2}else if(C===17){for(A=_+3;c<A;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}u>>>=_,c-=_,M=0,d=3+(u&7),u>>>=3,c-=3}else{for(A=_+7;c<A;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}u>>>=_,c-=_,M=0,d=11+(u&127),u>>>=7,c-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Un;break}for(;d--;)n.lens[n.have++]=M}}if(n.mode===Un)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Un;break}if(n.lenbits=9,V={bits:n.lenbits},N=kd(lL,n.lens,0,n.nlen,n.lencode,0,n.work,V),n.lenbits=V.bits,N){e.msg="invalid literal/lengths set",n.mode=Un;break}if(n.distbits=6,n.distcode=n.distdyn,V={bits:n.distbits},N=kd(uL,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,V),n.distbits=V.bits,N){e.msg="invalid distances set",n.mode=Un;break}if(n.mode=Om,t===km)break t;case Om:n.mode=Mm;case Mm:if(o>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=u,n.bits=c,_K(e,g),a=e.next_out,r=e.output,l=e.avail_out,s=e.next_in,i=e.input,o=e.avail_in,u=n.hold,c=n.bits,n.mode===ho&&(n.back=-1);break}for(n.back=0;I=n.lencode[u&(1<<n.lenbits)-1],_=I>>>24,E=I>>>16&255,C=I&65535,!(_<=c);){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}if(E&&!(E&240)){for(D=_,G=E,et=C;I=n.lencode[et+((u&(1<<D+G)-1)>>D)],_=I>>>24,E=I>>>16&255,C=I&65535,!(D+_<=c);){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}u>>>=D,c-=D,n.back+=D}if(u>>>=_,c-=_,n.back+=_,n.length=C,E===0){n.mode=GE;break}if(E&32){n.back=-1,n.mode=ho;break}if(E&64){e.msg="invalid literal/length code",n.mode=Un;break}n.extra=E&15,n.mode=UE;case UE:if(n.extra){for(A=n.extra;c<A;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=zE;case zE:for(;I=n.distcode[u&(1<<n.distbits)-1],_=I>>>24,E=I>>>16&255,C=I&65535,!(_<=c);){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}if(!(E&240)){for(D=_,G=E,et=C;I=n.distcode[et+((u&(1<<D+G)-1)>>D)],_=I>>>24,E=I>>>16&255,C=I&65535,!(D+_<=c);){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}u>>>=D,c-=D,n.back+=D}if(u>>>=_,c-=_,n.back+=_,E&64){e.msg="invalid distance code",n.mode=Un;break}n.offset=C,n.extra=E&15,n.mode=qE;case qE:if(n.extra){for(A=n.extra;c<A;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Un;break}n.mode=HE;case HE:if(l===0)break t;if(d=g-l,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Un;break}d>n.wnext?(d-=n.wnext,w=n.wsize-d):w=n.wnext-d,d>n.length&&(d=n.length),x=n.window}else x=r,w=a-n.offset,d=n.length;d>l&&(d=l),l-=d,n.length-=d;do r[a++]=x[w++];while(--d);n.length===0&&(n.mode=Mm);break;case GE:if(l===0)break t;r[a++]=n.length,l--,n.mode=Mm;break;case iy:if(n.wrap){for(;c<32;){if(o===0)break t;o--,u|=i[s++]<<c,c+=8}if(g-=l,e.total_out+=g,n.total+=g,n.wrap&4&&g&&(e.adler=n.check=n.flags?xa(n.check,r,g,a-g):v5(n.check,r,g,a-g)),g=l,n.wrap&4&&(n.flags?u:YE(u))!==n.check){e.msg="incorrect data check",n.mode=Un;break}u=0,c=0}n.mode=WE;case WE:if(n.wrap&&n.flags){for(;c<32;){if(o===0)break t;o--,u+=i[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Un;break}u=0,c=0}n.mode=KE;case KE:N=NK;break t;case Un:N=cL;break t;case fL:return hL;case dL:default:return Bs}return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=u,n.bits=c,(n.wsize||g!==e.avail_out&&n.mode<Un&&(n.mode<iy||t!==TE))&&vL(e,e.output,e.next_out,g-e.avail_out),p-=e.avail_in,g-=e.avail_out,e.total_in+=p,e.total_out+=g,n.total+=g,n.wrap&4&&g&&(e.adler=n.check=n.flags?xa(n.check,r,g,e.next_out-g):v5(n.check,r,g,e.next_out-g)),e.data_type=n.bits+(n.last?64:0)+(n.mode===ho?128:0)+(n.mode===Om||n.mode===ny?256:0),(p===0&&g===0||t===TE)&&N===ac&&(N=RK),N},jK=e=>{if(vc(e))return Bs;let t=e.state;return t.window&&(t.window=null),e.state=null,ac},FK=(e,t)=>{if(vc(e))return Bs;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,ac):Bs},BK=(e,t)=>{const n=t.length;let i,r,s;return vc(e)||(i=e.state,i.wrap!==0&&i.mode!==N1)?Bs:i.mode===N1&&(r=1,r=v5(r,t,n,0),r!==i.check)?cL:(s=vL(e,t,n,n),s?(i.mode=fL,hL):(i.havedict=1,ac))};var UK=mL,zK=gL,qK=pL,HK=OK,GK=yL,WK=VK,KK=jK,YK=FK,$K=BK,XK="pako inflate (from Nodeca project)",mo={inflateReset:UK,inflateReset2:zK,inflateResetKeep:qK,inflateInit:HK,inflateInit2:GK,inflate:WK,inflateEnd:KK,inflateGetHeader:YK,inflateSetDictionary:$K,inflateInfo:XK};function QK(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var JK=QK;const _L=Object.prototype.toString,{Z_NO_FLUSH:ZK,Z_FINISH:tY,Z_OK:fp,Z_STREAM_END:ay,Z_NEED_DICT:oy,Z_STREAM_ERROR:eY,Z_DATA_ERROR:XE,Z_MEM_ERROR:nY}=sL;function Bp(e){this.options=aL.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yK,this.strm.avail_out=0;let n=mo.inflateInit2(this.strm,t.windowBits);if(n!==fp)throw new Error(_5[n]);if(this.header=new JK,mo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=b5.string2buf(t.dictionary):_L.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=mo.inflateSetDictionary(this.strm,t.dictionary),n!==fp)))throw new Error(_5[n])}Bp.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?tY:ZK,_L.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),s=mo.inflate(n,a),s===oy&&r&&(s=mo.inflateSetDictionary(n,r),s===fp?s=mo.inflate(n,a):s===XE&&(s=oy));n.avail_in>0&&s===ay&&n.state.wrap>0&&e[n.next_in]!==0;)mo.inflateReset(n),s=mo.inflate(n,a);switch(s){case eY:case XE:case oy:case nY:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===ay))if(this.options.to==="string"){let l=b5.utf8border(n.output,n.next_out),u=n.next_out-l,c=b5.buf2string(n.output,l);n.next_out=u,n.avail_out=i-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===fp&&o===0)){if(s===ay)return s=mo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Bp.prototype.onData=function(e){this.chunks.push(e)};Bp.prototype.onEnd=function(e){e===fp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=aL.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function iY(e,t){const n=new Bp(t);if(n.push(e),n.err)throw n.msg||_5[n.err];return n.result}var rY=Bp,sY=iY,aY={Inflate:rY,inflate:sY};const{Inflate:oY,inflate:lY}=aY;var QE=oY,uY=lY;const bL=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;bL[e]=t}const JE=4294967295;function cY(e,t,n){let i=e;for(let r=0;r<n;r++)i=bL[(i^t[r])&255]^i>>>8;return i}function hY(e,t){return(cY(JE,e,t)^JE)>>>0}function ZE(e,t,n){const i=e.readUint32(),r=hY(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(r!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${r}`)}function wL(e,t,n){for(let i=0;i<n;i++)t[i]=e[i]}function AL(e,t,n,i){let r=0;for(;r<i;r++)t[r]=e[r];for(;r<n;r++)t[r]=e[r]+t[r-i]&255}function SL(e,t,n,i){let r=0;if(n.length===0)for(;r<i;r++)t[r]=e[r];else for(;r<i;r++)t[r]=e[r]+n[r]&255}function EL(e,t,n,i,r){let s=0;if(n.length===0){for(;s<r;s++)t[s]=e[s];for(;s<i;s++)t[s]=e[s]+(t[s-r]>>1)&255}else{for(;s<r;s++)t[s]=e[s]+(n[s]>>1)&255;for(;s<i;s++)t[s]=e[s]+(t[s-r]+n[s]>>1)&255}}function TL(e,t,n,i,r){let s=0;if(n.length===0){for(;s<r;s++)t[s]=e[s];for(;s<i;s++)t[s]=e[s]+t[s-r]&255}else{for(;s<r;s++)t[s]=e[s]+n[s]&255;for(;s<i;s++)t[s]=e[s]+fY(t[s-r],n[s],n[s-r])&255}}function fY(e,t,n){const i=e+t-n,r=Math.abs(i-e),s=Math.abs(i-t),a=Math.abs(i-n);return r<=s&&r<=a?e:s<=a?t:n}function dY(e,t,n,i,r,s){switch(e){case 0:wL(t,n,r);break;case 1:AL(t,n,r,s);break;case 2:SL(t,n,i,r);break;case 3:EL(t,n,i,r,s);break;case 4:TL(t,n,i,r,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const pY=new Uint16Array([255]),mY=new Uint8Array(pY.buffer),gY=mY[0]===255;function yY(e){const{data:t,width:n,height:i,channels:r,depth:s}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*r,l=new Uint8Array(i*n*o);let u=0;for(let c=0;c<7;c++){const p=a[c],g=Math.ceil((n-p.x)/p.xStep),d=Math.ceil((i-p.y)/p.yStep);if(g<=0||d<=0)continue;const w=g*o,x=new Uint8Array(w);for(let I=0;I<d;I++){const _=t[u++],E=t.subarray(u,u+w);u+=w;const C=new Uint8Array(w);dY(_,E,C,x,w,o),x.set(C);for(let D=0;D<g;D++){const G=p.x+D*p.xStep,et=p.y+I*p.yStep;if(!(G>=n||et>=i))for(let M=0;M<o;M++)l[(et*n+G)*o+M]=C[D*o+M]}}}if(s===16){const c=new Uint16Array(l.buffer);if(gY)for(let p=0;p<c.length;p++)c[p]=vY(c[p]);return c}else return l}function vY(e){return(e&255)<<8|e>>8&255}const _Y=new Uint16Array([255]),bY=new Uint8Array(_Y.buffer),wY=bY[0]===255,AY=new Uint8Array(0);function tT(e){const{data:t,width:n,height:i,channels:r,depth:s}=e,a=Math.ceil(s/8)*r,o=Math.ceil(s/8*r*n),l=new Uint8Array(i*o);let u=AY,c=0,p,g;for(let d=0;d<i;d++){switch(p=t.subarray(c+1,c+1+o),g=l.subarray(d*o,(d+1)*o),t[c]){case 0:wL(p,g,o);break;case 1:AL(p,g,o,a);break;case 2:SL(p,g,u,o);break;case 3:EL(p,g,u,o,a);break;case 4:TL(p,g,u,o,a);break;default:throw new Error(`Unsupported filter: ${t[c]}`)}u=g,c+=o+1}if(s===16){const d=new Uint16Array(l.buffer);if(wY)for(let w=0;w<d.length;w++)d[w]=SY(d[w]);return d}else return l}function SY(e){return(e&255)<<8|e>>8&255}const vg=Uint8Array.of(137,80,78,71,13,10,26,10);function eT(e){if(!EY(e.readBytes(vg.length)))throw new Error("wrong PNG signature")}function EY(e){if(e.length<vg.length)return!1;for(let t=0;t<vg.length;t++)if(e[t]!==vg[t])return!1;return!0}const TY="tEXt",xY=0,xL=new TextDecoder("latin1");function NY(e){if(RY(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const CY=/^[\u0000-\u00FF]*$/;function RY(e){if(!CY.test(e))throw new Error("invalid latin1 text")}function IY(e,t,n){const i=NL(t);e[i]=LY(t,n-i.length-1)}function NL(e){for(e.mark();e.readByte()!==xY;);const t=e.offset;e.reset();const n=xL.decode(e.readBytes(t-e.offset-1));return e.skip(1),NY(n),n}function LY(e,t){return xL.decode(e.readBytes(t))}const ts={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},ly={UNKNOWN:-1,DEFLATE:0},nT={UNKNOWN:-1,ADAPTIVE:0},uy={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Vm={NONE:0,BACKGROUND:1,PREVIOUS:2},cy={SOURCE:0,OVER:1};class PY extends rw{constructor(n,i={}){super(n);ln(this,"_checkCrc");ln(this,"_inflator");ln(this,"_png");ln(this,"_apng");ln(this,"_end");ln(this,"_hasPalette");ln(this,"_palette");ln(this,"_hasTransparency");ln(this,"_transparency");ln(this,"_compressionMethod");ln(this,"_filterMethod");ln(this,"_interlaceMethod");ln(this,"_colorType");ln(this,"_isAnimated");ln(this,"_numberOfFrames");ln(this,"_numberOfPlays");ln(this,"_frames");ln(this,"_writingDataChunks");const{checkCrc:r=!1}=i;this._checkCrc=r,this._inflator=new QE,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ly.UNKNOWN,this._filterMethod=nT.UNKNOWN,this._interlaceMethod=uy.UNKNOWN,this._colorType=ts.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(eT(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeChunk(n,i)}return this.decodeImage(),this._png}decodeApng(){for(eT(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(n,i)}return this.decodeApngImage(),this._apng}decodeChunk(n,i){const r=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case TY:IY(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?ZE(this,n+4,i):this.skip(4)}decodeApngChunk(n,i){const r=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,i),this.offset=r+n;break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?ZE(this,n+4,i):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=DY(this.readUint8());const i=this.readUint8();this._colorType=i;let r;switch(i){case ts.GREYSCALE:r=1;break;case ts.TRUECOLOUR:r=3;break;case ts.INDEXED_COLOUR:r=1;break;case ts.GREYSCALE_ALPHA:r=2;break;case ts.TRUECOLOUR_ALPHA:r=4;break;case ts.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==ly.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const i=n/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<i;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const i=n,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let i=n,r=this.offset+this.byteOffset;if(r+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case ts.GREYSCALE:case ts.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let i=0;i<n/2;i++)this._transparency[i]=this.readUint16();break}case ts.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let i=0;for(;i<n;i++){const r=this.readByte();this._palette[i].push(r)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case ts.UNKNOWN:case ts.GREYSCALE_ALPHA:case ts.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const i=NL(this),r=this.readUint8();if(r!==ly.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(n-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:uY(s)}}decodepHYs(){const n=this.readUint32(),i=this.readUint32(),r=this.readByte();this._png.resolution={x:n,y:i,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const i={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(n);if(r){if(r.data=tT({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)i.data=r.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(r,s,i),this.addFrameDataToCanvas(i,r)}this._apng.frames.push(i)}}return this._apng}disposeFrame(n,i,r){switch(n.disposeOp){case Vm.NONE:break;case Vm.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*n.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)r.data[o+l]=0}break;case Vm.PREVIOUS:r.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,i){const r=1<<this._png.depth,s=(a,o)=>{const l=((a+i.yOffset)*this._png.width+i.xOffset+o)*this._png.channels,u=(a*i.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(i.blendOp){case cy.SOURCE:for(let a=0;a<i.height;a++)for(let o=0;o<i.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let c=0;c<this._png.channels;c++)n.data[l+c]=i.data[u+c]}break;case cy.OVER:for(let a=0;a<i.height;a++)for(let o=0;o<i.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let c=0;c<this._png.channels;c++){const p=i.data[u+this._png.channels-1]/r,g=c%(this._png.channels-1)===0?1:i.data[u+c],d=Math.floor(p*g+(1-p)*n.data[l+c]);n.data[l+c]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==nT.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===uy.NO_INTERLACE)this._png.data=tT({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===uy.ADAM7)this._png.data=yY({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,i=this._frames.at(-1);i?i.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Vm.NONE,blendOp:cy.SOURCE,data:n}),this._inflator=new QE,this._writingDataChunks=!1}}function DY(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var iT;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(iT||(iT={}));function kY(e,t){return new PY(e,t).decode()}var ve=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function hy(){ve.console&&typeof ve.console.log=="function"&&ve.console.log.apply(ve.console,arguments)}var vn={log:hy,warn:function(e){ve.console&&(typeof ve.console.warn=="function"?ve.console.warn.apply(ve.console,arguments):hy.call(null,arguments))},error:function(e){ve.console&&(typeof ve.console.error=="function"?ve.console.error.apply(ve.console,arguments):hy(e))}};function fy(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){Du(i.response,t,n)},i.onerror=function(){vn.error("could not download file")},i.send()}function rT(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function jm(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Du=ve.saveAs||((typeof window>"u"?"undefined":cn(window))!=="object"||window!==ve?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=ve.URL||ve.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?rT(r.href)?fy(e,t,n):jm(r,r.target="_blank"):jm(r)):(r.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){jm(r)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(rT(e))fy(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){jm(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:cn(s)!=="object"&&(vn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return fy(e,t,n);var r=e.type==="application/octet-stream",s=/constructor/i.test(ve.HTMLElement)||ve.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&s)&&(typeof FileReader>"u"?"undefined":cn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=a?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=c:location=c,i=null},o.readAsDataURL(e)}else{var l=ve.URL||ve.webkitURL,u=l.createObjectURL(e);i?i.location=u:location.href=u,i=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function CL(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,s=n[i].process,a=r.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var _g=ve.atob.bind(ve),sT=ve.btoa.bind(ve);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function dy(e,t){var n=e[0],i=e[1],r=e[2],s=e[3];n=Ji(n,i,r,s,t[0],7,-680876936),s=Ji(s,n,i,r,t[1],12,-389564586),r=Ji(r,s,n,i,t[2],17,606105819),i=Ji(i,r,s,n,t[3],22,-1044525330),n=Ji(n,i,r,s,t[4],7,-176418897),s=Ji(s,n,i,r,t[5],12,1200080426),r=Ji(r,s,n,i,t[6],17,-1473231341),i=Ji(i,r,s,n,t[7],22,-45705983),n=Ji(n,i,r,s,t[8],7,1770035416),s=Ji(s,n,i,r,t[9],12,-1958414417),r=Ji(r,s,n,i,t[10],17,-42063),i=Ji(i,r,s,n,t[11],22,-1990404162),n=Ji(n,i,r,s,t[12],7,1804603682),s=Ji(s,n,i,r,t[13],12,-40341101),r=Ji(r,s,n,i,t[14],17,-1502002290),n=Zi(n,i=Ji(i,r,s,n,t[15],22,1236535329),r,s,t[1],5,-165796510),s=Zi(s,n,i,r,t[6],9,-1069501632),r=Zi(r,s,n,i,t[11],14,643717713),i=Zi(i,r,s,n,t[0],20,-373897302),n=Zi(n,i,r,s,t[5],5,-701558691),s=Zi(s,n,i,r,t[10],9,38016083),r=Zi(r,s,n,i,t[15],14,-660478335),i=Zi(i,r,s,n,t[4],20,-405537848),n=Zi(n,i,r,s,t[9],5,568446438),s=Zi(s,n,i,r,t[14],9,-1019803690),r=Zi(r,s,n,i,t[3],14,-187363961),i=Zi(i,r,s,n,t[8],20,1163531501),n=Zi(n,i,r,s,t[13],5,-1444681467),s=Zi(s,n,i,r,t[2],9,-51403784),r=Zi(r,s,n,i,t[7],14,1735328473),n=tr(n,i=Zi(i,r,s,n,t[12],20,-1926607734),r,s,t[5],4,-378558),s=tr(s,n,i,r,t[8],11,-2022574463),r=tr(r,s,n,i,t[11],16,1839030562),i=tr(i,r,s,n,t[14],23,-35309556),n=tr(n,i,r,s,t[1],4,-1530992060),s=tr(s,n,i,r,t[4],11,1272893353),r=tr(r,s,n,i,t[7],16,-155497632),i=tr(i,r,s,n,t[10],23,-1094730640),n=tr(n,i,r,s,t[13],4,681279174),s=tr(s,n,i,r,t[0],11,-358537222),r=tr(r,s,n,i,t[3],16,-722521979),i=tr(i,r,s,n,t[6],23,76029189),n=tr(n,i,r,s,t[9],4,-640364487),s=tr(s,n,i,r,t[12],11,-421815835),r=tr(r,s,n,i,t[15],16,530742520),n=er(n,i=tr(i,r,s,n,t[2],23,-995338651),r,s,t[0],6,-198630844),s=er(s,n,i,r,t[7],10,1126891415),r=er(r,s,n,i,t[14],15,-1416354905),i=er(i,r,s,n,t[5],21,-57434055),n=er(n,i,r,s,t[12],6,1700485571),s=er(s,n,i,r,t[3],10,-1894986606),r=er(r,s,n,i,t[10],15,-1051523),i=er(i,r,s,n,t[1],21,-2054922799),n=er(n,i,r,s,t[8],6,1873313359),s=er(s,n,i,r,t[15],10,-30611744),r=er(r,s,n,i,t[6],15,-1560198380),i=er(i,r,s,n,t[13],21,1309151649),n=er(n,i,r,s,t[4],6,-145523070),s=er(s,n,i,r,t[11],10,-1120210379),r=er(r,s,n,i,t[2],15,718787259),i=er(i,r,s,n,t[9],21,-343485551),e[0]=Pl(n,e[0]),e[1]=Pl(i,e[1]),e[2]=Pl(r,e[2]),e[3]=Pl(s,e[3])}function w0(e,t,n,i,r,s){return t=Pl(Pl(t,e),Pl(i,s)),Pl(t<<r|t>>>32-r,n)}function Ji(e,t,n,i,r,s,a){return w0(t&n|~t&i,e,t,r,s,a)}function Zi(e,t,n,i,r,s,a){return w0(t&i|n&~i,e,t,r,s,a)}function tr(e,t,n,i,r,s,a){return w0(t^n^i,e,t,r,s,a)}function er(e,t,n,i,r,s,a){return w0(n^(t|~i),e,t,r,s,a)}function RL(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)dy(i,OY(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(dy(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*n,dy(i,r),i}function OY(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var aT="0123456789abcdef".split("");function MY(e){for(var t="",n=0;n<4;n++)t+=aT[e>>8*n+4&15]+aT[e>>8*n&15];return t}function VY(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function w5(e){return RL(e).map(VY).join("")}var jY=function(e){for(var t=0;t<e.length;t++)e[t]=MY(e[t]);return e.join("")}(RL("hello"))!="5d41402abc4b2a76b9719d911017c592";function Pl(e,t){if(jY){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function A5(e,t){var n,i,r,s;if(e!==n){for(var a=(r=e,s=1+(256/e.length|0),new Array(s+1).join(r)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var c=o[l];u=(u+c+a.charCodeAt(l))%256,o[l]=o[u],o[u]=c}n=e,i=o}else o=i;var p=t.length,g=0,d=0,w="";for(l=0;l<p;l++)d=(d+(c=o[g=(g+1)%256]))%256,o[g]=o[d],o[d]=c,a=o[(o[g]+o[d])%256],w+=String.fromCharCode(t.charCodeAt(l)^a);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var oT={print:4,modify:8,copy:16,"annot-forms":32};function Wc(e,t,n,i){this.v=1,this.r=2;var r=192;e.forEach(function(o){if(oT.perm!==void 0)throw new Error("Invalid permission: "+o);r+=oT[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^r)),this.encryptionKey=w5(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=A5(this.encryptionKey,this.padding)}function Kc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var r=e.charCodeAt(i);t+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):e[i]}return t}function lT(e){if(cn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[i,!!r],s},this.unsubscribe=function(n){for(var i in t)if(t[i][n])return delete t[i][n],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[n]){var a=t[n][s];try{a[0].apply(e,i)}catch(o){ve.console&&vn.error("jsPDF PubSub Error",o.message,o)}a[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function C1(e){if(!(this instanceof C1))return new C1(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function IL(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ku(e,t,n,i,r){if(!(this instanceof ku))return new ku(e,t,n,i,r);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,IL.call(this,i,r)}function fh(e,t,n,i,r){if(!(this instanceof fh))return new fh(e,t,n,i,r);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,IL.call(this,i,r)}function ee(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",c=null;cn(e=e||{})==="object"&&(n=e.orientation,i=e.unit||i,r=e.format||r,s=e.compress||e.compressPdf||s,(c=e.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),a=e.filters||(s===!0?["FlateEncode"]:a),i=i||"mm",n=(""+(n||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,g={},d={internal:{},__private__:{}};d.__private__.PubSub=lT;var w="1.3",x=d.__private__.getPdfVersion=function(){return w};d.__private__.setPdfVersion=function(y){w=y};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return I};var _=d.__private__.getPageFormat=function(y){return I[y]};r=r||"a4";var E="compat",C="advanced",D=E;function G(){this.saveGraphicsState(),H(new he(Se,0,0,-Se,0,Ks()*Se).toString()+" cm"),this.setFontSize(this.getFontSize()/Se),u="n",D=C}function et(){this.restoreGraphicsState(),u="S",D=E}var M=d.__private__.combineFontStyleAndFontWeight=function(y,k){if(y=="bold"&&k=="normal"||y=="bold"&&k==400||y=="normal"&&k=="italic"||y=="bold"&&k=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return k&&(y=k==400||k==="normal"?y==="italic"?"italic":"normal":k!=700&&k!=="bold"||y!=="normal"?(k==700?"bold":k)+""+y:"bold"),y};d.advancedAPI=function(y){var k=D===E;return k&&G.call(this),typeof y!="function"||(y(this),k&&et.call(this)),this},d.compatAPI=function(y){var k=D===C;return k&&et.call(this),typeof y!="function"||(y(this),k&&G.call(this)),this},d.isAdvancedAPI=function(){return D===C};var N,T=function(y){if(D!==C)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=d.roundToPrecision=d.__private__.roundToPrecision=function(y,k){var W=t||k;if(isNaN(y)||isNaN(W))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(W).replace(/0+$/,"")};N=d.hpf=d.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return V(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return V(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return V(y,16)};var A=d.f2=d.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return V(y,2)},L=d.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return V(y,3)},P=d.scale=d.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return D===E?y*Se:D===C?y:void 0},Q=function(y){return P(function(k){return D===E?Ks()-k:D===C?k:void 0}(y))};d.__private__.setPrecision=d.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(t=parseInt(y,10))};var pt,it="00000000000000000000000000000000",at=d.__private__.getFileId=function(){return it},Z=d.__private__.setFileId=function(y){return it=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():it.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Ln=new Wc(c.userPermissions,c.userPassword,c.ownerPassword,it)),it};d.setFileId=function(y){return Z(y),this},d.getFileId=function(){return at()};var ft=d.__private__.convertDateToPDFDate=function(y){var k=y.getTimezoneOffset(),W=k<0?"+":"-",J=Math.floor(Math.abs(k/60)),ot=Math.abs(k%60),bt=[W,X(J),"'",X(ot),"'"].join("");return["D:",y.getFullYear(),X(y.getMonth()+1),X(y.getDate()),X(y.getHours()),X(y.getMinutes()),X(y.getSeconds()),bt].join("")},Nt=d.__private__.convertPDFDateToDate=function(y){var k=parseInt(y.substr(2,4),10),W=parseInt(y.substr(6,2),10)-1,J=parseInt(y.substr(8,2),10),ot=parseInt(y.substr(10,2),10),bt=parseInt(y.substr(12,2),10),It=parseInt(y.substr(14,2),10);return new Date(k,W,J,ot,bt,It,0)},Tt=d.__private__.setCreationDate=function(y){var k;if(y===void 0&&(y=new Date),y instanceof Date)k=ft(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");k=y}return pt=k},F=d.__private__.getCreationDate=function(y){var k=pt;return y==="jsDate"&&(k=Nt(pt)),k};d.setCreationDate=function(y){return Tt(y),this},d.getCreationDate=function(y){return F(y)};var $,X=d.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},tt=d.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},st=0,ct=[],gt=[],vt=0,St=[],kt=[],Ft=!1,jt=gt;d.__private__.setCustomOutputDestination=function(y){Ft=!0,jt=y};var Zt=function(y){Ft||(jt=y)};d.__private__.resetCustomOutputDestination=function(){Ft=!1,jt=gt};var H=d.__private__.out=function(y){return y=y.toString(),vt+=y.length+1,jt.push(y),jt},Vt=d.__private__.write=function(y){return H(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},Ae=d.__private__.getArrayBuffer=function(y){for(var k=y.length,W=new ArrayBuffer(k),J=new Uint8Array(W);k--;)J[k]=y.charCodeAt(k);return W},ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return ae};var Et=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(y){return Et=D===C?y/Se:y,this};var qt,Bt=d.__private__.getFontSize=d.getFontSize=function(){return D===E?Et:Et*Se},oe=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(y){return oe=y,this},d.__private__.getR2L=d.getR2L=function(){return oe};var ne,Qe=d.__private__.setZoomMode=function(y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))qt=y;else if(isNaN(y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');qt=y}else qt=parseInt(y,10)};d.__private__.getZoomMode=function(){return qt};var Ie,_e=d.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');ne=y};d.__private__.getPageMode=function(){return ne};var Me=d.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');Ie=y};d.__private__.getLayoutMode=function(){return Ie},d.__private__.setDisplayMode=d.setDisplayMode=function(y,k,W){return Qe(y),Me(k),_e(W),this};var ke={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(y){if(Object.keys(ke).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ke[y]},d.__private__.getDocumentProperties=function(){return ke},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(y){for(var k in ke)ke.hasOwnProperty(k)&&y[k]&&(ke[k]=y[k]);return this},d.__private__.setDocumentProperty=function(y,k){if(Object.keys(ke).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ke[y]=k};var $t,Se,Jt,Fn,Oe,xe={},Ne={},Je=[],ie={},tn={},ce={},de={},pn=null,le=0,ue=[],Fe=new lT(d),Hr=e.hotfixes||[],Ti={},Us={},Di=[],he=function y(k,W,J,ot,bt,It){if(!(this instanceof y))return new y(k,W,J,ot,bt,It);isNaN(k)&&(k=1),isNaN(W)&&(W=0),isNaN(J)&&(J=0),isNaN(ot)&&(ot=1),isNaN(bt)&&(bt=0),isNaN(It)&&(It=0),this._matrix=[k,W,J,ot,bt,It]};Object.defineProperty(he.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(he.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(he.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(he.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(he.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(he.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(he.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(he.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(he.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(he.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(he.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(he.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(he.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(he.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(he.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(he.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),he.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(y)},he.prototype.multiply=function(y){var k=y.sx*this.sx+y.shy*this.shx,W=y.sx*this.shy+y.shy*this.sy,J=y.shx*this.sx+y.sy*this.shx,ot=y.shx*this.shy+y.sy*this.sy,bt=y.tx*this.sx+y.ty*this.shx+this.tx,It=y.tx*this.shy+y.ty*this.sy+this.ty;return new he(k,W,J,ot,bt,It)},he.prototype.decompose=function(){var y=this.sx,k=this.shy,W=this.shx,J=this.sy,ot=this.tx,bt=this.ty,It=Math.sqrt(y*y+k*k),Ht=(y/=It)*W+(k/=It)*J;W-=y*Ht,J-=k*Ht;var Yt=Math.sqrt(W*W+J*J);return Ht/=Yt,y*(J/=Yt)<k*(W/=Yt)&&(y=-y,k=-k,Ht=-Ht,It=-It),{scale:new he(It,0,0,Yt,0,0),translate:new he(1,0,0,1,ot,bt),rotate:new he(y,k,-k,y,0,0),skew:new he(1,0,Ht,1,0,0)}},he.prototype.toString=function(y){return this.join(" ")},he.prototype.inversed=function(){var y=this.sx,k=this.shy,W=this.shx,J=this.sy,ot=this.tx,bt=this.ty,It=1/(y*J-k*W),Ht=J*It,Yt=-k*It,fe=-W*It,re=y*It;return new he(Ht,Yt,fe,re,-Ht*ot-fe*bt,-Yt*ot-re*bt)},he.prototype.applyToPoint=function(y){var k=y.x*this.sx+y.y*this.shx+this.tx,W=y.x*this.shy+y.y*this.sy+this.ty;return new fr(k,W)},he.prototype.applyToRectangle=function(y){var k=this.applyToPoint(y),W=this.applyToPoint(new fr(y.x+y.w,y.y+y.h));return new Yo(k.x,k.y,W.x-k.x,W.y-k.y)},he.prototype.clone=function(){var y=this.sx,k=this.shy,W=this.shx,J=this.sy,ot=this.tx,bt=this.ty;return new he(y,k,W,J,ot,bt)},d.Matrix=he;var zs=d.matrixMult=function(y,k){return k.multiply(y)},Sr=new he(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Sr;var ar=function(y,k){if(!tn[y]){var W=(k instanceof ku?"Sh":"P")+(Object.keys(ie).length+1).toString(10);k.id=W,tn[y]=W,ie[W]=k,Fe.publish("addPattern",k)}};d.ShadingPattern=ku,d.TilingPattern=fh,d.addShadingPattern=function(y,k){return T("addShadingPattern()"),ar(y,k),this},d.beginTilingPattern=function(y){T("beginTilingPattern()"),ba(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},d.endTilingPattern=function(y,k){T("endTilingPattern()"),k.stream=kt[$].join(`
`),ar(y,k),Fe.publish("endTilingPattern",k),Di.pop().restore()};var or,bn=d.__private__.newObject=function(){var y=Bn();return gi(y,!0),y},Bn=d.__private__.newObjectDeferred=function(){return st++,ct[st]=function(){return vt},st},gi=function(y,k){return k=typeof k=="boolean"&&k,ct[y]=vt,k&&H(y+" 0 obj"),y},Ki=d.__private__.newAdditionalObject=function(){var y={objId:Bn(),content:""};return St.push(y),y},qs=Bn(),Er=Bn(),Tr=d.__private__.decodeColorString=function(y){var k=y.split(" ");if(k.length!==2||k[1]!=="g"&&k[1]!=="G")k.length!==5||k[4]!=="k"&&k[4]!=="K"||(k=[(1-k[0])*(1-k[3]),(1-k[1])*(1-k[3]),(1-k[2])*(1-k[3]),"r"]);else{var W=parseFloat(k[0]);k=[W,W,W,"r"]}for(var J="#",ot=0;ot<3;ot++)J+=("0"+Math.floor(255*parseFloat(k[ot])).toString(16)).slice(-2);return J},lr=d.__private__.encodeColorString=function(y){var k;typeof y=="string"&&(y={ch1:y});var W=y.ch1,J=y.ch2,ot=y.ch3,bt=y.ch4,It=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof W=="string"&&W.charAt(0)!=="#"){var Ht=new CL(W);if(Ht.ok)W=Ht.toHex();else if(!/^\d*\.?\d*$/.test(W))throw new Error('Invalid color "'+W+'" passed to jsPDF.encodeColorString.')}if(typeof W=="string"&&/^#[0-9A-Fa-f]{3}$/.test(W)&&(W="#"+W[1]+W[1]+W[2]+W[2]+W[3]+W[3]),typeof W=="string"&&/^#[0-9A-Fa-f]{6}$/.test(W)){var Yt=parseInt(W.substr(1),16);W=Yt>>16&255,J=Yt>>8&255,ot=255&Yt}if(J===void 0||bt===void 0&&W===J&&J===ot)k=typeof W=="string"?W+" "+It[0]:y.precision===2?A(W/255)+" "+It[0]:L(W/255)+" "+It[0];else if(bt===void 0||cn(bt)==="object"){if(bt&&!isNaN(bt.a)&&bt.a===0)return["1.","1.","1.",It[1]].join(" ");k=typeof W=="string"?[W,J,ot,It[1]].join(" "):y.precision===2?[A(W/255),A(J/255),A(ot/255),It[1]].join(" "):[L(W/255),L(J/255),L(ot/255),It[1]].join(" ")}else k=typeof W=="string"?[W,J,ot,bt,It[2]].join(" "):y.precision===2?[A(W),A(J),A(ot),A(bt),It[2]].join(" "):[L(W),L(J),L(ot),L(bt),It[2]].join(" ");return k},xr=d.__private__.getFilters=function(){return a},Nr=d.__private__.putStream=function(y){var k=(y=y||{}).data||"",W=y.filters||xr(),J=y.alreadyAppliedFilters||[],ot=y.addLength1||!1,bt=k.length,It=y.objectId,Ht=function(b){return b};if(c!==null&&It===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ht=Ln.encryptor(It,0));var Yt={};W===!0&&(W=["FlateEncode"]);var fe=y.additionalKeyValues||[],re=(Yt=ee.API.processDataByFilters!==void 0?ee.API.processDataByFilters(k,W):{data:k,reverseChain:[]}).reverseChain+(Array.isArray(J)?J.join(" "):J.toString());if(Yt.data.length!==0&&(fe.push({key:"Length",value:Yt.data.length}),ot===!0&&fe.push({key:"Length1",value:bt})),re.length!=0)if(re.split("/").length-1==1)fe.push({key:"Filter",value:re});else{fe.push({key:"Filter",value:"["+re+"]"});for(var Be=0;Be<fe.length;Be+=1)if(fe[Be].key==="DecodeParms"){for(var Sn=[],mn=0;mn<Yt.reverseChain.split("/").length-1;mn+=1)Sn.push("null");Sn.push(fe[Be].value),fe[Be].value="["+Sn.join(" ")+"]"}}H("<<");for(var f=0;f<fe.length;f++)H("/"+fe[f].key+" "+fe[f].value);H(">>"),Yt.data.length!==0&&(H("stream"),H(Ht(Yt.data)),H("endstream"))},da=d.__private__.putPage=function(y){var k=y.number,W=y.data,J=y.objId,ot=y.contentsObjId;gi(J,!0),H("<</Type /Page"),H("/Parent "+y.rootDictionaryObjId+" 0 R"),H("/Resources "+y.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(N(y.mediaBox.bottomLeftX))+" "+parseFloat(N(y.mediaBox.bottomLeftY))+" "+N(y.mediaBox.topRightX)+" "+N(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&H("/CropBox ["+N(y.cropBox.bottomLeftX)+" "+N(y.cropBox.bottomLeftY)+" "+N(y.cropBox.topRightX)+" "+N(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&H("/BleedBox ["+N(y.bleedBox.bottomLeftX)+" "+N(y.bleedBox.bottomLeftY)+" "+N(y.bleedBox.topRightX)+" "+N(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&H("/TrimBox ["+N(y.trimBox.bottomLeftX)+" "+N(y.trimBox.bottomLeftY)+" "+N(y.trimBox.topRightX)+" "+N(y.trimBox.topRightY)+"]"),y.artBox!==null&&H("/ArtBox ["+N(y.artBox.bottomLeftX)+" "+N(y.artBox.bottomLeftY)+" "+N(y.artBox.topRightX)+" "+N(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&H("/UserUnit "+y.userUnit),Fe.publish("putPage",{objId:J,pageContext:ue[k],pageNumber:k,page:W}),H("/Contents "+ot+" 0 R"),H(">>"),H("endobj");var bt=W.join(`
`);return D===C&&(bt+=`
Q`),gi(ot,!0),Nr({data:bt,filters:xr(),objectId:ot}),H("endobj"),J},fs=d.__private__.putPages=function(){var y,k,W=[];for(y=1;y<=le;y++)ue[y].objId=Bn(),ue[y].contentsObjId=Bn();for(y=1;y<=le;y++)W.push(da({number:y,data:kt[y],objId:ue[y].objId,contentsObjId:ue[y].contentsObjId,mediaBox:ue[y].mediaBox,cropBox:ue[y].cropBox,bleedBox:ue[y].bleedBox,trimBox:ue[y].trimBox,artBox:ue[y].artBox,userUnit:ue[y].userUnit,rootDictionaryObjId:qs,resourceDictionaryObjId:Er}));gi(qs,!0),H("<</Type /Pages");var J="/Kids [";for(k=0;k<le;k++)J+=W[k]+" 0 R ";H(J+"]"),H("/Count "+le),H(">>"),H("endobj"),Fe.publish("postPutPages")},ds=function(y){Fe.publish("putFont",{font:y,out:H,newObject:bn,putStream:Nr}),y.isAlreadyPutted!==!0&&(y.objectNumber=bn(),H("<<"),H("/Type /Font"),H("/BaseFont /"+Kc(y.postScriptName)),H("/Subtype /Type1"),typeof y.encoding=="string"&&H("/Encoding /"+y.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},Ka=function(y){y.objectNumber=bn();var k=[];k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Form"}),k.push({key:"BBox",value:"["+[N(y.x),N(y.y),N(y.x+y.width),N(y.y+y.height)].join(" ")+"]"}),k.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var W=y.pages[1].join(`
`);Nr({data:W,additionalKeyValues:k,objectId:y.objectNumber}),H("endobj")},pa=function(y,k){k||(k=21);var W=bn(),J=function(It,Ht){var Yt,fe=[],re=1/(Ht-1);for(Yt=0;Yt<1;Yt+=re)fe.push(Yt);if(fe.push(1),It[0].offset!=0){var Be={offset:0,color:It[0].color};It.unshift(Be)}if(It[It.length-1].offset!=1){var Sn={offset:1,color:It[It.length-1].color};It.push(Sn)}for(var mn="",f=0,b=0;b<fe.length;b++){for(Yt=fe[b];Yt>It[f+1].offset;)f++;var R=It[f].offset,z=(Yt-R)/(It[f+1].offset-R),lt=It[f].color,mt=It[f+1].color;mn+=tt(Math.round((1-z)*lt[0]+z*mt[0]).toString(16))+tt(Math.round((1-z)*lt[1]+z*mt[1]).toString(16))+tt(Math.round((1-z)*lt[2]+z*mt[2]).toString(16))}return mn.trim()}(y.colors,k),ot=[];ot.push({key:"FunctionType",value:"0"}),ot.push({key:"Domain",value:"[0.0 1.0]"}),ot.push({key:"Size",value:"["+k+"]"}),ot.push({key:"BitsPerSample",value:"8"}),ot.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ot.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Nr({data:J,additionalKeyValues:ot,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:W}),H("endobj"),y.objectNumber=bn(),H("<< /ShadingType "+y.type),H("/ColorSpace /DeviceRGB");var bt="/Coords ["+N(parseFloat(y.coords[0]))+" "+N(parseFloat(y.coords[1]))+" ";y.type===2?bt+=N(parseFloat(y.coords[2]))+" "+N(parseFloat(y.coords[3])):bt+=N(parseFloat(y.coords[2]))+" "+N(parseFloat(y.coords[3]))+" "+N(parseFloat(y.coords[4]))+" "+N(parseFloat(y.coords[5])),H(bt+="]"),y.matrix&&H("/Matrix ["+y.matrix.toString()+"]"),H("/Function "+W+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},ps=function(y,k){var W=Bn(),J=bn();k.push({resourcesOid:W,objectOid:J}),y.objectNumber=J;var ot=[];ot.push({key:"Type",value:"/Pattern"}),ot.push({key:"PatternType",value:"1"}),ot.push({key:"PaintType",value:"1"}),ot.push({key:"TilingType",value:"1"}),ot.push({key:"BBox",value:"["+y.boundingBox.map(N).join(" ")+"]"}),ot.push({key:"XStep",value:N(y.xStep)}),ot.push({key:"YStep",value:N(y.yStep)}),ot.push({key:"Resources",value:W+" 0 R"}),y.matrix&&ot.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),Nr({data:y.stream,additionalKeyValues:ot,objectId:y.objectNumber}),H("endobj")},Hs=function(y){for(var k in y.objectNumber=bn(),H("<<"),y)switch(k){case"opacity":H("/ca "+A(y[k]));break;case"stroke-opacity":H("/CA "+A(y[k]))}H(">>"),H("endobj")},Ya=function(y){gi(y.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var k in H("/Font <<"),xe)xe.hasOwnProperty(k)&&(p===!1||p===!0&&g.hasOwnProperty(k))&&H("/"+k+" "+xe[k].objectNumber+" 0 R");H(">>")}(),function(){if(Object.keys(ie).length>0){for(var k in H("/Shading <<"),ie)ie.hasOwnProperty(k)&&ie[k]instanceof ku&&ie[k].objectNumber>=0&&H("/"+k+" "+ie[k].objectNumber+" 0 R");Fe.publish("putShadingPatternDict"),H(">>")}}(),function(k){if(Object.keys(ie).length>0){for(var W in H("/Pattern <<"),ie)ie.hasOwnProperty(W)&&ie[W]instanceof d.TilingPattern&&ie[W].objectNumber>=0&&ie[W].objectNumber<k&&H("/"+W+" "+ie[W].objectNumber+" 0 R");Fe.publish("putTilingPatternDict"),H(">>")}}(y.objectOid),function(){if(Object.keys(ce).length>0){var k;for(k in H("/ExtGState <<"),ce)ce.hasOwnProperty(k)&&ce[k].objectNumber>=0&&H("/"+k+" "+ce[k].objectNumber+" 0 R");Fe.publish("putGStateDict"),H(">>")}}(),function(){for(var k in H("/XObject <<"),Ti)Ti.hasOwnProperty(k)&&Ti[k].objectNumber>=0&&H("/"+k+" "+Ti[k].objectNumber+" 0 R");Fe.publish("putXobjectDict"),H(">>")}(),H(">>"),H("endobj")},bc=function(y){Ne[y.fontName]=Ne[y.fontName]||{},Ne[y.fontName][y.fontStyle]=y.id},hu=function(y,k,W,J,ot){var bt={id:"F"+(Object.keys(xe).length+1).toString(10),postScriptName:y,fontName:k,fontStyle:W,encoding:J,isStandardFont:ot||!1,metadata:{}};return Fe.publish("addFont",{font:bt,instance:this}),xe[bt.id]=bt,bc(bt),bt.id},ur=d.__private__.pdfEscape=d.pdfEscape=function(y,k){return function(W,J){var ot,bt,It,Ht,Yt,fe,re,Be,Sn;if(It=(J=J||{}).sourceEncoding||"Unicode",Yt=J.outputEncoding,(J.autoencode||Yt)&&xe[$t].metadata&&xe[$t].metadata[It]&&xe[$t].metadata[It].encoding&&(Ht=xe[$t].metadata[It].encoding,!Yt&&xe[$t].encoding&&(Yt=xe[$t].encoding),!Yt&&Ht.codePages&&(Yt=Ht.codePages[0]),typeof Yt=="string"&&(Yt=Ht[Yt]),Yt)){for(re=!1,fe=[],ot=0,bt=W.length;ot<bt;ot++)(Be=Yt[W.charCodeAt(ot)])?fe.push(String.fromCharCode(Be)):fe.push(W[ot]),fe[ot].charCodeAt(0)>>8&&(re=!0);W=fe.join("")}for(ot=W.length;re===void 0&&ot!==0;)W.charCodeAt(ot-1)>>8&&(re=!0),ot--;if(!re)return W;for(fe=J.noBOM?[]:[254,255],ot=0,bt=W.length;ot<bt;ot++){if((Sn=(Be=W.charCodeAt(ot))>>8)>>8)throw new Error("Character at position "+ot+" of string '"+W+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");fe.push(Sn),fe.push(Be-(Sn<<8))}return String.fromCharCode.apply(void 0,fe)}(y,k).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uo=d.__private__.beginPage=function(y){kt[++le]=[],ue[le]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},fu(le),Zt(kt[$])},zo=function(y,k){var W,J,ot;switch(n=k||n,typeof y=="string"&&(W=_(y.toLowerCase()),Array.isArray(W)&&(J=W[0],ot=W[1])),Array.isArray(y)&&(J=y[0]*Se,ot=y[1]*Se),isNaN(J)&&(J=r[0],ot=r[1]),(J>14400||ot>14400)&&(vn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),J=Math.min(14400,J),ot=Math.min(14400,ot)),r=[J,ot],n.substr(0,1)){case"l":ot>J&&(r=[ot,J]);break;case"p":J>ot&&(r=[ot,J])}Uo(r),pe(Lr),H(Go),Pr!==0&&H(Pr+" J"),Ko!==0&&H(Ko+" j"),Fe.publish("addPage",{pageNumber:le})},$a=function(y){y>0&&y<=le&&(kt.splice(y,1),ue.splice(y,1),le--,$>le&&($=le),this.setPage($))},fu=function(y){y>0&&y<=le&&($=y)},du=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return kt.length-1},pu=function(y,k,W){var J,ot=void 0;return W=W||{},y=y!==void 0?y:xe[$t].fontName,k=k!==void 0?k:xe[$t].fontStyle,J=y.toLowerCase(),Ne[J]!==void 0&&Ne[J][k]!==void 0?ot=Ne[J][k]:Ne[y]!==void 0&&Ne[y][k]!==void 0?ot=Ne[y][k]:W.disableWarning===!1&&vn.warn("Unable to look up font label for font '"+y+"', '"+k+"'. Refer to getFontList() for available fonts."),ot||W.noFallback||(ot=Ne.times[k])==null&&(ot=Ne.times.normal),ot},ms=d.__private__.putInfo=function(){var y=bn(),k=function(J){return J};for(var W in c!==null&&(k=Ln.encryptor(y,0)),H("<<"),H("/Producer ("+ur(k("jsPDF "+ee.version))+")"),ke)ke.hasOwnProperty(W)&&ke[W]&&H("/"+W.substr(0,1).toUpperCase()+W.substr(1)+" ("+ur(k(ke[W]))+")");H("/CreationDate ("+ur(k(pt))+")"),H(">>"),H("endobj")},cr=d.__private__.putCatalog=function(y){var k=(y=y||{}).rootDictionaryObjId||qs;switch(bn(),H("<<"),H("/Type /Catalog"),H("/Pages "+k+" 0 R"),qt||(qt="fullwidth"),qt){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var W=""+qt;W.substr(W.length-1)==="%"&&(qt=parseInt(qt)/100),typeof qt=="number"&&H("/OpenAction [3 0 R /XYZ null null "+A(qt)+"]")}switch(Ie||(Ie="continuous"),Ie){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}ne&&H("/PageMode /"+ne),Fe.publish("putCatalog"),H(">>"),H("endobj")},Cr=d.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(st+1)),H("/Root "+st+" 0 R"),H("/Info "+(st-1)+" 0 R"),c!==null&&H("/Encrypt "+Ln.oid+" 0 R"),H("/ID [ <"+it+"> <"+it+"> ]"),H(">>")},wn=d.__private__.putHeader=function(){H("%PDF-"+w),H("%")},ma=d.__private__.putXRef=function(){var y="0000000000";H("xref"),H("0 "+(st+1)),H("0000000000 65535 f ");for(var k=1;k<=st;k++)typeof ct[k]=="function"?H((y+ct[k]()).slice(-10)+" 00000 n "):ct[k]!==void 0?H((y+ct[k]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},Rr=d.__private__.buildDocument=function(){var y;st=0,vt=0,gt=[],ct=[],St=[],qs=Bn(),Er=Bn(),Zt(gt),Fe.publish("buildDocument"),wn(),fs(),function(){Fe.publish("putAdditionalObjects");for(var W=0;W<St.length;W++){var J=St[W];gi(J.objId,!0),H(J.content),H("endobj")}Fe.publish("postPutAdditionalObjects")}(),y=[],function(){for(var W in xe)xe.hasOwnProperty(W)&&(p===!1||p===!0&&g.hasOwnProperty(W))&&ds(xe[W])}(),function(){var W;for(W in ce)ce.hasOwnProperty(W)&&Hs(ce[W])}(),function(){for(var W in Ti)Ti.hasOwnProperty(W)&&Ka(Ti[W])}(),function(W){var J;for(J in ie)ie.hasOwnProperty(J)&&(ie[J]instanceof ku?pa(ie[J]):ie[J]instanceof fh&&ps(ie[J],W))}(y),Fe.publish("putResources"),y.forEach(Ya),Ya({resourcesOid:Er,objectOid:Number.MAX_SAFE_INTEGER}),Fe.publish("postPutResources"),c!==null&&(Ln.oid=bn(),H("<<"),H("/Filter /Standard"),H("/V "+Ln.v),H("/R "+Ln.r),H("/U <"+Ln.toHexString(Ln.U)+">"),H("/O <"+Ln.toHexString(Ln.O)+">"),H("/P "+Ln.P),H(">>"),H("endobj")),ms(),cr();var k=vt;return ma(),Cr(),H("startxref"),H(""+k),H("%%EOF"),Zt(kt[$]),gt.join(`
`)},Ze=d.__private__.getBlob=function(y){return new Blob([Ae(y)],{type:"application/pdf"})},Xa=d.output=d.__private__.output=(or=function(y,k){switch(typeof(k=k||{})=="string"?k={filename:k}:k.filename=k.filename||"generated.pdf",y){case void 0:return Rr();case"save":d.save(k.filename);break;case"arraybuffer":return Ae(Rr());case"blob":return Ze(Rr());case"bloburi":case"bloburl":if(ve.URL!==void 0&&typeof ve.URL.createObjectURL=="function")return ve.URL&&ve.URL.createObjectURL(Ze(Rr()))||void 0;vn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var W="",J=Rr();try{W=sT(J)}catch{W=sT(unescape(encodeURIComponent(J)))}return"data:application/pdf;filename="+k.filename+";base64,"+W;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ve)==="[object Window]"){var ot="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';k.pdfObjectUrl&&(ot=k.pdfObjectUrl,bt="");var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ot+'"'+bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(k)+");<\/script></body></html>",Ht=ve.open();return Ht!==null&&Ht.document.write(It),Ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ve)==="[object Window]"){var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(k.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+k.filename+'" width="500px" height="400px" /></body></html>',fe=ve.open();if(fe!==null){fe.document.write(Yt);var re=this;fe.document.documentElement.querySelector("#pdfViewer").onload=function(){fe.document.title=k.filename,fe.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(re.output("bloburl"))}}return fe}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ve)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",k)+'"></iframe></body></html>',Sn=ve.open();if(Sn!==null&&(Sn.document.write(Be),Sn.document.title=k.filename),Sn||typeof safari>"u")return Sn;break;case"datauri":case"dataurl":return ve.document.location.href=this.output("datauristring",k);default:return null}},or.foo=function(){try{return or.apply(this,arguments)}catch(W){var y=W.stack||"";~y.indexOf(" at ")&&(y=y.split(" at ")[1]);var k="Error in function "+y.split(`
`)[0].split("<")[0]+": "+W.message;if(!ve.console)throw new Error(k);ve.console.error(k,W),ve.alert&&alert(k)}},or.foo.bar=or,or.foo),xi=function(y){return Array.isArray(Hr)===!0&&Hr.indexOf(y)>-1};switch(i){case"pt":Se=1;break;case"mm":Se=72/25.4;break;case"cm":Se=72/2.54;break;case"in":Se=72;break;case"px":Se=xi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Se=12;break;case"ex":Se=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Se=i}var Ln=null;Tt(),Z();var Gs=d.__private__.getPageInfo=d.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ue[y].objId,pageNumber:y,pageContext:ue[y]}},mu=d.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var k in ue)if(ue[k].objId===y)break;return Gs(k)},bf=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:ue[$].objId,pageNumber:$,pageContext:ue[$]}};d.addPage=function(){return zo.apply(this,arguments),this},d.setPage=function(){return fu.apply(this,arguments),Zt.call(this,kt[$]),this},d.insertPage=function(y){return this.addPage(),this.movePage($,y),this},d.movePage=function(y,k){var W,J;if(y>k){W=kt[y],J=ue[y];for(var ot=y;ot>k;ot--)kt[ot]=kt[ot-1],ue[ot]=ue[ot-1];kt[k]=W,ue[k]=J,this.setPage(k)}else if(y<k){W=kt[y],J=ue[y];for(var bt=y;bt<k;bt++)kt[bt]=kt[bt+1],ue[bt]=ue[bt+1];kt[k]=W,ue[k]=J,this.setPage(k)}return this},d.deletePage=function(){return $a.apply(this,arguments),this},d.__private__.text=d.text=function(y,k,W,J,ot){var bt,It,Ht,Yt,fe,re,Be,Sn,mn,f=(J=J||{}).scope||this;if(typeof y=="number"&&typeof k=="number"&&(typeof W=="string"||Array.isArray(W))){var b=W;W=k,k=y,y=b}if(arguments[3]instanceof he==0?(Ht=arguments[4],Yt=arguments[5],cn(Be=arguments[3])==="object"&&Be!==null||(typeof Ht=="string"&&(Yt=Ht,Ht=null),typeof Be=="string"&&(Yt=Be,Be=null),typeof Be=="number"&&(Ht=Be,Be=null),J={flags:Be,angle:Ht,align:Yt})):(T("The transform parameter of text() with a Matrix value"),mn=ot),isNaN(k)||isNaN(W)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return f;var R,z="",lt=typeof J.lineHeightFactor=="number"?J.lineHeightFactor:Qa,mt=f.internal.scaleFactor;function Ot(rn){return rn=rn.split("	").join(Array(J.TabLen||9).join(" ")),ur(rn,Be)}function be(rn){for(var gn,Jn=rn.concat(),yi=[],no=Jn.length;no--;)typeof(gn=Jn.shift())=="string"?yi.push(gn):Array.isArray(rn)&&(gn.length===1||gn[1]===void 0&&gn[2]===void 0)?yi.push(gn[0]):yi.push([gn[0],gn[1],gn[2]]);return yi}function En(rn,gn){var Jn;if(typeof rn=="string")Jn=gn(rn)[0];else if(Array.isArray(rn)){for(var yi,no,Pf=rn.concat(),Lc=[],qp=Pf.length;qp--;)typeof(yi=Pf.shift())=="string"?Lc.push(gn(yi)[0]):Array.isArray(yi)&&typeof yi[0]=="string"&&(no=gn(yi[0],yi[1],yi[2]),Lc.push([no[0],no[1],no[2]]));Jn=Lc}return Jn}var Ue=!1,Tn=!0;if(typeof y=="string")Ue=!0;else if(Array.isArray(y)){var Ni=y.concat();It=[];for(var Yi,xn=Ni.length;xn--;)(typeof(Yi=Ni.shift())!="string"||Array.isArray(Yi)&&typeof Yi[0]!="string")&&(Tn=!1);Ue=Tn}if(Ue===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var $i=Et/f.internal.scaleFactor,bs=$i*(lt-1);switch(J.baseline){case"bottom":W-=bs;break;case"top":W+=$i-bs;break;case"hanging":W+=$i-2*bs;break;case"middle":W+=$i/2-bs}if((re=J.maxWidth||0)>0&&(typeof y=="string"?y=f.splitTextToSize(y,re):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(rn,gn){return rn.concat(f.splitTextToSize(gn,re))},[]))),bt={text:y,x:k,y:W,options:J,mutex:{pdfEscape:ur,activeFontKey:$t,fonts:xe,activeFontSize:Et}},Fe.publish("preProcessText",bt),y=bt.text,Ht=(J=bt.options).angle,mn instanceof he==0&&Ht&&typeof Ht=="number"){Ht*=Math.PI/180,J.rotationDirection===0&&(Ht=-Ht),D===C&&(Ht=-Ht);var Za=Math.cos(Ht),Ef=Math.sin(Ht);mn=new he(Za,Ef,-Ef,Za,0,0)}else Ht&&Ht instanceof he&&(mn=Ht);D!==C||mn||(mn=Sr),(fe=J.charSpace||vs)!==void 0&&(z+=N(P(fe))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Sn=J.horizontalScale)!==void 0&&(z+=N(100*Sn)+` Tz
`),J.lang;var pr=-1,to=J.renderingMode!==void 0?J.renderingMode:J.stroke,Rc=f.internal.getCurrentPageInfo().pageContext;switch(to){case 0:case!1:case"fill":pr=0;break;case 1:case!0:case"stroke":pr=1;break;case 2:case"fillThenStroke":pr=2;break;case 3:case"invisible":pr=3;break;case 4:case"fillAndAddForClipping":pr=4;break;case 5:case"strokeAndAddPathForClipping":pr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pr=6;break;case 7:case"addToPathForClipping":pr=7}var Up=Rc.usedRenderingMode!==void 0?Rc.usedRenderingMode:-1;pr!==-1?z+=pr+` Tr
`:Up!==-1&&(z+=`0 Tr
`),pr!==-1&&(Rc.usedRenderingMode=pr),Yt=J.align||"left";var ws,bu=Et*lt,Tf=f.internal.pageSize.getWidth(),xf=xe[$t];fe=J.charSpace||vs,re=J.maxWidth||0,Be=Object.assign({autoencode:!0,noBOM:!0},J.flags);var Xo=[],wu=function(rn){return f.getStringUnitWidth(rn,{font:xf,charSpace:fe,fontSize:Et,doKerning:!1})*Et/mt};if(Object.prototype.toString.call(y)==="[object Array]"){var Wr;It=be(y),Yt!=="left"&&(ws=It.map(wu));var Kr,Qo=0;if(Yt==="right"){k-=ws[0],y=[],xn=It.length;for(var eo=0;eo<xn;eo++)eo===0?(Kr=hr(k),Wr=ys(W)):(Kr=P(Qo-ws[eo]),Wr=-bu),y.push([It[eo],Kr,Wr]),Qo=ws[eo]}else if(Yt==="center"){k-=ws[0]/2,y=[],xn=It.length;for(var Jo=0;Jo<xn;Jo++)Jo===0?(Kr=hr(k),Wr=ys(W)):(Kr=P((Qo-ws[Jo])/2),Wr=-bu),y.push([It[Jo],Kr,Wr]),Qo=ws[Jo]}else if(Yt==="left"){y=[],xn=It.length;for(var Nf=0;Nf<xn;Nf++)y.push(It[Nf])}else if(Yt==="justify"&&xf.encoding==="Identity-H"){y=[],xn=It.length,re=re!==0?re:Tf;for(var Ic=0,Qn=0;Qn<xn;Qn++)if(Wr=Qn===0?ys(W):-bu,Kr=Qn===0?hr(k):Ic,Qn<xn-1){var zp=P((re-ws[Qn])/(It[Qn].split(" ").length-1)),Sa=It[Qn].split(" ");y.push([Sa[0]+" ",Kr,Wr]),Ic=0;for(var Ea=1;Ea<Sa.length;Ea++){var Cf=(wu(Sa[Ea-1]+" "+Sa[Ea])-wu(Sa[Ea]))*mt+zp;Ea==Sa.length-1?y.push([Sa[Ea],Cf,0]):y.push([Sa[Ea]+" ",Cf,0]),Ic-=Cf}}else y.push([It[Qn],Kr,Wr]);y.push(["",Ic,0])}else{if(Yt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],xn=It.length,re=re!==0?re:Tf,Qn=0;Qn<xn;Qn++){Wr=Qn===0?ys(W):-bu,Kr=Qn===0?hr(k):0;var Rf=It[Qn].split(" ").length-1,If=Rf>0?(re-ws[Qn])/Rf:0;Qn<xn-1?Xo.push(N(P(If))):Xo.push(0),y.push([It[Qn],Kr,Wr])}}}(typeof J.R2L=="boolean"?J.R2L:oe)===!0&&(y=En(y,function(rn,gn,Jn){return[rn.split("").reverse().join(""),gn,Jn]})),bt={text:y,x:k,y:W,options:J,mutex:{pdfEscape:ur,activeFontKey:$t,fonts:xe,activeFontSize:Et}},Fe.publish("postProcessText",bt),y=bt.text,R=bt.mutex.isHex||!1;var Lf=xe[$t].encoding;Lf!=="WinAnsiEncoding"&&Lf!=="StandardEncoding"||(y=En(y,function(rn,gn,Jn){return[Ot(rn),gn,Jn]})),It=be(y),y=[];for(var Zo,tl,el,Au=Array.isArray(It[0])?1:0,nl="",Su=function(rn,gn,Jn){var yi="";return Jn instanceof he?(Jn=typeof J.angle=="number"?zs(Jn,new he(1,0,0,1,rn,gn)):zs(new he(1,0,0,1,rn,gn),Jn),D===C&&(Jn=zs(new he(1,0,0,-1,0,0),Jn)),yi=Jn.join(" ")+` Tm
`):yi=N(rn)+" "+N(gn)+` Td
`,yi},As=0;As<It.length;As++){switch(nl="",Au){case 1:el=(R?"<":"(")+It[As][0]+(R?">":")"),Zo=parseFloat(It[As][1]),tl=parseFloat(It[As][2]);break;case 0:el=(R?"<":"(")+It[As]+(R?">":")"),Zo=hr(k),tl=ys(W)}Xo!==void 0&&Xo[As]!==void 0&&(nl=Xo[As]+` Tw
`),As===0?y.push(nl+Su(Zo,tl,mn)+el):Au===0?y.push(nl+el):Au===1&&y.push(nl+Su(Zo,tl,mn)+el)}y=Au===0?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var Ta=`BT
/`;return Ta+=$t+" "+Et+` Tf
`,Ta+=N(Et*lt)+` TL
`,Ta+=va+`
`,Ta+=z,Ta+=y,H(Ta+="ET"),g[$t]=!0,f};var wf=d.__private__.clip=d.clip=function(y){return H(y==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return wf("evenodd")},d.__private__.discardPath=d.discardPath=function(){return H("n"),this};var gs=d.__private__.isValidStyle=function(y){var k=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(k=!0),k};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(y){return gs(y)&&(u=y),this};var wc=d.__private__.getStyle=d.getStyle=function(y){var k=u;switch(y){case"D":case"S":k="S";break;case"F":k="f";break;case"FD":case"DF":k="B";break;case"f":case"f*":case"B":case"B*":k=y}return k},ga=d.close=function(){return H("h"),this};d.stroke=function(){return H("S"),this},d.fill=function(y){return Ir("f",y),this},d.fillEvenOdd=function(y){return Ir("f*",y),this},d.fillStroke=function(y){return Ir("B",y),this},d.fillStrokeEvenOdd=function(y){return Ir("B*",y),this};var Ir=function(y,k){cn(k)==="object"?Sc(k,y):H(y)},ya=function(y){y===null||D===C&&y===void 0||(y=wc(y),H(y))};function Ac(y,k,W,J,ot){var bt=new fh(k||this.boundingBox,W||this.xStep,J||this.yStep,this.gState,ot||this.matrix);bt.stream=this.stream;var It=y+"$$"+this.cloneIndex+++"$$";return ar(It,bt),bt}var Sc=function(y,k){var W=tn[y.key],J=ie[W];if(J instanceof ku)H("q"),H(Ec(k)),J.gState&&d.setGState(J.gState),H(y.matrix.toString()+" cm"),H("/"+W+" sh"),H("Q");else if(J instanceof fh){var ot=new he(1,0,0,-1,0,Ks());y.matrix&&(ot=ot.multiply(y.matrix||Sr),W=Ac.call(J,y.key,y.boundingBox,y.xStep,y.yStep,ot).id),H("q"),H("/Pattern cs"),H("/"+W+" scn"),J.gState&&d.setGState(J.gState),H(k),H("Q")}},Ec=function(y){switch(y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},qo=d.moveTo=function(y,k){return H(N(P(y))+" "+N(Q(k))+" m"),this},Ws=d.lineTo=function(y,k){return H(N(P(y))+" "+N(Q(k))+" l"),this},Gr=d.curveTo=function(y,k,W,J,ot,bt){return H([N(P(y)),N(Q(k)),N(P(W)),N(Q(J)),N(P(ot)),N(Q(bt)),"c"].join(" ")),this};d.__private__.line=d.line=function(y,k,W,J,ot){if(isNaN(y)||isNaN(k)||isNaN(W)||isNaN(J)||!gs(ot))throw new Error("Invalid arguments passed to jsPDF.line");return D===E?this.lines([[W-y,J-k]],y,k,[1,1],ot||"S"):this.lines([[W-y,J-k]],y,k,[1,1]).stroke()},d.__private__.lines=d.lines=function(y,k,W,J,ot,bt){var It,Ht,Yt,fe,re,Be,Sn,mn,f,b,R,z;if(typeof y=="number"&&(z=W,W=k,k=y,y=z),J=J||[1,1],bt=bt||!1,isNaN(k)||isNaN(W)||!Array.isArray(y)||!Array.isArray(J)||!gs(ot)||typeof bt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(qo(k,W),It=J[0],Ht=J[1],fe=y.length,b=k,R=W,Yt=0;Yt<fe;Yt++)(re=y[Yt]).length===2?(b=re[0]*It+b,R=re[1]*Ht+R,Ws(b,R)):(Be=re[0]*It+b,Sn=re[1]*Ht+R,mn=re[2]*It+b,f=re[3]*Ht+R,b=re[4]*It+b,R=re[5]*Ht+R,Gr(Be,Sn,mn,f,b,R));return bt&&ga(),ya(ot),this},d.path=function(y){for(var k=0;k<y.length;k++){var W=y[k],J=W.c;switch(W.op){case"m":qo(J[0],J[1]);break;case"l":Ws(J[0],J[1]);break;case"c":Gr.apply(this,J);break;case"h":ga()}}return this},d.__private__.rect=d.rect=function(y,k,W,J,ot){if(isNaN(y)||isNaN(k)||isNaN(W)||isNaN(J)||!gs(ot))throw new Error("Invalid arguments passed to jsPDF.rect");return D===E&&(J=-J),H([N(P(y)),N(Q(k)),N(P(W)),N(P(J)),"re"].join(" ")),ya(ot),this},d.__private__.triangle=d.triangle=function(y,k,W,J,ot,bt,It){if(isNaN(y)||isNaN(k)||isNaN(W)||isNaN(J)||isNaN(ot)||isNaN(bt)||!gs(It))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[W-y,J-k],[ot-W,bt-J],[y-ot,k-bt]],y,k,[1,1],It,!0),this},d.__private__.roundedRect=d.roundedRect=function(y,k,W,J,ot,bt,It){if(isNaN(y)||isNaN(k)||isNaN(W)||isNaN(J)||isNaN(ot)||isNaN(bt)||!gs(It))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ht=4/3*(Math.SQRT2-1);return ot=Math.min(ot,.5*W),bt=Math.min(bt,.5*J),this.lines([[W-2*ot,0],[ot*Ht,0,ot,bt-bt*Ht,ot,bt],[0,J-2*bt],[0,bt*Ht,-ot*Ht,bt,-ot,bt],[2*ot-W,0],[-ot*Ht,0,-ot,-bt*Ht,-ot,-bt],[0,2*bt-J],[0,-bt*Ht,ot*Ht,-bt,ot,-bt]],y+ot,k,[1,1],It,!0),this},d.__private__.ellipse=d.ellipse=function(y,k,W,J,ot){if(isNaN(y)||isNaN(k)||isNaN(W)||isNaN(J)||!gs(ot))throw new Error("Invalid arguments passed to jsPDF.ellipse");var bt=4/3*(Math.SQRT2-1)*W,It=4/3*(Math.SQRT2-1)*J;return qo(y+W,k),Gr(y+W,k-It,y+bt,k-J,y,k-J),Gr(y-bt,k-J,y-W,k-It,y-W,k),Gr(y-W,k+It,y-bt,k+J,y,k+J),Gr(y+bt,k+J,y+W,k+It,y+W,k),ya(ot),this},d.__private__.circle=d.circle=function(y,k,W,J){if(isNaN(y)||isNaN(k)||isNaN(W)||!gs(J))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,k,W,W,J)},d.setFont=function(y,k,W){return W&&(k=M(k,W)),$t=pu(y,k,{disableWarning:!1}),this};var Af=d.__private__.getFont=d.getFont=function(){return xe[pu.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var y,k,W={};for(y in Ne)if(Ne.hasOwnProperty(y))for(k in W[y]=[],Ne[y])Ne[y].hasOwnProperty(k)&&W[y].push(k);return W},d.addFont=function(y,k,W,J,ot){var bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&bt.indexOf(arguments[3])!==-1?ot=arguments[3]:arguments[3]&&bt.indexOf(arguments[3])==-1&&(W=M(W,J)),hu.call(this,y,k,W,ot=ot||"Identity-H")};var Qa,Lr=e.lineWidth||.200025,Sf=d.__private__.getLineWidth=d.getLineWidth=function(){return Lr},pe=d.__private__.setLineWidth=d.setLineWidth=function(y){return Lr=y,H(N(P(y))+" w"),this};d.__private__.setLineDash=ee.API.setLineDash=ee.API.setLineDashPattern=function(y,k){if(y=y||[],k=k||0,isNaN(k)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(W){return N(P(W))}).join(" "),k=N(P(k)),H("["+y+"] "+k+" d"),this};var Ho=d.__private__.getLineHeight=d.getLineHeight=function(){return Et*Qa};d.__private__.getLineHeight=d.getLineHeight=function(){return Et*Qa};var Tc=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(Qa=y),this},Ja=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Qa};Tc(e.lineHeight);var hr=d.__private__.getHorizontalCoordinate=function(y){return P(y)},ys=d.__private__.getVerticalCoordinate=function(y){return D===C?y:ue[$].mediaBox.topRightY-ue[$].mediaBox.bottomLeftY-P(y)},gu=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(y){return N(hr(y))},An=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(y){return N(ys(y))},Go=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Tr(Go)},d.__private__.setStrokeColor=d.setDrawColor=function(y,k,W,J){return Go=lr({ch1:y,ch2:k,ch3:W,ch4:J,pdfColorType:"draw",precision:2}),H(Go),this};var yu=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Tr(yu)},d.__private__.setFillColor=d.setFillColor=function(y,k,W,J){return yu=lr({ch1:y,ch2:k,ch3:W,ch4:J,pdfColorType:"fill",precision:2}),H(yu),this};var va=e.textColor||"0 g",xc=d.__private__.getTextColor=d.getTextColor=function(){return Tr(va)};d.__private__.setTextColor=d.setTextColor=function(y,k,W,J){return va=lr({ch1:y,ch2:k,ch3:W,ch4:J,pdfColorType:"text",precision:3}),this};var vs=e.charSpace,Wo=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(vs||0)};d.__private__.setCharSpace=d.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vs=y,this};var Pr=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(y){var k=d.CapJoinStyles[y];if(k===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pr=k,H(k+" J"),this};var Ko=0;d.__private__.setLineJoin=d.setLineJoin=function(y){var k=d.CapJoinStyles[y];if(k===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ko=k,H(k+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(N(P(y))+" M"),this},d.GState=C1,d.setGState=function(y){(y=typeof y=="string"?ce[de[y]]:Nc(null,y)).equals(pn)||(H("/"+y.id+" gs"),pn=y)};var Nc=function(y,k){if(!y||!de[y]){var W=!1;for(var J in ce)if(ce.hasOwnProperty(J)&&ce[J].equals(k)){W=!0;break}if(W)k=ce[J];else{var ot="GS"+(Object.keys(ce).length+1).toString(10);ce[ot]=k,k.id=ot}return y&&(de[y]=k.id),Fe.publish("addGState",k),k}};d.addGState=function(y,k){return Nc(y,k),this},d.saveGraphicsState=function(){return H("q"),Je.push({key:$t,size:Et,color:va}),this},d.restoreGraphicsState=function(){H("Q");var y=Je.pop();return $t=y.key,Et=y.size,va=y.color,pn=null,this},d.setCurrentTransformationMatrix=function(y){return H(y.toString()+" cm"),this},d.comment=function(y){return H("#"+y),this};var fr=function(y,k){var W=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return W},set:function(bt){isNaN(bt)||(W=parseFloat(bt))}});var J=k||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return J},set:function(bt){isNaN(bt)||(J=parseFloat(bt))}});var ot="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ot},set:function(bt){ot=bt.toString()}}),this},Yo=function(y,k,W,J){fr.call(this,y,k),this.type="rect";var ot=W||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ot},set:function(It){isNaN(It)||(ot=parseFloat(It))}});var bt=J||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return bt},set:function(It){isNaN(It)||(bt=parseFloat(It))}}),this},_a=function(){this.page=le,this.currentPage=$,this.pages=kt.slice(0),this.pagesContext=ue.slice(0),this.x=Jt,this.y=Fn,this.matrix=Oe,this.width=Aa($),this.height=vu($),this.outputDestination=jt,this.id="",this.objectNumber=-1};_a.prototype.restore=function(){le=this.page,$=this.currentPage,ue=this.pagesContext,kt=this.pages,Jt=this.x,Fn=this.y,Oe=this.matrix,Cc($,this.width),dr($,this.height),jt=this.outputDestination};var ba=function(y,k,W,J,ot){Di.push(new _a),le=$=0,kt=[],Jt=y,Fn=k,Oe=ot,Uo([W,J])};for(var wa in d.beginFormObject=function(y,k,W,J,ot){return ba(y,k,W,J,ot),this},d.endFormObject=function(y){return function(k){if(Us[k])Di.pop().restore();else{var W=new _a,J="Xo"+(Object.keys(Ti).length+1).toString(10);W.id=J,Us[k]=J,Ti[J]=W,Fe.publish("addFormObject",W),Di.pop().restore()}}(y),this},d.doFormObject=function(y,k){var W=Ti[Us[y]];return H("q"),H(k.toString()+" cm"),H("/"+W.id+" Do"),H("Q"),this},d.getFormObject=function(y){var k=Ti[Us[y]];return{x:k.x,y:k.y,width:k.width,height:k.height,matrix:k.matrix}},d.save=function(y,k){return y=y||"generated.pdf",(k=k||{}).returnPromise=k.returnPromise||!1,k.returnPromise===!1?(Du(Ze(Rr()),y),typeof Du.unload=="function"&&ve.setTimeout&&setTimeout(Du.unload,911),this):new Promise(function(W,J){try{var ot=Du(Ze(Rr()),y);typeof Du.unload=="function"&&ve.setTimeout&&setTimeout(Du.unload,911),W(ot)}catch(bt){J(bt.message)}})},ee.API)ee.API.hasOwnProperty(wa)&&(wa==="events"&&ee.API.events.length?function(y,k){var W,J,ot;for(ot=k.length-1;ot!==-1;ot--)W=k[ot][0],J=k[ot][1],y.subscribe.apply(y,[W].concat(typeof J=="function"?[J]:J))}(Fe,ee.API.events):d[wa]=ee.API[wa]);function Aa(y){return ue[y].mediaBox.topRightX-ue[y].mediaBox.bottomLeftX}function Cc(y,k){ue[y].mediaBox.topRightX=k+ue[y].mediaBox.bottomLeftX}function vu(y){return ue[y].mediaBox.topRightY-ue[y].mediaBox.bottomLeftY}function dr(y,k){ue[y].mediaBox.topRightY=k+ue[y].mediaBox.bottomLeftY}var _s=d.getPageWidth=function(y){return Aa(y=y||$)/Se},_u=d.setPageWidth=function(y,k){Cc(y,k*Se)},Ks=d.getPageHeight=function(y){return vu(y=y||$)/Se},$o=d.setPageHeight=function(y,k){dr(y,k*Se)};return d.internal={pdfEscape:ur,getStyle:wc,getFont:Af,getFontSize:Bt,getCharSpace:Wo,getTextColor:xc,getLineHeight:Ho,getLineHeightFactor:Ja,getLineWidth:Sf,write:Vt,getHorizontalCoordinate:hr,getVerticalCoordinate:ys,getCoordinateString:gu,getVerticalCoordinateString:An,collections:{},newObject:bn,newAdditionalObject:Ki,newObjectDeferred:Bn,newObjectDeferredBegin:gi,getFilters:xr,putStream:Nr,events:Fe,scaleFactor:Se,pageSize:{getWidth:function(){return _s($)},setWidth:function(y){_u($,y)},getHeight:function(){return Ks($)},setHeight:function(y){$o($,y)}},encryptionOptions:c,encryption:Ln,getEncryptor:function(y){return c!==null?Ln.encryptor(y,0):function(k){return k}},output:Xa,getNumberOfPages:du,get pages(){return kt},out:H,f2:A,f3:L,getPageInfo:Gs,getPageInfoByObjId:mu,getCurrentPageInfo:bf,getPDFVersion:x,Point:fr,Rectangle:Yo,Matrix:he,hasHotfix:xi},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return _s($)},set:function(y){_u($,y)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Ks($)},set:function(y){$o($,y)},enumerable:!0,configurable:!0}),(function(y){for(var k=0,W=ae.length;k<W;k++){var J=hu.call(this,y[k][0],y[k][1],y[k][2],ae[k][3],!0);p===!1&&(g[J]=!0);var ot=y[k][0].split("-");bc({id:J,fontName:ot[0],fontStyle:ot[1]||""})}Fe.publish("addFonts",{fonts:xe,dictionary:Ne})}).call(d,ae),$t="F1",zo(r,n),Fe.publish("initialized"),d}Wc.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Wc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wc.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Wc.prototype.processOwnerPassword=function(e,t){return A5(w5(t).substr(0,5),e)},Wc.prototype.encryptor=function(e,t){var n=w5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return A5(n,i)}},C1.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||cn(e)!==cn(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return i===0},ee.API={events:[]},ee.version="4.1.0";var Yn=ee.API,sw=1,_c=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},R1=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var n=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},Ee=function(e){return e.toFixed(2)},fl=function(e){return e.toFixed(5)};Yn.__acroform__={};var qr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},uT=function(e){return e*sw},Na=function(e){var t=new PL,n=Kt.internal.getHeight(e)||0,i=Kt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ee(i)),Number(Ee(n))],t},FY=Yn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},BY=Yn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},UY=Yn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ni=Yn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return UY(e,t-1)},ii=Yn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return FY(e,t-1)},ri=Yn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return BY(e,t-1)},zY=Yn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=e[0],s=e[1],a=e[2],o=e[3],l={};return l.lowerLeft_X=n(r)||0,l.lowerLeft_Y=i(s+o)||0,l.upperRight_X=n(r+a)||0,l.upperRight_Y=i(s)||0,[Number(Ee(l.lowerLeft_X)),Number(Ee(l.lowerLeft_Y)),Number(Ee(l.upperRight_X)),Number(Ee(l.upperRight_Y))]},qY=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=S5(e,n),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+r+" "+Ee(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Na(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},S5=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=e.multiline?r.map(function(A){return A.split(`
`)}):r.map(function(A){return[A]});var s=n,a=Kt.internal.getHeight(e)||0;a=a<0?-a:a;var o=Kt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(A,L,P){if(A+1<r.length){var Q=L+" "+r[A+1][0];return Fm(Q,e,P).width<=o-4}return!1};s++;t:for(;s>0;){t="",s--;var u,c,p=Fm("3",e,s).height,g=e.multiline?a-s:(a-p)/2,d=g+=2,w=0,x=0,I=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Fm(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var _="",E=0,C=0;C<r.length;C++)if(r.hasOwnProperty(C)){var D=!1;if(r[C].length!==1&&I!==r[C].length-1){if((p+2)*(E+2)+2>a)continue t;_+=r[C][I],D=!0,x=C,C--}else{_=(_+=r[C][I]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var G=parseInt(C),et=l(G,_,s),M=C>=r.length-1;if(et&&!M){_+=" ",I=0;continue}if(et||M){if(M)x=G;else if(e.multiline&&(p+2)*(E+2)+2>a)continue t}else{if(!e.multiline||(p+2)*(E+2)+2>a)continue t;x=G}}for(var N="",T=w;T<=x;T++){var V=r[T];if(e.multiline){if(T===x){N+=V[I]+" ",I=(I+1)%V.length;continue}if(T===w){N+=V[V.length-1]+" ";continue}}N+=V[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,c=Fm(N,e,s).width,e.textAlign){case"right":u=o-c-2;break;case"center":u=(o-c)/2;break;default:u=2}t+=Ee(u)+" "+Ee(d)+` Td
`,t+="("+_c(N)+`) Tj
`,t+=-Ee(u)+` 0 Td
`,d=-(s+2),c=0,w=D?x:x+1,E++,_=""}break}return i.text=t,i.fontSize=s,i},Fm=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},HY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},GY=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},WY=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ha.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(HY)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sw=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new DL,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&GY(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(i,r){var s=!i;for(var a in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var o=i[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=zY(o.Rect,r)),r.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Kt.createDefaultAppearanceStream(o),cn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=qY(o);l.push({key:"AP",value:"<</N "+c+">>"}),r.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var d=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var a in d)if(d.hasOwnProperty(a)){var w=d[a];typeof w=="function"&&(w=w.call(r,o)),p+="/"+a+" "+w+" ",r.internal.acroformPlugin.xForms.indexOf(w)>=0||r.internal.acroformPlugin.xForms.push(w)}}else typeof(w=d)=="function"&&(w=w.call(r,o)),p+="/"+a+" "+w,r.internal.acroformPlugin.xForms.indexOf(w)>=0||r.internal.acroformPlugin.xForms.push(w);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:o.objId}),r.internal.out("endobj")}s&&function(x,I){for(var _ in x)if(x.hasOwnProperty(_)){var E=_,C=x[_];I.internal.newObjectDeferredBegin(C.objId,!0),cn(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete x[E]}}(r.internal.acroformPlugin.xForms,r)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},LL=Yn.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(a){return a};if(Array.isArray(e)){for(var r="[",s=0;s<e.length;s++)switch(s!==0&&(r+=" "),cn(e[s])){case"boolean":case"number":case"object":r+=e[s].toString();break;case"string":e[s].substr(0,1)==="/"?r+="/"+R1(e[s].substr(1)):(t!==void 0&&n&&(i=n.internal.getEncryptor(t)),r+="("+_c(i(e[s].toString()))+")")}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},py=function(e,t,n){var i=function(r){return r};return t!==void 0&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+_c(i(e))+")"},ka=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ka.prototype.toString=function(){return this.objId+" 0 R"},ka.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ka.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var i=t[n],r=this[i];r&&(Array.isArray(r)?e.push({key:i,value:LL(r,this.objId,this.scope)}):r instanceof ka?(r.scope=this.scope,e.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&e.push({key:i,value:r}))}return e};var PL=function(){ka.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};qr(PL,ka);var DL=function(){ka.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+_c(n(e))+")"}},set:function(n){e=n}})};qr(DL,ka);var ha=function e(){ka.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ni(t,3)},set:function(_){_?this.F=ii(t,3):this.F=ri(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(_){i=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(_){i[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(_){i[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(_){i[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(_){i[3]=_}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof I1)return;s="FieldObject"+e.FieldNum++}var _=function(E){return E};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+_c(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/sw:u},set:function(_){u=_}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof I1||this instanceof Wu))return py(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=_}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ii==0?py(g,this.objId,this.scope):g},set:function(_){_=_.toString(),g=this instanceof Ii==0?_.substr(0,1)==="("?Mc(_.substr(1,_.length-2)):Mc(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ii==1?Mc(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof Ii==1?"/"+R1(_):_}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ii==0?py(d,this.objId,this.scope):d},set:function(_){_=_.toString(),d=this instanceof Ii==0?_.substr(0,1)==="("?Mc(_.substr(1,_.length-2)):Mc(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ii==1?Mc(d.substr(1,d.length-1)):d},set:function(_){_=_.toString(),d=this instanceof Ii==1?"/"+R1(_):_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(_){_=!!_,x=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(_){w=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,1)},set:function(_){_?this.Ff=ii(this.Ff,1):this.Ff=ri(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,2)},set:function(_){_?this.Ff=ii(this.Ff,2):this.Ff=ri(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,3)},set:function(_){_?this.Ff=ii(this.Ff,3):this.Ff=ri(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');I=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(I){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};qr(ha,ka);var Nh=function(){ha.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return LL(t,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,18)},set:function(n){n?this.Ff=ii(this.Ff,18):this.Ff=ri(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ii(this.Ff,19):this.Ff=ri(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,20)},set:function(n){n?(this.Ff=ii(this.Ff,20),t.sort()):this.Ff=ri(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,22)},set:function(n){n?this.Ff=ii(this.Ff,22):this.Ff=ri(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,23)},set:function(n){n?this.Ff=ii(this.Ff,23):this.Ff=ri(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,27)},set:function(n){n?this.Ff=ii(this.Ff,27):this.Ff=ri(this.Ff,27)}}),this.hasAppearanceStream=!1};qr(Nh,ha);var Ch=function(){Nh.call(this),this.fontName="helvetica",this.combo=!1};qr(Ch,Nh);var Rh=function(){Ch.call(this),this.combo=!0};qr(Rh,Ch);var bg=function(){Rh.call(this),this.edit=!0};qr(bg,Rh);var Ii=function(){ha.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,15)},set:function(n){n?this.Ff=ii(this.Ff,15):this.Ff=ri(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,16)},set:function(n){n?this.Ff=ii(this.Ff,16):this.Ff=ri(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,17)},set:function(n){n?this.Ff=ii(this.Ff,17):this.Ff=ri(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,26)},set:function(n){n?this.Ff=ii(this.Ff,26):this.Ff=ri(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+_c(n(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){cn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+R1(n)}})};qr(Ii,ha);var wg=function(){Ii.call(this),this.pushButton=!0};qr(wg,Ii);var Ih=function(){Ii.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};qr(Ih,Ii);var I1=function(){var e,t;ha.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),i)a.push("/"+s+" ("+_c(r(i[s]))+")");return a.push(">>"),a.join(`
`)},set:function(r){cn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qr(I1,ha),Ih.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Ih.prototype.createOption=function(e){var t=new I1;return t.Parent=this,t.optionName=e,this.Kids.push(t),KY.call(this.scope,t),t};var Ag=function(){Ii.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Kt.CheckBox.createAppearanceStream()};qr(Ag,Ii);var Wu=function(){ha.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,13)},set:function(t){t?this.Ff=ii(this.Ff,13):this.Ff=ri(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,21)},set:function(t){t?this.Ff=ii(this.Ff,21):this.Ff=ri(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,23)},set:function(t){t?this.Ff=ii(this.Ff,23):this.Ff=ri(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,24)},set:function(t){t?this.Ff=ii(this.Ff,24):this.Ff=ri(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,25)},set:function(t){t?this.Ff=ii(this.Ff,25):this.Ff=ri(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,26)},set:function(t){t?this.Ff=ii(this.Ff,26):this.Ff=ri(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qr(Wu,ha);var Sg=function(){Wu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,14)},set:function(e){e?this.Ff=ii(this.Ff,14):this.Ff=ri(this.Ff,14)}}),this.password=!0};qr(Sg,Wu);var Kt={CheckBox:{createAppearanceStream:function(){return{N:{On:Kt.CheckBox.YesNormal},D:{On:Kt.CheckBox.YesPushDown,Off:Kt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Na(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=S5(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Ee(Kt.internal.getWidth(e))+" "+Ee(Kt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Ee(s.fontSize)+" Tf "+r),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Na(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),r=[],s=Kt.internal.getHeight(e),a=Kt.internal.getWidth(e),o=S5(e,e.caption);return r.push("1 g"),r.push("0 0 "+Ee(a)+" "+Ee(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Ee(a-1)+" "+Ee(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+Ee(o.fontSize)+" Tf "+i),r.push(o.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Na(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ee(Kt.internal.getWidth(e))+" "+Ee(Kt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Kt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Kt.RadioButton.Circle.YesNormal,t.D[e]=Kt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Na(e);t.scope=e.scope;var n=[],i=Kt.internal.getWidth(e)<=Kt.internal.getHeight(e)?Kt.internal.getWidth(e)/4:Kt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Kt.internal.Bezier_C,s=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+fl(Kt.internal.getWidth(e)/2)+" "+fl(Kt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Na(e);t.scope=e.scope;var n=[],i=Kt.internal.getWidth(e)<=Kt.internal.getHeight(e)?Kt.internal.getWidth(e)/4:Kt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*Kt.internal.Bezier_C).toFixed(5)),a=Number((i*Kt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+fl(Kt.internal.getWidth(e)/2)+" "+fl(Kt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+fl(Kt.internal.getWidth(e)/2)+" "+fl(Kt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Na(e);t.scope=e.scope;var n=[],i=Kt.internal.getWidth(e)<=Kt.internal.getHeight(e)?Kt.internal.getWidth(e)/4:Kt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*Kt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+fl(Kt.internal.getWidth(e)/2)+" "+fl(Kt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Kt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Kt.RadioButton.Cross.YesNormal,t.D[e]=Kt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Na(e);t.scope=e.scope;var n=[],i=Kt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Ee(Kt.internal.getWidth(e)-2)+" "+Ee(Kt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ee(i.x1.x)+" "+Ee(i.x1.y)+" m"),n.push(Ee(i.x2.x)+" "+Ee(i.x2.y)+" l"),n.push(Ee(i.x4.x)+" "+Ee(i.x4.y)+" m"),n.push(Ee(i.x3.x)+" "+Ee(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Na(e);t.scope=e.scope;var n=Kt.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+Ee(Kt.internal.getWidth(e))+" "+Ee(Kt.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Ee(Kt.internal.getWidth(e)-2)+" "+Ee(Kt.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(Ee(n.x1.x)+" "+Ee(n.x1.y)+" m"),i.push(Ee(n.x2.x)+" "+Ee(n.x2.y)+" l"),i.push(Ee(n.x4.x)+" "+Ee(n.x4.y)+" m"),i.push(Ee(n.x3.x)+" "+Ee(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Na(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ee(Kt.internal.getWidth(e))+" "+Ee(Kt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Kt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Kt.internal.getWidth(e),n=Kt.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},Kt.internal.getWidth=function(e){var t=0;return cn(e)==="object"&&(t=uT(e.Rect[2])),t},Kt.internal.getHeight=function(e){var t=0;return cn(e)==="object"&&(t=uT(e.Rect[3])),t};var KY=Yn.addField=function(e){if(WY(this,e),!(e instanceof ha))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Yn.AcroFormChoiceField=Nh,Yn.AcroFormListBox=Ch,Yn.AcroFormComboBox=Rh,Yn.AcroFormEditBox=bg,Yn.AcroFormButton=Ii,Yn.AcroFormPushButton=wg,Yn.AcroFormRadioButton=Ih,Yn.AcroFormCheckBox=Ag,Yn.AcroFormTextField=Wu,Yn.AcroFormPasswordField=Sg,Yn.AcroFormAppearance=Kt,Yn.AcroForm={ChoiceField:Nh,ListBox:Ch,ComboBox:Rh,EditBox:bg,Button:Ii,PushButton:wg,RadioButton:Ih,CheckBox:Ag,TextField:Wu,PasswordField:Sg,Appearance:Kt},ee.AcroForm={ChoiceField:Nh,ListBox:Ch,ComboBox:Rh,EditBox:bg,Button:Ii,PushButton:wg,RadioButton:Ih,CheckBox:Ag,TextField:Wu,PasswordField:Sg,Appearance:Kt};ee.AcroForm;function kL(e){return e.reduce(function(t,n,i){return t[n]=i,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(A,L){var P,Q,pt,it,at,Z=n;if((L=L||n)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(et(A))for(at in i)for(pt=i[at],P=0;P<pt.length;P+=1){for(it=!0,Q=0;Q<pt[P].length;Q+=1)if(pt[P][Q]!==void 0&&pt[P][Q]!==A[Q]){it=!1;break}if(it===!0){Z=at;break}}else for(at in i)for(pt=i[at],P=0;P<pt.length;P+=1){for(it=!0,Q=0;Q<pt[P].length;Q+=1)if(pt[P][Q]!==void 0&&pt[P][Q]!==A.charCodeAt(Q)){it=!1;break}if(it===!0){Z=at;break}}return Z===n&&L!==n&&(Z=L),Z},s=function A(L){for(var P=this.internal.write,Q=this.internal.putStream,pt=(0,this.internal.getFilters)();pt.indexOf("FlateEncode")!==-1;)pt.splice(pt.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var it=[];if(it.push({key:"Type",value:"/XObject"}),it.push({key:"Subtype",value:"/Image"}),it.push({key:"Width",value:L.width}),it.push({key:"Height",value:L.height}),L.colorSpace===_.INDEXED?it.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(it.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===_.DEVICE_CMYK&&it.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),it.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&it.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var at="",Z=0,ft=L.transparency.length;Z<ft;Z++)at+=L.transparency[Z]+" "+L.transparency[Z]+" ";it.push({key:"Mask",value:"["+at+"]"})}L.sMask!==void 0&&it.push({key:"SMask",value:L.objectId+1+" 0 R"});var Nt=L.filter!==void 0?["/"+L.filter]:void 0;if(Q({data:L.data,additionalKeyValues:it,alreadyAppliedFilters:Nt,objectId:L.objectId}),P("endobj"),"sMask"in L&&L.sMask!==void 0){var Tt,F=(Tt=L.sMaskBitsPerComponent)!==null&&Tt!==void 0?Tt:L.bitsPerComponent,$={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:L.sMask};"filter"in L&&($.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(L.width),$.filter=L.filter),A.call(this,$)}if(L.colorSpace===_.INDEXED){var X=this.internal.newObject();Q({data:N(new Uint8Array(L.palette)),objectId:X}),P("endobj")}},a=function(){var A=this.internal.collections[t+"images"];for(var L in A)s.call(this,A[L])},o=function(){var A,L=this.internal.collections[t+"images"],P=this.internal.write;for(var Q in L)P("/I"+(A=L[Q]).index,A.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var A=this.internal.collections[t+"images"];return l.call(this),A},c=function(){return Object.keys(this.internal.collections[t+"images"]).length},p=function(A){return typeof e["process"+A.toUpperCase()]=="function"},g=function(A){return cn(A)==="object"&&A.nodeType===1},d=function(A,L){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var P=""+A.getAttribute("src");if(P.indexOf("data:image/")===0)return _g(unescape(P).split("base64,").pop());var Q=e.loadFile(P,!0);if(Q!==void 0)return Q}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var pt;switch(L){case"PNG":pt="image/png";break;case"WEBP":pt="image/webp";break;default:pt="image/jpeg"}return _g(A.toDataURL(pt,1).split("base64,").pop())}},w=function(A){var L=this.internal.collections[t+"images"];if(L){for(var P in L)if(A===L[P].alias)return L[P]}},x=function(A,L,P){return A||L||(A=-96,L=-96),A<0&&(A=-1*P.width*72/A/this.internal.scaleFactor),L<0&&(L=-1*P.height*72/L/this.internal.scaleFactor),A===0&&(A=L*P.width/P.height),L===0&&(L=A*P.height/P.width),[A,L]},I=function(A,L,P,Q,pt,it){var at=x.call(this,P,Q,pt),Z=this.internal.getCoordinateString,ft=this.internal.getVerticalCoordinateString,Nt=u.call(this);if(P=at[0],Q=at[1],Nt[pt.index]=pt,it){it*=Math.PI/180;var Tt=Math.cos(it),F=Math.sin(it),$=function(tt){return tt.toFixed(4)},X=[$(Tt),$(F),$(-1*F),$(Tt),0,0,"cm"]}this.internal.write("q"),it?(this.internal.write([1,"0","0",1,Z(A),ft(L+Q),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([Z(P),"0","0",Z(Q),"0","0","cm"].join(" "))):this.internal.write([Z(P),"0","0",Z(Q),Z(A),ft(L+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pt.index+" Do"),this.internal.write("Q")},_=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(A){var L,P,Q=0;if(typeof A=="string")for(P=A.length,L=0;L<P;L++)Q=(Q<<5)-Q+A.charCodeAt(L),Q|=0;else if(et(A))for(P=A.byteLength/2,L=0;L<P;L++)Q=(Q<<5)-Q+A[L],Q|=0;return Q},D=e.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var L=!0;return A.length===0&&(L=!1),A.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(L=!1),L},G=e.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var L=A.indexOf(",");return L<0?null:A.substring(0,L).trim().endsWith("base64")?A.substring(L+1):null};e.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var et=e.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},M=e.__addimage__.binaryStringToUint8Array=function(A){for(var L=A.length,P=new Uint8Array(L),Q=0;Q<L;Q++)P[Q]=A.charCodeAt(Q);return P},N=e.__addimage__.arrayBufferToBinaryString=function(A){for(var L="",P=et(A)?A:new Uint8Array(A),Q=0;Q<P.length;Q+=8192)L+=String.fromCharCode.apply(null,P.subarray(Q,Q+8192));return L};e.addImage=function(){var A,L,P,Q,pt,it,at,Z,ft;if(typeof arguments[1]=="number"?(L=n,P=arguments[1],Q=arguments[2],pt=arguments[3],it=arguments[4],at=arguments[5],Z=arguments[6],ft=arguments[7]):(L=arguments[1],P=arguments[2],Q=arguments[3],pt=arguments[4],it=arguments[5],at=arguments[6],Z=arguments[7],ft=arguments[8]),cn(A=arguments[0])==="object"&&!g(A)&&"imageData"in A){var Nt=A;A=Nt.imageData,L=Nt.format||L||n,P=Nt.x||P||0,Q=Nt.y||Q||0,pt=Nt.w||Nt.width||pt,it=Nt.h||Nt.height||it,at=Nt.alias||at,Z=Nt.compression||Z,ft=Nt.rotation||Nt.angle||ft}var Tt=this.internal.getFilters();if(Z===void 0&&Tt.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(P)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=T.call(this,A,L,at,Z);return I.call(this,P,Q,pt,it,F,ft),this};var T=function(A,L,P,Q){var pt,it,at;if(typeof A=="string"&&r(A)===n){A=unescape(A);var Z=V(A,!1);(Z!==""||(Z=e.loadFile(A,!0))!==void 0)&&(A=Z)}if(g(A)&&(A=d(A,L)),L=r(A,L),!p(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((at=P)==null||at.length===0)&&(P=function(ft){return typeof ft=="string"||et(ft)?C(ft):et(ft.data)?C(ft.data):null}(A)),(pt=w.call(this,P))||(A instanceof Uint8Array||L==="RGBA"||(it=A,A=M(A)),pt=this["process"+L.toUpperCase()](A,c.call(this),P,function(ft){return ft&&typeof ft=="string"&&(ft=ft.toUpperCase()),ft in e.image_compression?ft:E.NONE}(Q),it)),!pt)throw new Error("An unknown error occurred whilst processing the image.");return pt},V=e.__addimage__.convertBase64ToBinaryString=function(A,L){L=typeof L!="boolean"||L;var P,Q="";if(typeof A=="string"){var pt;P=(pt=G(A))!==null&&pt!==void 0?pt:A;try{Q=_g(P)}catch(it){if(L)throw D(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+it.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Q};e.getImageProperties=function(A){var L,P,Q="";if(g(A)&&(A=d(A)),typeof A=="string"&&r(A)===n&&((Q=V(A,!1))===""&&(Q=e.loadFile(A)||""),A=Q),P=r(A),!p(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(A instanceof Uint8Array||(A=M(A)),!(L=this["process"+P.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=P,L}})(ee.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};ee.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var i,r,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,p=0;p<u.length&&!c;p++)switch((i=u[p]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){i=u[g];var d=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(x.objId),E=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y)+"] ")+"/Contents ("+d(_(i.contents))+")",s+=" /Popup "+I.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+d(_(E))+") >>",x.content=s;var C=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(i.bounds.x+30)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+o(i.bounds.y)+"] ")+" /Parent "+C,i.open&&(s+=" /Open true"),s+=" >>",I.content=s,this.internal.write(x.objId,"0 R",I.objId,"0 R");break;case"freetext":r="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y+i.bounds.h)+"] ";var D=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+d(w(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var G=this.annotations._nameMap[i.options.name];i.options.pageNumber=G.page,i.options.top=G.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+d(w(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var et=o(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+et+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},e.link=function(n,i,r,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:u(i),w:l(n+r),h:u(i+s)},options:a,type:"link"})},e.textWithLink=function(n,i,r,s){var a,o,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var c=this.splitTextToSize(n,o).length;a=Math.ceil(u*c)}else o=l,a=u;return this.text(n,i,r,s),r+=.2*u,s.align==="center"&&(i-=l/2),s.align==="right"&&(i-=l),this.link(i,r-u,o,a,s),l},e.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(ee.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=e.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&s(x)&&t[x.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&r.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&s(x)&&t[x.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&s(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&s(x)&&t[x.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&s(x)&&t[x.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(x){var I=0,_=n,E="",C=0;for(I=0;I<x.length;I+=1)_[x.charCodeAt(I)]!==void 0?(C++,typeof(_=_[x.charCodeAt(I)])=="number"&&(E+=String.fromCharCode(_),_=n,C=0),I===x.length-1&&(_=n,E+=x.charAt(I-(C-1)),I-=C-1,C=0)):(_=n,E+=x.charAt(I-C),I-=C,C=0);return E};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&i[x.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(x,I,_){return a(x)?s(x)===!1?-1:!u(x)||!a(I)&&!a(_)||!a(_)&&o(I)||o(x)&&!a(I)||o(x)&&l(I)||o(x)&&o(I)?0:c(x)&&a(I)&&!o(I)&&a(_)&&u(_)?3:o(x)||!a(_)?1:2:-1},d=function(x){var I=0,_=0,E=0,C="",D="",G="",et=(x=x||"").split("\\s+"),M=[];for(I=0;I<et.length;I+=1){for(M.push(""),_=0;_<et[I].length;_+=1)C=et[I][_],D=et[I][_-1],G=et[I][_+1],a(C)?(E=g(C,D,G),M[I]+=E!==-1?String.fromCharCode(t[C.charCodeAt(0)][E]):C):M[I]+=C;M[I]=p(M[I])}return M.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var x,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(I)){var E=0;for(_=[],E=0;E<I.length;E+=1)Array.isArray(I[E])?_.push([d(I[E][0]),I[E][1],I[E][2]]):_.push([d(I[E])]);x=_}else x=d(I);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",w])}(ee.API),ee.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ee.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(x){w=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){i.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,d=0,w=0,x=0,I=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=u.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(C,D){return C.concat(I.splitTextToSize(D,_))},[])):l=Array.isArray(l)?l:[l];for(var E=0;E<l.length;E++)d<(x=this.getStringUnitWidth(l[E],{font:p})*c)&&(d=x);return d!==0&&(w=l.length),{w:d/=g,h:Math.max((w*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,d&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,c,p,g){if(i.call(this),!c)throw new Error("No data for PDF table.");var d,w,x,I,_=[],E=[],C=[],D={},G={},et=[],M=[],N=(g=g||{}).autoSize||!1,T=g.printHeaders!==!1,V=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,A=g.margins||Object.assign({width:this.getPageWidth()},t),L=typeof g.padding=="number"?g.padding:3,P=g.headerBackgroundColor||"#c8c8c8",Q=g.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=Q,this.setFontSize(V),p==null)E=_=Object.keys(c[0]),C=_.map(function(){return"left"});else if(Array.isArray(p)&&cn(p[0])==="object")for(_=p.map(function(Nt){return Nt.name}),E=p.map(function(Nt){return Nt.prompt||Nt.name||""}),C=p.map(function(Nt){return Nt.align||"left"}),d=0;d<p.length;d+=1)G[p[d].name]=.7499990551181103*p[d].width;else Array.isArray(p)&&typeof p[0]=="string"&&(E=_=p,C=_.map(function(){return"left"}));if(N||Array.isArray(p)&&typeof p[0]=="string")for(d=0;d<_.length;d+=1){for(D[I=_[d]]=c.map(function(Nt){return Nt[I]}),this.setFont(void 0,"bold"),et.push(this.getTextDimensions(E[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=D[I],this.setFont(void 0,"normal"),x=0;x<w.length;x+=1)et.push(this.getTextDimensions(w[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);G[I]=Math.max.apply(null,et)+L+L,et=[]}if(T){var pt={};for(d=0;d<_.length;d+=1)pt[_[d]]={},pt[_[d]].text=E[d],pt[_[d]].align=C[d];var it=o.call(this,pt,G);M=_.map(function(Nt){return new s(l,u,G[Nt],it,pt[Nt].text,void 0,pt[Nt].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var at=p.reduce(function(Nt,Tt){return Nt[Tt.name]=Tt.align,Nt},{});for(d=0;d<c.length;d+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:d,data:c[d]},this);var Z=o.call(this,c[d],G);for(x=0;x<_.length;x+=1){var ft=c[d][_[x]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:d,col:x,data:ft},this),a.call(this,new s(l,u,G[_[x]],Z,ft,d+2,at[_[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var c=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(d){var w=l[d];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,u[d]-c-c)},this).map(function(d){return this.getLineHeightFactor()*d.length*p/g+c+c},this).reduce(function(d,w){return Math.max(d,w)},0)};e.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){c=this.internal.__cell__.tableHeaderRow[d].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,g.push(c)),c.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,c),this.setTextColor(w)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(ee.API);var OL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ML=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],E5=kL(ML),VL=[100,200,300,400,500,600,700,800,900],YY=kL(VL);function my(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return OL[s=s||"normal"]?s:"normal"}(e.style),i=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),r=function(s){return typeof E5[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:i,stretch:r,src:e.src||[],ref:e.ref||{name:t,style:[r,n,i].join(" ")}}}function cT(e,t,n,i){var r;for(r=n;r>=0&&r<t.length;r+=i)if(e[t[r]])return e[t[r]];for(r=n;r>=0&&r<t.length;r-=i)if(e[t[r]])return e[t[r]]}var $Y={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function fT(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function dT(e){return e.trimLeft()}function XY(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function QY(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Vc,Bm,pT,mT,gT,gy=["times"];function yT(e,t,n,i,r){var s=4,a=_T;switch(r){case ee.API.image_compression.FAST:s=1,a=vT;break;case ee.API.image_compression.MEDIUM:s=6,a=bT;break;case ee.API.image_compression.SLOW:s=9,a=wT}e=function(l,u,c,p){for(var g,d=l.length/u,w=new Uint8Array(l.length+d),x=[JY,vT,_T,bT,wT],I=0;I<d;I+=1){var _=I*u,E=l.subarray(_,_+u);if(p)w.set(p(E,c,g),_+I);else{for(var C=x.length,D=[],G=0;G<C;G+=1)D[G]=x[G](E,c,g);var et=t$(D.concat());w.set(D[et],_+I)}g=E}return w}(e,t,Math.ceil(n*i/8),a);var o=y5(e,{level:s});return ee.API.__addimage__.arrayBufferToBinaryString(o)}function JY(e){var t=Array.apply([],e);return t.unshift(0),t}function vT(e,t){var n=e.length,i=[];i[0]=1;for(var r=0;r<n;r+=1){var s=e[r-t]||0;i[r+1]=e[r]-s+256&255}return i}function _T(e,t,n){var i=e.length,r=[];r[0]=2;for(var s=0;s<i;s+=1){var a=n&&n[s]||0;r[s+1]=e[s]-a+256&255}return r}function bT(e,t,n){var i=e.length,r=[];r[0]=3;for(var s=0;s<i;s+=1){var a=e[s-t]||0,o=n&&n[s]||0;r[s+1]=e[s]+256-(a+o>>>1)&255}return r}function wT(e,t,n){var i=e.length,r=[];r[0]=4;for(var s=0;s<i;s+=1){var a=ZY(e[s-t]||0,n&&n[s]||0,n&&n[s-t]||0);r[s+1]=e[s]-a+256&255}return r}function ZY(e,t,n){if(e===t&&t===n)return e;var i=Math.abs(t-n),r=Math.abs(e-n),s=Math.abs(e+t-n-n);return i<=r&&i<=s?e:r<=s?t:n}function t$(e){var t=e.map(function(n){return n.reduce(function(i,r){return i+Math.abs(r)},0)});return t.indexOf(Math.min.apply(null,t))}function yy(e,t,n){var i=t*n,r=Math.floor(i/8),s=16-(i-8*r+n),a=(1<<n)-1;return jL(e,r)>>s&a}function AT(e,t,n,i){var r=n*i,s=Math.floor(r/8),a=16-(r-8*s+i),o=(1<<i)-1,l=(t&o)<<a;(function(u,c,p){if(c+1<u.byteLength)u.setUint16(c,p,!1);else{var g=p>>8&255;u.setUint8(c,g)}})(e,s,jL(e,s)&~(o<<a)&65535|l)}function jL(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function e$(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,r=e[t++],s=r>>7,a=1<<1+(7&r);e[t++],e[t++];var o=null,l=null;s&&(o=t,l=a,t+=3*a);var u=!0,c=[],p=0,g=null,d=0,w=null;for(this.width=n,this.height=i;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];p=e[t++]|e[t++]<<8,g=e[t++],1&x||(g=null),d=x>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var I=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,D=e[t++],G=D>>6&1,et=1<<1+(7&D),M=o,N=l,T=!1;D>>7&&(T=!0,M=t,N=et,t+=3*et);var V=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}c.push({x:I,y:_,width:E,height:C,has_local_palette:T,palette_offset:M,palette_size:N,data_offset:V,data_length:t-V,transparent_index:g,interlaced:!!G,delay:p,disposal:d});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return w},this.frameInfo=function(L){if(L<0||L>=c.length)throw new Error("Frame index out of range.");return c[L]},this.decodeAndBlitFrameBGRA=function(L,P){var Q=this.frameInfo(L),pt=Q.width*Q.height,it=new Uint8Array(pt);ST(e,Q.data_offset,it,pt);var at=Q.palette_offset,Z=Q.transparent_index;Z===null&&(Z=256);var ft=Q.width,Nt=n-ft,Tt=ft,F=4*(Q.y*n+Q.x),$=4*((Q.y+Q.height)*n+Q.x),X=F,tt=4*Nt;Q.interlaced===!0&&(tt+=4*n*7);for(var st=8,ct=0,gt=it.length;ct<gt;++ct){var vt=it[ct];if(Tt===0&&(Tt=ft,(X+=tt)>=$&&(tt=4*Nt+4*n*(st-1),X=F+(ft+Nt)*(st<<1),st>>=1)),vt===Z)X+=4;else{var St=e[at+3*vt],kt=e[at+3*vt+1],Ft=e[at+3*vt+2];P[X++]=Ft,P[X++]=kt,P[X++]=St,P[X++]=255}--Tt}},this.decodeAndBlitFrameRGBA=function(L,P){var Q=this.frameInfo(L),pt=Q.width*Q.height,it=new Uint8Array(pt);ST(e,Q.data_offset,it,pt);var at=Q.palette_offset,Z=Q.transparent_index;Z===null&&(Z=256);var ft=Q.width,Nt=n-ft,Tt=ft,F=4*(Q.y*n+Q.x),$=4*((Q.y+Q.height)*n+Q.x),X=F,tt=4*Nt;Q.interlaced===!0&&(tt+=4*n*7);for(var st=8,ct=0,gt=it.length;ct<gt;++ct){var vt=it[ct];if(Tt===0&&(Tt=ft,(X+=tt)>=$&&(tt=4*Nt+4*n*(st-1),X=F+(ft+Nt)*(st<<1),st>>=1)),vt===Z)X+=4;else{var St=e[at+3*vt],kt=e[at+3*vt+1],Ft=e[at+3*vt+2];P[X++]=St,P[X++]=kt,P[X++]=Ft,P[X++]=255}--Tt}}}function ST(e,t,n,i){for(var r=e[t++],s=1<<r,a=s+1,o=a+1,l=r+1,u=(1<<l)-1,c=0,p=0,g=0,d=e[t++],w=new Int32Array(4096),x=null;;){for(;c<16&&d!==0;)p|=e[t++]<<c,c+=8,d===1?d=e[t++]:--d;if(c<l)break;var I=p&u;if(p>>=l,c-=l,I!==s){if(I===a)break;for(var _=I<o?I:x,E=0,C=_;C>s;)C=w[C]>>8,++E;var D=C;if(g+E+(_!==I?1:0)>i)return void vn.log("Warning, gif stream longer than expected.");n[g++]=D;var G=g+=E;for(_!==I&&(n[g++]=D),C=_;E--;)C=w[C],n[--G]=255&C,C>>=8;x!==null&&o<4096&&(w[o++]=x<<8|D,o>=u+1&&l<12&&(++l,u=u<<1|1)),x=I}else o=a+1,u=(1<<(l=r+1))-1,x=null}return g!==i&&vn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function vy(e){var t,n,i,r,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),p=new Array(65535),g=new Array(65535),d=new Array(64),w=new Array(64),x=[],I=0,_=7,E=new Array(64),C=new Array(64),D=new Array(64),G=new Array(256),et=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function it(F,$){for(var X=0,tt=0,st=new Array,ct=1;ct<=16;ct++){for(var gt=1;gt<=F[ct];gt++)st[$[tt]]=[],st[$[tt]][0]=X,st[$[tt]][1]=ct,tt++,X++;X*=2}return st}function at(F){for(var $=F[0],X=F[1]-1;X>=0;)$&1<<X&&(I|=1<<_),X--,--_<0&&(I==255?(Z(255),Z(0)):Z(I),_=7,I=0)}function Z(F){x.push(F)}function ft(F){Z(F>>8&255),Z(255&F)}function Nt(F,$,X,tt,st){for(var ct,gt=st[0],vt=st[240],St=function(Et,qt){var Bt,oe,ne,Qe,Ie,_e,Me,ke,$t,Se,Jt=0;for($t=0;$t<8;++$t){Bt=Et[Jt],oe=Et[Jt+1],ne=Et[Jt+2],Qe=Et[Jt+3],Ie=Et[Jt+4],_e=Et[Jt+5],Me=Et[Jt+6];var Fn=Bt+(ke=Et[Jt+7]),Oe=Bt-ke,xe=oe+Me,Ne=oe-Me,Je=ne+_e,ie=ne-_e,tn=Qe+Ie,ce=Qe-Ie,de=Fn+tn,pn=Fn-tn,le=xe+Je,ue=xe-Je;Et[Jt]=de+le,Et[Jt+4]=de-le;var Fe=.707106781*(ue+pn);Et[Jt+2]=pn+Fe,Et[Jt+6]=pn-Fe;var Hr=.382683433*((de=ce+ie)-(ue=Ne+Oe)),Ti=.5411961*de+Hr,Us=1.306562965*ue+Hr,Di=.707106781*(le=ie+Ne),he=Oe+Di,zs=Oe-Di;Et[Jt+5]=zs+Ti,Et[Jt+3]=zs-Ti,Et[Jt+1]=he+Us,Et[Jt+7]=he-Us,Jt+=8}for(Jt=0,$t=0;$t<8;++$t){Bt=Et[Jt],oe=Et[Jt+8],ne=Et[Jt+16],Qe=Et[Jt+24],Ie=Et[Jt+32],_e=Et[Jt+40],Me=Et[Jt+48];var Sr=Bt+(ke=Et[Jt+56]),ar=Bt-ke,or=oe+Me,bn=oe-Me,Bn=ne+_e,gi=ne-_e,Ki=Qe+Ie,qs=Qe-Ie,Er=Sr+Ki,Tr=Sr-Ki,lr=or+Bn,xr=or-Bn;Et[Jt]=Er+lr,Et[Jt+32]=Er-lr;var Nr=.707106781*(xr+Tr);Et[Jt+16]=Tr+Nr,Et[Jt+48]=Tr-Nr;var da=.382683433*((Er=qs+gi)-(xr=bn+ar)),fs=.5411961*Er+da,ds=1.306562965*xr+da,Ka=.707106781*(lr=gi+bn),pa=ar+Ka,ps=ar-Ka;Et[Jt+40]=ps+fs,Et[Jt+24]=ps-fs,Et[Jt+8]=pa+ds,Et[Jt+56]=pa-ds,Jt++}for($t=0;$t<64;++$t)Se=Et[$t]*qt[$t],d[$t]=Se>0?Se+.5|0:Se-.5|0;return d}(F,$),kt=0;kt<64;++kt)w[M[kt]]=St[kt];var Ft=w[0]-X;X=w[0],Ft==0?at(tt[0]):(at(tt[g[ct=32767+Ft]]),at(p[ct]));for(var jt=63;jt>0&&w[jt]==0;)jt--;if(jt==0)return at(gt),X;for(var Zt,H=1;H<=jt;){for(var Vt=H;w[H]==0&&H<=jt;)++H;var Ae=H-Vt;if(Ae>=16){Zt=Ae>>4;for(var ae=1;ae<=Zt;++ae)at(vt);Ae&=15}ct=32767+w[H],at(st[(Ae<<4)+g[ct]]),at(p[ct]),H++}return jt!=63&&at(gt),X}function Tt(F){F=Math.min(Math.max(F,1),100),s!=F&&(function($){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],tt=0;tt<64;tt++){var st=a((X[tt]*$+50)/100);st=Math.min(Math.max(st,1),255),o[M[tt]]=st}for(var ct=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],gt=0;gt<64;gt++){var vt=a((ct[gt]*$+50)/100);vt=Math.min(Math.max(vt,1),255),l[M[gt]]=vt}for(var St=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],kt=0,Ft=0;Ft<8;Ft++)for(var jt=0;jt<8;jt++)u[kt]=1/(o[M[kt]]*St[Ft]*St[jt]*8),c[kt]=1/(l[M[kt]]*St[Ft]*St[jt]*8),kt++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,$){$&&Tt($),x=new Array,I=0,_=7,ft(65496),ft(65504),ft(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),ft(1),ft(1),Z(0),Z(0),function(){ft(65499),ft(132),Z(0);for(var oe=0;oe<64;oe++)Z(o[oe]);Z(1);for(var ne=0;ne<64;ne++)Z(l[ne])}(),function(oe,ne){ft(65472),ft(17),Z(8),ft(ne),ft(oe),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(F.width,F.height),function(){ft(65476),ft(418),Z(0);for(var oe=0;oe<16;oe++)Z(N[oe+1]);for(var ne=0;ne<=11;ne++)Z(T[ne]);Z(16);for(var Qe=0;Qe<16;Qe++)Z(V[Qe+1]);for(var Ie=0;Ie<=161;Ie++)Z(A[Ie]);Z(1);for(var _e=0;_e<16;_e++)Z(L[_e+1]);for(var Me=0;Me<=11;Me++)Z(P[Me]);Z(17);for(var ke=0;ke<16;ke++)Z(Q[ke+1]);for(var $t=0;$t<=161;$t++)Z(pt[$t])}(),ft(65498),ft(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var X=0,tt=0,st=0;I=0,_=7,this.encode.displayName="_encode_";for(var ct,gt,vt,St,kt,Ft,jt,Zt,H,Vt=F.data,Ae=F.width,ae=F.height,Et=4*Ae,qt=0;qt<ae;){for(ct=0;ct<Et;){for(kt=Et*qt+ct,jt=-1,Zt=0,H=0;H<64;H++)Ft=kt+(Zt=H>>3)*Et+(jt=4*(7&H)),qt+Zt>=ae&&(Ft-=Et*(qt+1+Zt-ae)),ct+jt>=Et&&(Ft-=ct+jt-Et+4),gt=Vt[Ft++],vt=Vt[Ft++],St=Vt[Ft++],E[H]=(et[gt]+et[vt+256|0]+et[St+512|0]>>16)-128,C[H]=(et[gt+768|0]+et[vt+1024|0]+et[St+1280|0]>>16)-128,D[H]=(et[gt+1280|0]+et[vt+1536|0]+et[St+1792|0]>>16)-128;X=Nt(E,u,X,t,i),tt=Nt(C,c,tt,n,r),st=Nt(D,c,st,n,r),ct+=32}qt+=8}if(_>=0){var Bt=[];Bt[1]=_+1,Bt[0]=(1<<_+1)-1,at(Bt)}return ft(65497),new Uint8Array(x)},e=e||50,function(){for(var F=String.fromCharCode,$=0;$<256;$++)G[$]=F($)}(),t=it(N,T),n=it(L,P),i=it(V,A),r=it(Q,pt),function(){for(var F=1,$=2,X=1;X<=15;X++){for(var tt=F;tt<$;tt++)g[32767+tt]=X,p[32767+tt]=[],p[32767+tt][1]=X,p[32767+tt][0]=tt;for(var st=-($-1);st<=-F;st++)g[32767+st]=X,p[32767+st]=[],p[32767+st][1]=X,p[32767+st][0]=$-1+st;F<<=1,$<<=1}}(),function(){for(var F=0;F<256;F++)et[F]=19595*F,et[F+256|0]=38470*F,et[F+512|0]=7471*F+32768,et[F+768|0]=-11059*F,et[F+1024|0]=-21709*F,et[F+1280|0]=32768*F+8421375,et[F+1536|0]=-27439*F,et[F+1792|0]=-5329*F}(),Tt(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Zs(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ET(e){function t(T){if(!T)throw Error("assert :P")}function n(T,V,A){for(var L=0;4>L;L++)if(T[V+L]!=A.charCodeAt(L))return!0;return!1}function i(T,V,A,L,P){for(var Q=0;Q<P;Q++)T[V+Q]=A[L+Q]}function r(T,V,A,L){for(var P=0;P<L;P++)T[V+P]=A}function s(T){return new Int32Array(T)}function a(T,V){for(var A=[],L=0;L<T;L++)A.push(new V);return A}function o(T,V){var A=[];return function L(P,Q,pt){for(var it=pt[Q],at=0;at<it&&(P.push(pt.length>Q+1?[]:new V),!(pt.length<Q+1));at++)L(P[at],Q+1,pt)}(A,0,T),A}var l=function(){var T=this;function V(h,m){for(var v=1<<m-1>>>0;h&v;)v>>>=1;return v?(h&v-1)+v:h}function A(h,m,v,S,O){t(!(S%v));do h[m+(S-=v)]=O;while(0<S)}function L(h,m,v,S,O){if(t(2328>=O),512>=O)var j=s(512);else if((j=s(O))==null)return 0;return function(B,U,q,K,nt,dt){var Y,rt,ut=U,_t=1<<q,ht=s(16),wt=s(16);for(t(nt!=0),t(K!=null),t(B!=null),t(0<q),rt=0;rt<nt;++rt){if(15<K[rt])return 0;++ht[K[rt]]}if(ht[0]==nt)return 0;for(wt[1]=0,Y=1;15>Y;++Y){if(ht[Y]>1<<Y)return 0;wt[Y+1]=wt[Y]+ht[Y]}for(rt=0;rt<nt;++rt)Y=K[rt],0<K[rt]&&(dt[wt[Y]++]=rt);if(wt[15]==1)return(K=new P).g=0,K.value=dt[0],A(B,ut,1,_t,K),_t;var At,Dt=-1,Lt=_t-1,te=0,Gt=1,Pe=1,Xt=1<<q;for(rt=0,Y=1,nt=2;Y<=q;++Y,nt<<=1){if(Gt+=Pe<<=1,0>(Pe-=ht[Y]))return 0;for(;0<ht[Y];--ht[Y])(K=new P).g=Y,K.value=dt[rt++],A(B,ut+te,nt,Xt,K),te=V(te,Y)}for(Y=q+1,nt=2;15>=Y;++Y,nt<<=1){if(Gt+=Pe<<=1,0>(Pe-=ht[Y]))return 0;for(;0<ht[Y];--ht[Y]){if(K=new P,(te&Lt)!=Dt){for(ut+=Xt,At=1<<(Dt=Y)-q;15>Dt&&!(0>=(At-=ht[Dt]));)++Dt,At<<=1;_t+=Xt=1<<(At=Dt-q),B[U+(Dt=te&Lt)].g=At+q,B[U+Dt].value=ut-U-Dt}K.g=Y-q,K.value=dt[rt++],A(B,ut+(te>>q),nt,Xt,K),te=V(te,Y)}}return Gt!=2*wt[15]-1?0:_t}(h,m,v,S,O,j)}function P(){this.value=this.g=0}function Q(){this.value=this.g=0}function pt(){this.G=a(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(wu,Q)}function it(h,m,v,S){t(h!=null),t(m!=null),t(2147483648>S),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=v,h.Jd=m,h.Yc=v+S,h.Zc=4<=S?v+S-4+1:v,gt(h)}function at(h,m){for(var v=0;0<m--;)v|=St(h,128)<<m;return v}function Z(h,m){var v=at(h,m);return vt(h)?-v:v}function ft(h,m,v,S){var O,j=0;for(t(h!=null),t(m!=null),t(4294967288>S),h.Sb=S,h.Ra=0,h.u=0,h.h=0,4<S&&(S=4),O=0;O<S;++O)j+=m[v+O]<<8*O;h.Ra=j,h.bb=S,h.oa=m,h.pa=v}function Nt(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Qo-8>>>0,++h.bb,h.u-=8;tt(h)&&(h.h=1,h.u=0)}function Tt(h,m){if(t(0<=m),!h.h&&m<=Kr){var v=X(h)&Wr[m];return h.u+=m,Nt(h),v}return h.h=1,h.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(h){return h.Ra>>>(h.u&Qo-1)>>>0}function tt(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Qo}function st(h,m){h.u=m,h.h=tt(h)}function ct(h){h.u>=eo&&(t(h.u>=eo),Nt(h))}function gt(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function vt(h){return at(h,1)}function St(h,m){var v=h.Ca;0>h.b&&gt(h);var S=h.b,O=v*m>>>8,j=(h.I>>>S>O)+0;for(j?(v-=O,h.I-=O+1<<S>>>0):v=O+1,S=v,O=0;256<=S;)O+=8,S>>=8;return S=7^O+Jo[S],h.b-=S,h.Ca=(v<<S)-1,j}function kt(h,m,v){h[m+0]=v>>24&255,h[m+1]=v>>16&255,h[m+2]=v>>8&255,h[m+3]=255&v}function Ft(h,m){return h[m+0]|h[m+1]<<8}function jt(h,m){return Ft(h,m)|h[m+2]<<16}function Zt(h,m){return Ft(h,m)|Ft(h,m+2)<<16}function H(h,m){var v=1<<m;return t(h!=null),t(0<m),h.X=s(v),h.X==null?0:(h.Mb=32-m,h.Xa=m,1)}function Vt(h,m){t(h!=null),t(m!=null),t(h.Xa==m.Xa),i(m.X,0,h.X,0,1<<m.Xa)}function Ae(){this.X=[],this.Xa=this.Mb=0}function ae(h,m,v,S){t(v!=null),t(S!=null);var O=v[0],j=S[0];return O==0&&(O=(h*j+m/2)/m),j==0&&(j=(m*O+h/2)/h),0>=O||0>=j?0:(v[0]=O,S[0]=j,1)}function Et(h,m){return h+(1<<m)-1>>>m}function qt(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function Bt(h,m){T[m]=function(v,S,O,j,B,U,q){var K;for(K=0;K<B;++K){var nt=T[h](U[q+K-1],O,j+K);U[q+K]=qt(v[S+K],nt)}}}function oe(){this.ud=this.hd=this.jd=0}function ne(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function Qe(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Ie(h,m){return Qe(h+(h-m+.5>>1))}function _e(h,m,v){return Math.abs(m-v)-Math.abs(h-v)}function Me(h,m,v,S,O,j,B){for(S=j[B-1],v=0;v<O;++v)j[B+v]=S=qt(h[m+v],S)}function ke(h,m,v,S,O){var j;for(j=0;j<v;++j){var B=h[m+j],U=B>>8&255,q=16711935&(q=(q=16711935&B)+((U<<16)+U));S[O+j]=(4278255360&B)+q>>>0}}function $t(h,m){m.jd=255&h,m.hd=h>>8&255,m.ud=h>>16&255}function Se(h,m,v,S,O,j){var B;for(B=0;B<S;++B){var U=m[v+B],q=U>>>8,K=U,nt=255&(nt=(nt=U>>>16)+((h.jd<<24>>24)*(q<<24>>24)>>>5));K=255&(K=(K+=(h.hd<<24>>24)*(q<<24>>24)>>>5)+((h.ud<<24>>24)*(nt<<24>>24)>>>5)),O[j+B]=(4278255360&U)+(nt<<16)+K}}function Jt(h,m,v,S,O){T[m]=function(j,B,U,q,K,nt,dt,Y,rt){for(q=dt;q<Y;++q)for(dt=0;dt<rt;++dt)K[nt++]=O(U[S(j[B++])])},T[h]=function(j,B,U,q,K,nt,dt){var Y=8>>j.b,rt=j.Ea,ut=j.K[0],_t=j.w;if(8>Y)for(j=(1<<j.b)-1,_t=(1<<Y)-1;B<U;++B){var ht,wt=0;for(ht=0;ht<rt;++ht)ht&j||(wt=S(q[K++])),nt[dt++]=O(ut[wt&_t]),wt>>=Y}else T["VP8LMapColor"+v](q,K,ut,_t,nt,dt,B,U,rt)}}function Fn(h,m,v,S,O){for(v=m+v;m<v;){var j=h[m++];S[O++]=j>>16&255,S[O++]=j>>8&255,S[O++]=255&j}}function Oe(h,m,v,S,O){for(v=m+v;m<v;){var j=h[m++];S[O++]=j>>16&255,S[O++]=j>>8&255,S[O++]=255&j,S[O++]=j>>24&255}}function xe(h,m,v,S,O){for(v=m+v;m<v;){var j=(B=h[m++])>>16&240|B>>12&15,B=240&B|B>>28&15;S[O++]=j,S[O++]=B}}function Ne(h,m,v,S,O){for(v=m+v;m<v;){var j=(B=h[m++])>>16&248|B>>13&7,B=B>>5&224|B>>3&31;S[O++]=j,S[O++]=B}}function Je(h,m,v,S,O){for(v=m+v;m<v;){var j=h[m++];S[O++]=255&j,S[O++]=j>>8&255,S[O++]=j>>16&255}}function ie(h,m,v,S,O,j){if(j==0)for(v=m+v;m<v;)kt(S,((j=h[m++])[0]>>24|j[1]>>8&65280|j[2]<<8&16711680|j[3]<<24)>>>0),O+=32;else i(S,O,h,m,v)}function tn(h,m){T[m][0]=T[h+"0"],T[m][1]=T[h+"1"],T[m][2]=T[h+"2"],T[m][3]=T[h+"3"],T[m][4]=T[h+"4"],T[m][5]=T[h+"5"],T[m][6]=T[h+"6"],T[m][7]=T[h+"7"],T[m][8]=T[h+"8"],T[m][9]=T[h+"9"],T[m][10]=T[h+"10"],T[m][11]=T[h+"11"],T[m][12]=T[h+"12"],T[m][13]=T[h+"13"],T[m][14]=T[h+"0"],T[m][15]=T[h+"0"]}function ce(h){return h==T0||h==x0||h==$p||h==N0}function de(){this.eb=[],this.size=this.A=this.fb=0}function pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function le(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new de,this.f.kb=new pn,this.sd=null}function ue(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Hr(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Ti(h,m){var v=h.T,S=m.ba.f.RGBA,O=S.eb,j=S.fb+h.ka*S.A,B=Es[m.ba.S],U=h.y,q=h.O,K=h.f,nt=h.N,dt=h.ea,Y=h.W,rt=m.cc,ut=m.dc,_t=m.Mc,ht=m.Nc,wt=h.ka,At=h.ka+h.T,Dt=h.U,Lt=Dt+1>>1;for(wt==0?B(U,q,null,null,K,nt,dt,Y,K,nt,dt,Y,O,j,null,null,Dt):(B(m.ec,m.fc,U,q,rt,ut,_t,ht,K,nt,dt,Y,O,j-S.A,O,j,Dt),++v);wt+2<At;wt+=2)rt=K,ut=nt,_t=dt,ht=Y,nt+=h.Rc,Y+=h.Rc,j+=2*S.A,B(U,(q+=2*h.fa)-h.fa,U,q,rt,ut,_t,ht,K,nt,dt,Y,O,j-S.A,O,j,Dt);return q+=h.fa,h.j+At<h.o?(i(m.ec,m.fc,U,q,Dt),i(m.cc,m.dc,K,nt,Lt),i(m.Mc,m.Nc,dt,Y,Lt),v--):1&At||B(U,q,null,null,K,nt,dt,Y,K,nt,dt,Y,O,j+S.A,null,null,Dt),v}function Us(h,m,v){var S=h.F,O=[h.J];if(S!=null){var j=h.U,B=m.ba.S,U=B==Yp||B==$p;m=m.ba.f.RGBA;var q=[0],K=h.ka;q[0]=h.T,h.Kb&&(K==0?--q[0]:(--K,O[0]-=h.width),h.j+h.ka+h.T==h.o&&(q[0]=h.o-h.j-K));var nt=m.eb;K=m.fb+K*m.A,h=dw(S,O[0],h.width,j,q,nt,K+(U?0:3),m.A),t(v==q),h&&ce(B)&&Df(nt,K,U,j,q,m.A)}return 0}function Di(h){var m=h.ma,v=m.ba.S,S=11>v,O=v==Wp||v==Kp||v==Yp||v==E0||v==12||ce(v);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!Tf(m.Oa,h,O?11:12))return 0;if(O&&ce(v)&&be(),h.da)alert("todo:use_scaling");else{if(S){if(m.Ib=Hr,h.Kb){if(v=h.U+1>>1,m.memory=s(h.U+2*v),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+v,m.Ib=Ti,be()}}else alert("todo:EmitYUV");O&&(m.Jb=Us,S&&mt())}if(S&&!Rw){for(h=0;256>h;++h)bP[h]=89858*(h-128)+Qp>>Xp,SP[h]=-22014*(h-128)+Qp,AP[h]=-45773*(h-128),wP[h]=113618*(h-128)+Qp>>Xp;for(h=Of;h<I0;++h)m=76283*(h-16)+Qp>>Xp,EP[h-Of]=ms(m,255),TP[h-Of]=ms(m+8>>4,15);Rw=1}return 1}function he(h){var m=h.ma,v=h.U,S=h.T;return t(!(1&h.ka)),0>=v||0>=S?0:(v=m.Ib(h,m),m.Jb!=null&&m.Jb(h,m,v),m.Dc+=v,1)}function zs(h){h.ma.memory=null}function Sr(h,m,v,S){return Tt(h,8)!=47?0:(m[0]=Tt(h,14)+1,v[0]=Tt(h,14)+1,S[0]=Tt(h,1),Tt(h,3)!=0?0:!h.h)}function ar(h,m){if(4>h)return h+1;var v=h-2>>1;return(2+(1&h)<<v)+Tt(m,v)+1}function or(h,m){return 120<m?m-120:1<=(v=((v=aP[m-1])>>4)*h+(8-(15&v)))?v:1;var v}function bn(h,m,v){var S=X(v),O=h[m+=255&S].g-8;return 0<O&&(st(v,v.u+8),S=X(v),m+=h[m].value,m+=S&(1<<O)-1),st(v,v.u+h[m].g),h[m].value}function Bn(h,m,v){return v.g+=h.g,v.value+=h.value<<m>>>0,t(8>=v.g),h.g}function gi(h,m,v){var S=h.xc;return t((m=S==0?0:h.vc[h.md*(v>>S)+(m>>S)])<h.Wb),h.Ya[m]}function Ki(h,m,v,S){var O=h.ab,j=h.c*m,B=h.C;m=B+m;var U=v,q=S;for(S=h.Ta,v=h.Ua;0<O--;){var K=h.gc[O],nt=B,dt=m,Y=U,rt=q,ut=(q=S,U=v,K.Ea);switch(t(nt<dt),t(dt<=K.nc),K.hc){case 2:Qn(Y,rt,(dt-nt)*ut,q,U);break;case 0:var _t=nt,ht=dt,wt=q,At=U,Dt=(Xt=K).Ea;_t==0&&(Nf(Y,rt,null,null,1,wt,At),Me(Y,rt+1,0,0,Dt-1,wt,At+1),rt+=Dt,At+=Dt,++_t);for(var Lt=1<<Xt.b,te=Lt-1,Gt=Et(Dt,Xt.b),Pe=Xt.K,Xt=Xt.w+(_t>>Xt.b)*Gt;_t<ht;){var We=Pe,vi=Xt,De=1;for(Ic(Y,rt,wt,At-Dt,1,wt,At);De<Dt;){var Qt=(De&~te)+Lt;Qt>Dt&&(Qt=Dt),(0,Rf[We[vi++]>>8&15])(Y,rt+ +De,wt,At+De-Dt,Qt-De,wt,At+De),De=Qt}rt+=Dt,At+=Dt,++_t&te||(Xt+=Gt)}dt!=K.nc&&i(q,U-ut,q,U+(dt-nt-1)*ut,ut);break;case 1:for(ut=Y,ht=rt,Dt=(Y=K.Ea)-(At=Y&~(wt=(rt=1<<K.b)-1)),_t=Et(Y,K.b),Lt=K.K,K=K.w+(nt>>K.b)*_t;nt<dt;){for(te=Lt,Gt=K,Pe=new oe,Xt=ht+At,We=ht+Y;ht<Xt;)$t(te[Gt++],Pe),If(Pe,ut,ht,rt,q,U),ht+=rt,U+=rt;ht<We&&($t(te[Gt++],Pe),If(Pe,ut,ht,Dt,q,U),ht+=Dt,U+=Dt),++nt&wt||(K+=_t)}break;case 3:if(Y==q&&rt==U&&0<K.b){for(ht=q,Y=ut=U+(dt-nt)*ut-(At=(dt-nt)*Et(K.Ea,K.b)),rt=q,wt=U,_t=[],At=(Dt=At)-1;0<=At;--At)_t[At]=rt[wt+At];for(At=Dt-1;0<=At;--At)ht[Y+At]=_t[At];zp(K,nt,dt,q,ut,q,U)}else zp(K,nt,dt,Y,rt,q,U)}U=S,q=v}q!=v&&i(S,v,U,q,j)}function qs(h,m){var v=h.V,S=h.Ba+h.c*h.C,O=m-h.C;if(t(m<=h.l.o),t(16>=O),0<O){var j=h.l,B=h.Ta,U=h.Ua,q=j.width;if(Ki(h,O,v,S),O=U=[U],t((v=h.C)<(S=m)),t(j.v<j.va),S>j.o&&(S=j.o),v<j.j){var K=j.j-v;v=j.j,O[0]+=K*q}if(v>=S?v=0:(O[0]+=4*j.v,j.ka=v-j.j,j.U=j.va-j.v,j.T=S-v,v=1),v){if(U=U[0],11>(v=h.ca).S){var nt=v.f.RGBA,dt=(S=v.S,O=j.U,j=j.T,K=nt.eb,nt.A),Y=j;for(nt=nt.fb+h.Ma*nt.A;0<Y--;){var rt=B,ut=U,_t=O,ht=K,wt=nt;switch(S){case Gp:Lf(rt,ut,_t,ht,wt);break;case Wp:Zo(rt,ut,_t,ht,wt);break;case T0:Zo(rt,ut,_t,ht,wt),Df(ht,wt,0,_t,1,0);break;case bw:Au(rt,ut,_t,ht,wt);break;case Kp:ie(rt,ut,_t,ht,wt,1);break;case x0:ie(rt,ut,_t,ht,wt,1),Df(ht,wt,0,_t,1,0);break;case Yp:ie(rt,ut,_t,ht,wt,0);break;case $p:ie(rt,ut,_t,ht,wt,0),Df(ht,wt,1,_t,1,0);break;case E0:tl(rt,ut,_t,ht,wt);break;case N0:tl(rt,ut,_t,ht,wt),fw(ht,wt,_t,1,0);break;case ww:el(rt,ut,_t,ht,wt);break;default:t(0)}U+=q,nt+=dt}h.Ma+=j}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=v.height)}}h.C=m,t(h.C<=h.i)}function Er(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var v=h.Ya[m].G,S=h.Ya[m].H;if(0<v[1][S[1]+0].g||0<v[2][S[2]+0].g||0<v[3][S[3]+0].g)return 0}return 1}function Tr(h,m,v,S,O,j){if(h.Z!=0){var B=h.qd,U=h.rd;for(t(rl[h.Z]!=null);m<v;++m)rl[h.Z](B,U,S,O,S,O,j),B=S,U=O,O+=j;h.qd=B,h.rd=U}}function lr(h,m){var v=h.l.ma,S=v.Z==0||v.Z==1?h.l.j:h.C;if(S=h.C<S?S:h.C,t(m<=h.l.o),m>S){var O=h.l.width,j=v.ca,B=v.tb+O*S,U=h.V,q=h.Ba+h.c*S,K=h.gc;t(h.ab==1),t(K[0].hc==3),Ea(K[0],S,m,U,q,j,B),Tr(v,S,m,j,B,O)}h.C=h.Ma=m}function xr(h,m,v,S,O,j,B){var U=h.$/S,q=h.$%S,K=h.m,nt=h.s,dt=v+h.$,Y=dt;O=v+S*O;var rt=v+S*j,ut=280+nt.ua,_t=h.Pb?U:16777216,ht=0<nt.ua?nt.Wa:null,wt=nt.wc,At=dt<rt?gi(nt,q,U):null;t(h.C<j),t(rt<=O);var Dt=!1;t:for(;;){for(;Dt||dt<rt;){var Lt=0;if(U>=_t){var te=dt-v;t((_t=h).Pb),_t.wd=_t.m,_t.xd=te,0<_t.s.ua&&Vt(_t.s.Wa,_t.s.vb),_t=U+lP}if(q&wt||(At=gi(nt,q,U)),t(At!=null),At.Qb&&(m[dt]=At.qb,Dt=!0),!Dt)if(ct(K),At.jc){Lt=K,te=m;var Gt=dt,Pe=At.pd[X(Lt)&wu-1];t(At.jc),256>Pe.g?(st(Lt,Lt.u+Pe.g),te[Gt]=Pe.value,Lt=0):(st(Lt,Lt.u+Pe.g-256),t(256<=Pe.value),Lt=Pe.value),Lt==0&&(Dt=!0)}else Lt=bn(At.G[0],At.H[0],K);if(K.h)break;if(Dt||256>Lt){if(!Dt)if(At.nd)m[dt]=(At.qb|Lt<<8)>>>0;else{if(ct(K),Dt=bn(At.G[1],At.H[1],K),ct(K),te=bn(At.G[2],At.H[2],K),Gt=bn(At.G[3],At.H[3],K),K.h)break;m[dt]=(Gt<<24|Dt<<16|Lt<<8|te)>>>0}if(Dt=!1,++dt,++q>=S&&(q=0,++U,B!=null&&U<=j&&!(U%16)&&B(h,U),ht!=null))for(;Y<dt;)Lt=m[Y++],ht.X[(506832829*Lt&4294967295)>>>ht.Mb]=Lt}else if(280>Lt){if(Lt=ar(Lt-256,K),te=bn(At.G[4],At.H[4],K),ct(K),te=or(S,te=ar(te,K)),K.h)break;if(dt-v<te||O-dt<Lt)break t;for(Gt=0;Gt<Lt;++Gt)m[dt+Gt]=m[dt+Gt-te];for(dt+=Lt,q+=Lt;q>=S;)q-=S,++U,B!=null&&U<=j&&!(U%16)&&B(h,U);if(t(dt<=O),q&wt&&(At=gi(nt,q,U)),ht!=null)for(;Y<dt;)Lt=m[Y++],ht.X[(506832829*Lt&4294967295)>>>ht.Mb]=Lt}else{if(!(Lt<ut))break t;for(Dt=Lt-280,t(ht!=null);Y<dt;)Lt=m[Y++],ht.X[(506832829*Lt&4294967295)>>>ht.Mb]=Lt;Lt=dt,t(!(Dt>>>(te=ht).Xa)),m[Lt]=te.X[Dt],Dt=!0}Dt||t(K.h==tt(K))}if(h.Pb&&K.h&&dt<O)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Vt(h.s.vb,h.s.Wa);else{if(K.h)break t;B!=null&&B(h,U>j?j:U),h.a=0,h.$=dt-v}return 1}return h.a=3,0}function Nr(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;m!=null&&(m.X=null),h.vb=null,t(h!=null)}function da(){var h=new fe;return h==null?null:(h.a=0,h.xb=Ew,tn("Predictor","VP8LPredictors"),tn("Predictor","VP8LPredictors_C"),tn("PredictorAdd","VP8LPredictorsAdd"),tn("PredictorAdd","VP8LPredictorsAdd_C"),Qn=ke,If=Se,Lf=Fn,Zo=Oe,tl=xe,el=Ne,Au=Je,T.VP8LMapColor32b=Sa,T.VP8LMapColor8b=Cf,h)}function fs(h,m,v,S,O){var j=1,B=[h],U=[m],q=S.m,K=S.s,nt=null,dt=0;t:for(;;){if(v)for(;j&&Tt(q,1);){var Y=B,rt=U,ut=S,_t=1,ht=ut.m,wt=ut.gc[ut.ab],At=Tt(ht,2);if(ut.Oc&1<<At)j=0;else{switch(ut.Oc|=1<<At,wt.hc=At,wt.Ea=Y[0],wt.nc=rt[0],wt.K=[null],++ut.ab,t(4>=ut.ab),At){case 0:case 1:wt.b=Tt(ht,3)+2,_t=fs(Et(wt.Ea,wt.b),Et(wt.nc,wt.b),0,ut,wt.K),wt.K=wt.K[0];break;case 3:var Dt,Lt=Tt(ht,8)+1,te=16<Lt?0:4<Lt?1:2<Lt?2:3;if(Y[0]=Et(wt.Ea,te),wt.b=te,Dt=_t=fs(Lt,1,0,ut,wt.K)){var Gt,Pe=Lt,Xt=wt,We=1<<(8>>Xt.b),vi=s(We);if(vi==null)Dt=0;else{var De=Xt.K[0],Qt=Xt.w;for(vi[0]=Xt.K[0][0],Gt=1;Gt<1*Pe;++Gt)vi[Gt]=qt(De[Qt+Gt],vi[Gt-1]);for(;Gt<4*We;++Gt)vi[Gt]=0;Xt.K[0]=null,Xt.K[0]=vi,Dt=1}}_t=Dt;break;case 2:break;default:t(0)}j=_t}}if(B=B[0],U=U[0],j&&Tt(q,1)&&!(j=1<=(dt=Tt(q,4))&&11>=dt)){S.a=3;break t}var Mt;if(Mt=j)e:{var Zn,Ce,Ye,Pn=S,ki=B,mr=U,Gn=dt,Xi=v,gr=Pn.m,_i=Pn.s,Xe=[null],an=1,Wn=0,on=oP[Gn];n:for(;;){if(Xi&&Tt(gr,1)){var Oi=Tt(gr,3)+2,$s=Et(ki,Oi),ti=Et(mr,Oi),Dr=$s*ti;if(!fs($s,ti,0,Pn,Xe))break n;for(Xe=Xe[0],_i.xc=Oi,Zn=0;Zn<Dr;++Zn){var yn=Xe[Zn]>>8&65535;Xe[Zn]=yn,yn>=an&&(an=yn+1)}}if(gr.h)break n;for(Ce=0;5>Ce;++Ce){var bi=Aw[Ce];!Ce&&0<Gn&&(bi+=1<<Gn),Wn<bi&&(Wn=bi)}var $r=a(an*on,P),yr=an,Xr=a(yr,pt);if(Xr==null)var Qr=null;else t(65536>=yr),Qr=Xr;var kr=s(Wn);if(Qr==null||kr==null||$r==null){Pn.a=1;break n}var Jr=$r;for(Zn=Ye=0;Zn<an;++Zn){var Nn=Qr[Zn],Zr=Nn.G,Xs=Nn.H,Eu=0,ro=1,Mi=0;for(Ce=0;5>Ce;++Ce){bi=Aw[Ce],Zr[Ce]=Jr,Xs[Ce]=Ye,!Ce&&0<Gn&&(bi+=1<<Gn);r:{var Zp,L0=bi,tm=Pn,Mf=kr,CP=Jr,RP=Ye,P0=0,sl=tm.m,IP=Tt(sl,1);if(r(Mf,0,0,L0),IP){var LP=Tt(sl,1)+1,PP=Tt(sl,1),Pw=Tt(sl,PP==0?1:8);Mf[Pw]=1,LP==2&&(Mf[Pw=Tt(sl,8)]=1);var em=1}else{var Dw=s(19),kw=Tt(sl,4)+4;if(19<kw){tm.a=3;var nm=0;break r}for(Zp=0;Zp<kw;++Zp)Dw[sP[Zp]]=Tt(sl,3);var D0=void 0,Vf=void 0,Ow=tm,DP=Dw,im=L0,Mw=Mf,k0=0,al=Ow.m,Vw=8,jw=a(128,P);i:for(;L(jw,0,7,DP,19);){if(Tt(al,1)){var kP=2+2*Tt(al,3);if((D0=2+Tt(al,kP))>im)break i}else D0=im;for(Vf=0;Vf<im&&D0--;){ct(al);var Fw=jw[0+(127&X(al))];st(al,al.u+Fw.g);var Pc=Fw.value;if(16>Pc)Mw[Vf++]=Pc,Pc!=0&&(Vw=Pc);else{var OP=Pc==16,Bw=Pc-16,MP=iP[Bw],Uw=Tt(al,nP[Bw])+MP;if(Vf+Uw>im)break i;for(var VP=OP?Vw:0;0<Uw--;)Mw[Vf++]=VP}}k0=1;break i}k0||(Ow.a=3),em=k0}(em=em&&!sl.h)&&(P0=L(CP,RP,8,Mf,L0)),em&&P0!=0?nm=P0:(tm.a=3,nm=0)}if(nm==0)break n;if(ro&&rP[Ce]==1&&(ro=Jr[Ye].g==0),Eu+=Jr[Ye].g,Ye+=nm,3>=Ce){var jf,O0=kr[0];for(jf=1;jf<bi;++jf)kr[jf]>O0&&(O0=kr[jf]);Mi+=O0}}if(Nn.nd=ro,Nn.Qb=0,ro&&(Nn.qb=(Zr[3][Xs[3]+0].value<<24|Zr[1][Xs[1]+0].value<<16|Zr[2][Xs[2]+0].value)>>>0,Eu==0&&256>Zr[0][Xs[0]+0].value&&(Nn.Qb=1,Nn.qb+=Zr[0][Xs[0]+0].value<<8)),Nn.jc=!Nn.Qb&&6>Mi,Nn.jc){var rm,so=Nn;for(rm=0;rm<wu;++rm){var ol=rm,ll=so.pd[ol],sm=so.G[0][so.H[0]+ol];256<=sm.value?(ll.g=sm.g+256,ll.value=sm.value):(ll.g=0,ll.value=0,ol>>=Bn(sm,8,ll),ol>>=Bn(so.G[1][so.H[1]+ol],16,ll),ol>>=Bn(so.G[2][so.H[2]+ol],0,ll),Bn(so.G[3][so.H[3]+ol],24,ll))}}}_i.vc=Xe,_i.Wb=an,_i.Ya=Qr,_i.yc=$r,Mt=1;break e}Mt=0}if(!(j=Mt)){S.a=3;break t}if(0<dt){if(K.ua=1<<dt,!H(K.Wa,dt)){S.a=1,j=0;break t}}else K.ua=0;var M0=S,zw=B,jP=U,V0=M0.s,j0=V0.xc;if(M0.c=zw,M0.i=jP,V0.md=Et(zw,j0),V0.wc=j0==0?-1:(1<<j0)-1,v){S.xb=mP;break t}if((nt=s(B*U))==null){S.a=1,j=0;break t}j=(j=xr(S,nt,0,B,U,U,null))&&!q.h;break t}return j?(O!=null?O[0]=nt:(t(nt==null),t(v)),S.$=0,v||Nr(K)):Nr(K),j}function ds(h,m){var v=h.c*h.i,S=v+m+16*m;return t(h.c<=m),h.V=s(S),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+v+m,1)}function Ka(h,m){var v=h.C,S=m-v,O=h.V,j=h.Ba+h.c*v;for(t(m<=h.l.o);0<S;){var B=16<S?16:S,U=h.l.ma,q=h.l.width,K=q*B,nt=U.ca,dt=U.tb+q*v,Y=h.Ta,rt=h.Ua;Ki(h,B,O,j),pw(Y,rt,nt,dt,K),Tr(U,v,v+B,nt,dt,q),S-=B,O+=B*h.c,v+=B}t(v==m),h.C=h.Ma=m}function pa(){this.ub=this.yd=this.td=this.Rb=0}function ps(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Hs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ya(){this.Yb=function(){var h=[];return function m(v,S,O){for(var j=O[S],B=0;B<j&&(v.push(O.length>S+1?[]:0),!(O.length<S+1));B++)m(v[B],S+1,O)}(h,0,[3,11]),h}()}function bc(){this.jb=s(3),this.Wc=o([4,8],Ya),this.Xc=o([4,17],Ya)}function hu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ur(){this.ld=this.La=this.dd=this.tc=0}function Uo(){this.Na=this.la=0}function zo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $a(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fu(){this.uc=this.M=this.Nb=0,this.wa=Array(new ur),this.Y=0,this.ya=Array(new $a),this.aa=0,this.l=new cr}function du(){this.y=s(16),this.f=s(8),this.ea=s(8)}function pu(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new pa,this.Kc=new ps,this.ed=new hu,this.Qa=new Hs,this.Ic=this.$c=this.Aa=0,this.D=new fu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,F),this.ia=0,this.pb=a(4,zo),this.Pa=new bc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new du),this.Hd=0,this.rb=Array(new Uo),this.sb=0,this.wa=Array(new ur),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $a),this.L=this.aa=0,this.gd=o([4,2],ur),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ms(h,m){return 0>h?0:h>m?m:h}function cr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Cr(){var h=new pu;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,kf||(kf=Ze)),h}function wn(h,m,v){return h.a==0&&(h.a=m,h.sc=v,h.cb=0),0}function ma(h,m,v){return 3<=v&&h[m+0]==157&&h[m+1]==1&&h[m+2]==42}function Rr(h,m){if(h==null)return 0;if(h.a=0,h.sc="OK",m==null)return wn(h,2,"null VP8Io passed to VP8GetHeaders()");var v=m.data,S=m.w,O=m.ha;if(4>O)return wn(h,7,"Truncated header.");var j=v[S+0]|v[S+1]<<8|v[S+2]<<16,B=h.Od;if(B.Rb=!(1&j),B.td=j>>1&7,B.yd=j>>4&1,B.ub=j>>5,3<B.td)return wn(h,3,"Incorrect keyframe parameters.");if(!B.yd)return wn(h,4,"Frame not displayable.");S+=3,O-=3;var U=h.Kc;if(B.Rb){if(7>O)return wn(h,7,"cannot parse picture header");if(!ma(v,S,O))return wn(h,3,"Bad code word");U.c=16383&(v[S+4]<<8|v[S+3]),U.Td=v[S+4]>>6,U.i=16383&(v[S+6]<<8|v[S+5]),U.Ud=v[S+6]>>6,S+=7,O-=7,h.za=U.c+15>>4,h.Ub=U.i+15>>4,m.width=U.c,m.height=U.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,r((j=h.Pa).jb,0,255,j.jb.length),t((j=h.Qa)!=null),j.Cb=0,j.Bb=0,j.Fb=1,r(j.Zb,0,0,j.Zb.length),r(j.Lb,0,0,j.Lb)}if(B.ub>O)return wn(h,7,"bad partition length");it(j=h.m,v,S,B.ub),S+=B.ub,O-=B.ub,B.Rb&&(U.Ld=vt(j),U.Kd=vt(j)),U=h.Qa;var q,K=h.Pa;if(t(j!=null),t(U!=null),U.Cb=vt(j),U.Cb){if(U.Bb=vt(j),vt(j)){for(U.Fb=vt(j),q=0;4>q;++q)U.Zb[q]=vt(j)?Z(j,7):0;for(q=0;4>q;++q)U.Lb[q]=vt(j)?Z(j,6):0}if(U.Bb)for(q=0;3>q;++q)K.jb[q]=vt(j)?at(j,8):255}else U.Bb=0;if(j.Ka)return wn(h,3,"cannot parse segment header");if((U=h.ed).zd=vt(j),U.Tb=at(j,6),U.wb=at(j,3),U.Pc=vt(j),U.Pc&&vt(j)){for(K=0;4>K;++K)vt(j)&&(U.vd[K]=Z(j,6));for(K=0;4>K;++K)vt(j)&&(U.od[K]=Z(j,6))}if(h.L=U.Tb==0?0:U.zd?1:2,j.Ka)return wn(h,3,"cannot parse filter header");var nt=O;if(O=q=S,S=q+nt,U=nt,h.Xb=(1<<at(h.m,2))-1,nt<3*(K=h.Xb))v=7;else{for(q+=3*K,U-=3*K,nt=0;nt<K;++nt){var dt=v[O+0]|v[O+1]<<8|v[O+2]<<16;dt>U&&(dt=U),it(h.Jc[+nt],v,q,dt),q+=dt,U-=dt,O+=3}it(h.Jc[+K],v,q,U),v=q<S?0:5}if(v!=0)return wn(h,v,"cannot parse partitions");for(v=at(q=h.m,7),O=vt(q)?Z(q,4):0,S=vt(q)?Z(q,4):0,U=vt(q)?Z(q,4):0,K=vt(q)?Z(q,4):0,q=vt(q)?Z(q,4):0,nt=h.Qa,dt=0;4>dt;++dt){if(nt.Cb){var Y=nt.Zb[dt];nt.Fb||(Y+=v)}else{if(0<dt){h.pb[dt]=h.pb[0];continue}Y=v}var rt=h.pb[dt];rt.Sc[0]=C0[ms(Y+O,127)],rt.Sc[1]=R0[ms(Y+0,127)],rt.Eb[0]=2*C0[ms(Y+S,127)],rt.Eb[1]=101581*R0[ms(Y+U,127)]>>16,8>rt.Eb[1]&&(rt.Eb[1]=8),rt.Qc[0]=C0[ms(Y+K,117)],rt.Qc[1]=R0[ms(Y+q,127)],rt.lc=Y+q}if(!B.Rb)return wn(h,4,"Not a key frame.");for(vt(j),B=h.Pa,v=0;4>v;++v){for(O=0;8>O;++O)for(S=0;3>S;++S)for(U=0;11>U;++U)K=St(j,dP[v][O][S][U])?at(j,8):hP[v][O][S][U],B.Wc[v][O].Yb[S][U]=K;for(O=0;17>O;++O)B.Xc[v][O]=B.Wc[v][pP[O]]}return h.kc=vt(j),h.kc&&(h.Bd=at(j,8)),h.cb=1}function Ze(h,m,v,S,O,j,B){var U=m[O].Yb[v];for(v=0;16>O;++O){if(!St(h,U[v+0]))return O;for(;!St(h,U[v+1]);)if(U=m[++O].Yb[0],v=0,O==16)return 16;var q=m[O+1].Yb;if(St(h,U[v+2])){var K=h,nt=0;if(St(K,(Y=U)[(dt=v)+3]))if(St(K,Y[dt+6])){for(U=0,dt=2*(nt=St(K,Y[dt+8]))+(Y=St(K,Y[dt+9+nt])),nt=0,Y=uP[dt];Y[U];++U)nt+=nt+St(K,Y[U]);nt+=3+(8<<dt)}else St(K,Y[dt+7])?(nt=7+2*St(K,165),nt+=St(K,145)):nt=5+St(K,159);else nt=St(K,Y[dt+4])?3+St(K,Y[dt+5]):2;U=q[2]}else nt=1,U=q[1];q=B+cP[O],0>(K=h).b&&gt(K);var dt,Y=K.b,rt=(dt=K.Ca>>1)-(K.I>>Y)>>31;--K.b,K.Ca+=rt,K.Ca|=1,K.I-=(dt+1&rt)<<Y,j[q]=((nt^rt)-rt)*S[(0<O)+0]}return 16}function Xa(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,r(h.zc,0,0,h.zc.length),h.ja=0}function xi(h,m,v,S,O){O=h[m+v+32*S]+(O>>3),h[m+v+32*S]=-256&O?0>O?0:255:O}function Ln(h,m,v,S,O,j){xi(h,m,0,v,S+O),xi(h,m,1,v,S+j),xi(h,m,2,v,S-j),xi(h,m,3,v,S-O)}function Gs(h){return(20091*h>>16)+h}function mu(h,m,v,S){var O,j=0,B=s(16);for(O=0;4>O;++O){var U=h[m+0]+h[m+8],q=h[m+0]-h[m+8],K=(35468*h[m+4]>>16)-Gs(h[m+12]),nt=Gs(h[m+4])+(35468*h[m+12]>>16);B[j+0]=U+nt,B[j+1]=q+K,B[j+2]=q-K,B[j+3]=U-nt,j+=4,m++}for(O=j=0;4>O;++O)U=(h=B[j+0]+4)+B[j+8],q=h-B[j+8],K=(35468*B[j+4]>>16)-Gs(B[j+12]),xi(v,S,0,0,U+(nt=Gs(B[j+4])+(35468*B[j+12]>>16))),xi(v,S,1,0,q+K),xi(v,S,2,0,q-K),xi(v,S,3,0,U-nt),j++,S+=32}function bf(h,m,v,S){var O=h[m+0]+4,j=35468*h[m+4]>>16,B=Gs(h[m+4]),U=35468*h[m+1]>>16;Ln(v,S,0,O+B,h=Gs(h[m+1]),U),Ln(v,S,1,O+j,h,U),Ln(v,S,2,O-j,h,U),Ln(v,S,3,O-B,h,U)}function wf(h,m,v,S,O){mu(h,m,v,S),O&&mu(h,m+16,v,S+4)}function gs(h,m,v,S){Su(h,m+0,v,S,1),Su(h,m+32,v,S+128,1)}function wc(h,m,v,S){var O;for(h=h[m+0]+4,O=0;4>O;++O)for(m=0;4>m;++m)xi(v,S,m,O,h)}function ga(h,m,v,S){h[m+0]&&rn(h,m+0,v,S),h[m+16]&&rn(h,m+16,v,S+4),h[m+32]&&rn(h,m+32,v,S+128),h[m+48]&&rn(h,m+48,v,S+128+4)}function Ir(h,m,v,S){var O,j=s(16);for(O=0;4>O;++O){var B=h[m+0+O]+h[m+12+O],U=h[m+4+O]+h[m+8+O],q=h[m+4+O]-h[m+8+O],K=h[m+0+O]-h[m+12+O];j[0+O]=B+U,j[8+O]=B-U,j[4+O]=K+q,j[12+O]=K-q}for(O=0;4>O;++O)B=(h=j[0+4*O]+3)+j[3+4*O],U=j[1+4*O]+j[2+4*O],q=j[1+4*O]-j[2+4*O],K=h-j[3+4*O],v[S+0]=B+U>>3,v[S+16]=K+q>>3,v[S+32]=B-U>>3,v[S+48]=K-q>>3,S+=64}function ya(h,m,v){var S,O=m-32,j=Yr,B=255-h[O-1];for(S=0;S<v;++S){var U,q=j,K=B+h[m-1];for(U=0;U<v;++U)h[m+U]=q[K+h[O+U]];m+=32}}function Ac(h,m){ya(h,m,4)}function Sc(h,m){ya(h,m,8)}function Ec(h,m){ya(h,m,16)}function qo(h,m){var v;for(v=0;16>v;++v)i(h,m+32*v,h,m-32,16)}function Ws(h,m){var v;for(v=16;0<v;--v)r(h,m,h[m-1],16),m+=32}function Gr(h,m,v){var S;for(S=0;16>S;++S)r(m,v+32*S,h,16)}function Af(h,m){var v,S=16;for(v=0;16>v;++v)S+=h[m-1+32*v]+h[m+v-32];Gr(S>>5,h,m)}function Qa(h,m){var v,S=8;for(v=0;16>v;++v)S+=h[m-1+32*v];Gr(S>>4,h,m)}function Lr(h,m){var v,S=8;for(v=0;16>v;++v)S+=h[m+v-32];Gr(S>>4,h,m)}function Sf(h,m){Gr(128,h,m)}function pe(h,m,v){return h+2*m+v+2>>2}function Ho(h,m){var v,S=m-32;for(S=new Uint8Array([pe(h[S-1],h[S+0],h[S+1]),pe(h[S+0],h[S+1],h[S+2]),pe(h[S+1],h[S+2],h[S+3]),pe(h[S+2],h[S+3],h[S+4])]),v=0;4>v;++v)i(h,m+32*v,S,0,S.length)}function Tc(h,m){var v=h[m-1],S=h[m-1+32],O=h[m-1+64],j=h[m-1+96];kt(h,m+0,16843009*pe(h[m-1-32],v,S)),kt(h,m+32,16843009*pe(v,S,O)),kt(h,m+64,16843009*pe(S,O,j)),kt(h,m+96,16843009*pe(O,j,j))}function Ja(h,m){var v,S=4;for(v=0;4>v;++v)S+=h[m+v-32]+h[m-1+32*v];for(S>>=3,v=0;4>v;++v)r(h,m+32*v,S,4)}function hr(h,m){var v=h[m-1+0],S=h[m-1+32],O=h[m-1+64],j=h[m-1-32],B=h[m+0-32],U=h[m+1-32],q=h[m+2-32],K=h[m+3-32];h[m+0+96]=pe(S,O,h[m-1+96]),h[m+1+96]=h[m+0+64]=pe(v,S,O),h[m+2+96]=h[m+1+64]=h[m+0+32]=pe(j,v,S),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=pe(B,j,v),h[m+3+64]=h[m+2+32]=h[m+1+0]=pe(U,B,j),h[m+3+32]=h[m+2+0]=pe(q,U,B),h[m+3+0]=pe(K,q,U)}function ys(h,m){var v=h[m+1-32],S=h[m+2-32],O=h[m+3-32],j=h[m+4-32],B=h[m+5-32],U=h[m+6-32],q=h[m+7-32];h[m+0+0]=pe(h[m+0-32],v,S),h[m+1+0]=h[m+0+32]=pe(v,S,O),h[m+2+0]=h[m+1+32]=h[m+0+64]=pe(S,O,j),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=pe(O,j,B),h[m+3+32]=h[m+2+64]=h[m+1+96]=pe(j,B,U),h[m+3+64]=h[m+2+96]=pe(B,U,q),h[m+3+96]=pe(U,q,q)}function gu(h,m){var v=h[m-1+0],S=h[m-1+32],O=h[m-1+64],j=h[m-1-32],B=h[m+0-32],U=h[m+1-32],q=h[m+2-32],K=h[m+3-32];h[m+0+0]=h[m+1+64]=j+B+1>>1,h[m+1+0]=h[m+2+64]=B+U+1>>1,h[m+2+0]=h[m+3+64]=U+q+1>>1,h[m+3+0]=q+K+1>>1,h[m+0+96]=pe(O,S,v),h[m+0+64]=pe(S,v,j),h[m+0+32]=h[m+1+96]=pe(v,j,B),h[m+1+32]=h[m+2+96]=pe(j,B,U),h[m+2+32]=h[m+3+96]=pe(B,U,q),h[m+3+32]=pe(U,q,K)}function An(h,m){var v=h[m+0-32],S=h[m+1-32],O=h[m+2-32],j=h[m+3-32],B=h[m+4-32],U=h[m+5-32],q=h[m+6-32],K=h[m+7-32];h[m+0+0]=v+S+1>>1,h[m+1+0]=h[m+0+64]=S+O+1>>1,h[m+2+0]=h[m+1+64]=O+j+1>>1,h[m+3+0]=h[m+2+64]=j+B+1>>1,h[m+0+32]=pe(v,S,O),h[m+1+32]=h[m+0+96]=pe(S,O,j),h[m+2+32]=h[m+1+96]=pe(O,j,B),h[m+3+32]=h[m+2+96]=pe(j,B,U),h[m+3+64]=pe(B,U,q),h[m+3+96]=pe(U,q,K)}function Go(h,m){var v=h[m-1+0],S=h[m-1+32],O=h[m-1+64],j=h[m-1+96];h[m+0+0]=v+S+1>>1,h[m+2+0]=h[m+0+32]=S+O+1>>1,h[m+2+32]=h[m+0+64]=O+j+1>>1,h[m+1+0]=pe(v,S,O),h[m+3+0]=h[m+1+32]=pe(S,O,j),h[m+3+32]=h[m+1+64]=pe(O,j,j),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=j}function yu(h,m){var v=h[m-1+0],S=h[m-1+32],O=h[m-1+64],j=h[m-1+96],B=h[m-1-32],U=h[m+0-32],q=h[m+1-32],K=h[m+2-32];h[m+0+0]=h[m+2+32]=v+B+1>>1,h[m+0+32]=h[m+2+64]=S+v+1>>1,h[m+0+64]=h[m+2+96]=O+S+1>>1,h[m+0+96]=j+O+1>>1,h[m+3+0]=pe(U,q,K),h[m+2+0]=pe(B,U,q),h[m+1+0]=h[m+3+32]=pe(v,B,U),h[m+1+32]=h[m+3+64]=pe(S,v,B),h[m+1+64]=h[m+3+96]=pe(O,S,v),h[m+1+96]=pe(j,O,S)}function va(h,m){var v;for(v=0;8>v;++v)i(h,m+32*v,h,m-32,8)}function xc(h,m){var v;for(v=0;8>v;++v)r(h,m,h[m-1],8),m+=32}function vs(h,m,v){var S;for(S=0;8>S;++S)r(m,v+32*S,h,8)}function Wo(h,m){var v,S=8;for(v=0;8>v;++v)S+=h[m+v-32]+h[m-1+32*v];vs(S>>4,h,m)}function Pr(h,m){var v,S=4;for(v=0;8>v;++v)S+=h[m+v-32];vs(S>>3,h,m)}function Ko(h,m){var v,S=4;for(v=0;8>v;++v)S+=h[m-1+32*v];vs(S>>3,h,m)}function Nc(h,m){vs(128,h,m)}function fr(h,m,v){var S=h[m-v],O=h[m+0],j=3*(O-S)+S0[1020+h[m-2*v]-h[m+v]],B=Hp[112+(j+4>>3)];h[m-v]=Yr[255+S+Hp[112+(j+3>>3)]],h[m+0]=Yr[255+O-B]}function Yo(h,m,v,S){var O=h[m+0],j=h[m+v];return Ss[255+h[m-2*v]-h[m-v]]>S||Ss[255+j-O]>S}function _a(h,m,v,S){return 4*Ss[255+h[m-v]-h[m+0]]+Ss[255+h[m-2*v]-h[m+v]]<=S}function ba(h,m,v,S,O){var j=h[m-3*v],B=h[m-2*v],U=h[m-v],q=h[m+0],K=h[m+v],nt=h[m+2*v],dt=h[m+3*v];return 4*Ss[255+U-q]+Ss[255+B-K]>S?0:Ss[255+h[m-4*v]-j]<=O&&Ss[255+j-B]<=O&&Ss[255+B-U]<=O&&Ss[255+dt-nt]<=O&&Ss[255+nt-K]<=O&&Ss[255+K-q]<=O}function wa(h,m,v,S){var O=2*S+1;for(S=0;16>S;++S)_a(h,m+S,v,O)&&fr(h,m+S,v)}function Aa(h,m,v,S){var O=2*S+1;for(S=0;16>S;++S)_a(h,m+S*v,1,O)&&fr(h,m+S*v,1)}function Cc(h,m,v,S){var O;for(O=3;0<O;--O)wa(h,m+=4*v,v,S)}function vu(h,m,v,S){var O;for(O=3;0<O;--O)Aa(h,m+=4,v,S)}function dr(h,m,v,S,O,j,B,U){for(j=2*j+1;0<O--;){if(ba(h,m,v,j,B))if(Yo(h,m,v,U))fr(h,m,v);else{var q=h,K=m,nt=v,dt=q[K-2*nt],Y=q[K-nt],rt=q[K+0],ut=q[K+nt],_t=q[K+2*nt],ht=27*(At=S0[1020+3*(rt-Y)+S0[1020+dt-ut]])+63>>7,wt=18*At+63>>7,At=9*At+63>>7;q[K-3*nt]=Yr[255+q[K-3*nt]+At],q[K-2*nt]=Yr[255+dt+wt],q[K-nt]=Yr[255+Y+ht],q[K+0]=Yr[255+rt-ht],q[K+nt]=Yr[255+ut-wt],q[K+2*nt]=Yr[255+_t-At]}m+=S}}function _s(h,m,v,S,O,j,B,U){for(j=2*j+1;0<O--;){if(ba(h,m,v,j,B))if(Yo(h,m,v,U))fr(h,m,v);else{var q=h,K=m,nt=v,dt=q[K-nt],Y=q[K+0],rt=q[K+nt],ut=Hp[112+(4+(_t=3*(Y-dt))>>3)],_t=Hp[112+(_t+3>>3)],ht=ut+1>>1;q[K-2*nt]=Yr[255+q[K-2*nt]+ht],q[K-nt]=Yr[255+dt+_t],q[K+0]=Yr[255+Y-ut],q[K+nt]=Yr[255+rt-ht]}m+=S}}function _u(h,m,v,S,O,j){dr(h,m,v,1,16,S,O,j)}function Ks(h,m,v,S,O,j){dr(h,m,1,v,16,S,O,j)}function $o(h,m,v,S,O,j){var B;for(B=3;0<B;--B)_s(h,m+=4*v,v,1,16,S,O,j)}function y(h,m,v,S,O,j){var B;for(B=3;0<B;--B)_s(h,m+=4,1,v,16,S,O,j)}function k(h,m,v,S,O,j,B,U){dr(h,m,O,1,8,j,B,U),dr(v,S,O,1,8,j,B,U)}function W(h,m,v,S,O,j,B,U){dr(h,m,1,O,8,j,B,U),dr(v,S,1,O,8,j,B,U)}function J(h,m,v,S,O,j,B,U){_s(h,m+4*O,O,1,8,j,B,U),_s(v,S+4*O,O,1,8,j,B,U)}function ot(h,m,v,S,O,j,B,U){_s(h,m+4,1,O,8,j,B,U),_s(v,S+4,1,O,8,j,B,U)}function bt(){this.ba=new le,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function It(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ht(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Yt(){this.ua=0,this.Wa=new Ae,this.vb=new Ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pt,this.yc=new P}function fe(){this.xb=this.a=0,this.l=new cr,this.ca=new le,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Yt,this.ab=0,this.gc=a(4,Ht),this.Oc=0}function re(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new cr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Be(h,m,v,S,O,j,B){for(h=h==null?0:h[m+0],m=0;m<B;++m)O[j+m]=h+v[S+m]&255,h=O[j+m]}function Sn(h,m,v,S,O,j,B){var U;if(h==null)Be(null,null,v,S,O,j,B);else for(U=0;U<B;++U)O[j+U]=h[m+U]+v[S+U]&255}function mn(h,m,v,S,O,j,B){if(h==null)Be(null,null,v,S,O,j,B);else{var U,q=h[m+0],K=q,nt=q;for(U=0;U<B;++U)K=nt+(q=h[m+U])-K,nt=v[S+U]+(-256&K?0>K?0:255:K)&255,K=q,O[j+U]=nt}}function f(h,m,v,S){var O=m.width,j=m.o;if(t(h!=null&&m!=null),0>v||0>=S||v+S>j)return null;if(!h.Cc){if(h.ga==null){var B;if(h.ga=new re,(B=h.ga==null)||(B=m.width*m.o,t(h.Gb.length==0),h.Gb=s(B),h.Uc=0,h.Gb==null?B=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,B=1),B=!B),!B){B=h.ga;var U=h.Fa,q=h.P,K=h.qc,nt=h.mb,dt=h.nb,Y=q+1,rt=K-1,ut=B.l;if(t(U!=null&&nt!=null&&m!=null),rl[0]=null,rl[1]=Be,rl[2]=Sn,rl[3]=mn,B.ca=nt,B.tb=dt,B.c=m.width,B.i=m.height,t(0<B.c&&0<B.i),1>=K)m=0;else if(B.$a=3&U[q+0],B.Z=U[q+0]>>2&3,B.Lc=U[q+0]>>4&3,q=U[q+0]>>6&3,0>B.$a||1<B.$a||4<=B.Z||1<B.Lc||q)m=0;else if(ut.put=he,ut.ac=Di,ut.bc=zs,ut.ma=B,ut.width=m.width,ut.height=m.height,ut.Da=m.Da,ut.v=m.v,ut.va=m.va,ut.j=m.j,ut.o=m.o,B.$a)t:{t(B.$a==1),m=da();e:for(;;){if(m==null){m=0;break t}if(t(B!=null),B.mc=m,m.c=B.c,m.i=B.i,m.l=B.l,m.l.ma=B,m.l.width=B.c,m.l.height=B.i,m.a=0,ft(m.m,U,Y,rt),!fs(B.c,B.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&Er(m.s)?(B.ic=1,U=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s(U),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(B.ic=0,m=ds(m,B.c)),!m))break e;m=1;break t}B.mc=null,m=0}else m=rt>=B.c*B.i;B=!m}if(B)return null;h.ga.Lc!=1?h.Ga=0:S=j-v}t(h.ga!=null),t(v+S<=j);t:{if(m=(U=h.ga).c,j=U.l.o,U.$a==0){if(Y=h.rc,rt=h.Vc,ut=h.Fa,q=h.P+1+v*m,K=h.mb,nt=h.nb+v*m,t(q<=h.P+h.qc),U.Z!=0)for(t(rl[U.Z]!=null),B=0;B<S;++B)rl[U.Z](Y,rt,ut,q,K,nt,m),Y=K,rt=nt,nt+=m,q+=m;else for(B=0;B<S;++B)i(K,nt,ut,q,m),Y=K,rt=nt,nt+=m,q+=m;h.rc=Y,h.Vc=rt}else{if(t(U.mc!=null),m=v+S,t((B=U.mc)!=null),t(m<=B.i),B.C>=m)m=1;else if(U.ic||mt(),U.ic){U=B.V,Y=B.Ba,rt=B.c;var _t=B.i,ht=(ut=1,q=B.$/rt,K=B.$%rt,nt=B.m,dt=B.s,B.$),wt=rt*_t,At=rt*m,Dt=dt.wc,Lt=ht<At?gi(dt,K,q):null;t(ht<=wt),t(m<=_t),t(Er(dt));e:for(;;){for(;!nt.h&&ht<At;){if(K&Dt||(Lt=gi(dt,K,q)),t(Lt!=null),ct(nt),256>(_t=bn(Lt.G[0],Lt.H[0],nt)))U[Y+ht]=_t,++ht,++K>=rt&&(K=0,++q<=m&&!(q%16)&&lr(B,q));else{if(!(280>_t)){ut=0;break e}_t=ar(_t-256,nt);var te,Gt=bn(Lt.G[4],Lt.H[4],nt);if(ct(nt),!(ht>=(Gt=or(rt,Gt=ar(Gt,nt)))&&wt-ht>=_t)){ut=0;break e}for(te=0;te<_t;++te)U[Y+ht+te]=U[Y+ht+te-Gt];for(ht+=_t,K+=_t;K>=rt;)K-=rt,++q<=m&&!(q%16)&&lr(B,q);ht<At&&K&Dt&&(Lt=gi(dt,K,q))}t(nt.h==tt(nt))}lr(B,q>m?m:q);break e}!ut||nt.h&&ht<wt?(ut=0,B.a=nt.h?5:3):B.$=ht,m=ut}else m=xr(B,B.V,B.Ba,B.c,B.i,m,Ka);if(!m){S=0;break t}}v+S>=j&&(h.Cc=1),S=1}if(!S)return null;if(h.Cc&&((S=h.ga)!=null&&(S.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+v*O}function b(h,m,v,S,O,j){for(;0<O--;){var B,U=h,q=m+(v?1:0),K=h,nt=m+(v?0:3);for(B=0;B<S;++B){var dt=K[nt+4*B];dt!=255&&(dt*=32897,U[q+4*B+0]=U[q+4*B+0]*dt>>23,U[q+4*B+1]=U[q+4*B+1]*dt>>23,U[q+4*B+2]=U[q+4*B+2]*dt>>23)}m+=j}}function R(h,m,v,S,O){for(;0<S--;){var j;for(j=0;j<v;++j){var B=h[m+2*j+0],U=15&(K=h[m+2*j+1]),q=4369*U,K=(240&K|K>>4)*q>>16;h[m+2*j+0]=(240&B|B>>4)*q>>16&240|(15&B|B<<4)*q>>16>>4&15,h[m+2*j+1]=240&K|U}m+=O}}function z(h,m,v,S,O,j,B,U){var q,K,nt=255;for(K=0;K<O;++K){for(q=0;q<S;++q){var dt=h[m+q];j[B+4*q]=dt,nt&=dt}m+=v,B+=U}return nt!=255}function lt(h,m,v,S,O){var j;for(j=0;j<O;++j)v[S+j]=h[m+j]>>8}function mt(){Df=b,fw=R,dw=z,pw=lt}function Ot(h,m,v){T[h]=function(S,O,j,B,U,q,K,nt,dt,Y,rt,ut,_t,ht,wt,At,Dt){var Lt,te=Dt-1>>1,Gt=U[q+0]|K[nt+0]<<16,Pe=dt[Y+0]|rt[ut+0]<<16;t(S!=null);var Xt=3*Gt+Pe+131074>>2;for(m(S[O+0],255&Xt,Xt>>16,_t,ht),j!=null&&(Xt=3*Pe+Gt+131074>>2,m(j[B+0],255&Xt,Xt>>16,wt,At)),Lt=1;Lt<=te;++Lt){var We=U[q+Lt]|K[nt+Lt]<<16,vi=dt[Y+Lt]|rt[ut+Lt]<<16,De=Gt+We+Pe+vi+524296,Qt=De+2*(We+Pe)>>3;Xt=Qt+Gt>>1,Gt=(De=De+2*(Gt+vi)>>3)+We>>1,m(S[O+2*Lt-1],255&Xt,Xt>>16,_t,ht+(2*Lt-1)*v),m(S[O+2*Lt-0],255&Gt,Gt>>16,_t,ht+(2*Lt-0)*v),j!=null&&(Xt=De+Pe>>1,Gt=Qt+vi>>1,m(j[B+2*Lt-1],255&Xt,Xt>>16,wt,At+(2*Lt-1)*v),m(j[B+2*Lt+0],255&Gt,Gt>>16,wt,At+(2*Lt+0)*v)),Gt=We,Pe=vi}1&Dt||(Xt=3*Gt+Pe+131074>>2,m(S[O+Dt-1],255&Xt,Xt>>16,_t,ht+(Dt-1)*v),j!=null&&(Xt=3*Pe+Gt+131074>>2,m(j[B+Dt-1],255&Xt,Xt>>16,wt,At+(Dt-1)*v)))}}function be(){Es[Gp]=gP,Es[Wp]=Tw,Es[bw]=yP,Es[Kp]=xw,Es[Yp]=Nw,Es[E0]=Cw,Es[ww]=vP,Es[T0]=Tw,Es[x0]=xw,Es[$p]=Nw,Es[N0]=Cw}function En(h){return h&-16384?0>h?0:255:h>>_P}function Ue(h,m){return En((19077*h>>8)+(26149*m>>8)-14234)}function Tn(h,m,v){return En((19077*h>>8)-(6419*m>>8)-(13320*v>>8)+8708)}function Ni(h,m){return En((19077*h>>8)+(33050*m>>8)-17685)}function Yi(h,m,v,S,O){S[O+0]=Ue(h,v),S[O+1]=Tn(h,m,v),S[O+2]=Ni(h,m)}function xn(h,m,v,S,O){S[O+0]=Ni(h,m),S[O+1]=Tn(h,m,v),S[O+2]=Ue(h,v)}function $i(h,m,v,S,O){var j=Tn(h,m,v);m=j<<3&224|Ni(h,m)>>3,S[O+0]=248&Ue(h,v)|j>>5,S[O+1]=m}function bs(h,m,v,S,O){var j=240&Ni(h,m)|15;S[O+0]=240&Ue(h,v)|Tn(h,m,v)>>4,S[O+1]=j}function Za(h,m,v,S,O){S[O+0]=255,Yi(h,m,v,S,O+1)}function Ef(h,m,v,S,O){xn(h,m,v,S,O),S[O+3]=255}function pr(h,m,v,S,O){Yi(h,m,v,S,O),S[O+3]=255}function to(h,m,v){T[h]=function(S,O,j,B,U,q,K,nt,dt){for(var Y=nt+(-2&dt)*v;nt!=Y;)m(S[O+0],j[B+0],U[q+0],K,nt),m(S[O+1],j[B+0],U[q+0],K,nt+v),O+=2,++B,++q,nt+=2*v;1&dt&&m(S[O+0],j[B+0],U[q+0],K,nt)}}function Rc(h,m,v){return v==0?h==0?m==0?6:5:m==0?4:0:v}function Up(h,m,v,S,O){switch(h>>>30){case 3:Su(m,v,S,O,0);break;case 2:As(m,v,S,O);break;case 1:rn(m,v,S,O)}}function ws(h,m){var v,S,O=m.M,j=m.Nb,B=h.oc,U=h.pc+40,q=h.oc,K=h.pc+584,nt=h.oc,dt=h.pc+600;for(v=0;16>v;++v)B[U+32*v-1]=129;for(v=0;8>v;++v)q[K+32*v-1]=129,nt[dt+32*v-1]=129;for(0<O?B[U-1-32]=q[K-1-32]=nt[dt-1-32]=129:(r(B,U-32-1,127,21),r(q,K-32-1,127,9),r(nt,dt-32-1,127,9)),S=0;S<h.za;++S){var Y=m.ya[m.aa+S];if(0<S){for(v=-1;16>v;++v)i(B,U+32*v-4,B,U+32*v+12,4);for(v=-1;8>v;++v)i(q,K+32*v-4,q,K+32*v+4,4),i(nt,dt+32*v-4,nt,dt+32*v+4,4)}var rt=h.Gd,ut=h.Hd+S,_t=Y.ad,ht=Y.Hc;if(0<O&&(i(B,U-32,rt[ut].y,0,16),i(q,K-32,rt[ut].f,0,8),i(nt,dt-32,rt[ut].ea,0,8)),Y.Za){var wt=B,At=U-32+16;for(0<O&&(S>=h.za-1?r(wt,At,rt[ut].y[15],4):i(wt,At,rt[ut+1].y,0,4)),v=0;4>v;v++)wt[At+128+v]=wt[At+256+v]=wt[At+384+v]=wt[At+0+v];for(v=0;16>v;++v,ht<<=2)wt=B,At=U+Iw[v],Ys[Y.Ob[v]](wt,At),Up(ht,_t,16*+v,wt,At)}else if(wt=Rc(S,O,Y.Ob[0]),il[wt](B,U),ht!=0)for(v=0;16>v;++v,ht<<=2)Up(ht,_t,16*+v,B,U+Iw[v]);for(v=Y.Gc,wt=Rc(S,O,Y.Dd),io[wt](q,K),io[wt](nt,dt),ht=_t,wt=q,At=K,255&(Y=0|v)&&(170&Y?Ta(ht,256,wt,At):gn(ht,256,wt,At)),Y=nt,ht=dt,255&(v>>=8)&&(170&v?Ta(_t,320,Y,ht):gn(_t,320,Y,ht)),O<h.Ub-1&&(i(rt[ut].y,0,B,U+480,16),i(rt[ut].f,0,q,K+224,8),i(rt[ut].ea,0,nt,dt+224,8)),v=8*j*h.B,rt=h.sa,ut=h.ta+16*S+16*j*h.R,_t=h.qa,Y=h.ra+8*S+v,ht=h.Ha,wt=h.Ia+8*S+v,v=0;16>v;++v)i(rt,ut+v*h.R,B,U+32*v,16);for(v=0;8>v;++v)i(_t,Y+v*h.B,q,K+32*v,8),i(ht,wt+v*h.B,nt,dt+32*v,8)}}function bu(h,m,v,S,O,j,B,U,q){var K=[0],nt=[0],dt=0,Y=q!=null?q.kd:0,rt=q??new It;if(h==null||12>v)return 7;rt.data=h,rt.w=m,rt.ha=v,m=[m],v=[v],rt.gb=[rt.gb];t:{var ut=m,_t=v,ht=rt.gb;if(t(h!=null),t(_t!=null),t(ht!=null),ht[0]=0,12<=_t[0]&&!n(h,ut[0],"RIFF")){if(n(h,ut[0]+8,"WEBP")){ht=3;break t}var wt=Zt(h,ut[0]+4);if(12>wt||4294967286<wt){ht=3;break t}if(Y&&wt>_t[0]-8){ht=7;break t}ht[0]=wt,ut[0]+=12,_t[0]-=12}ht=0}if(ht!=0)return ht;for(wt=0<rt.gb[0],v=v[0];;){t:{var At=h;_t=m,ht=v;var Dt=K,Lt=nt,te=ut=[0];if((Xt=dt=[dt])[0]=0,8>ht[0])ht=7;else{if(!n(At,_t[0],"VP8X")){if(Zt(At,_t[0]+4)!=10){ht=3;break t}if(18>ht[0]){ht=7;break t}var Gt=Zt(At,_t[0]+8),Pe=1+jt(At,_t[0]+12);if(2147483648<=Pe*(At=1+jt(At,_t[0]+15))){ht=3;break t}te!=null&&(te[0]=Gt),Dt!=null&&(Dt[0]=Pe),Lt!=null&&(Lt[0]=At),_t[0]+=18,ht[0]-=18,Xt[0]=1}ht=0}}if(dt=dt[0],ut=ut[0],ht!=0)return ht;if(_t=!!(2&ut),!wt&&dt)return 3;if(j!=null&&(j[0]=!!(16&ut)),B!=null&&(B[0]=_t),U!=null&&(U[0]=0),B=K[0],ut=nt[0],dt&&_t&&q==null){ht=0;break}if(4>v){ht=7;break}if(wt&&dt||!wt&&!dt&&!n(h,m[0],"ALPH")){v=[v],rt.na=[rt.na],rt.P=[rt.P],rt.Sa=[rt.Sa];t:{Gt=h,ht=m,wt=v;var Xt=rt.gb;Dt=rt.na,Lt=rt.P,te=rt.Sa,Pe=22,t(Gt!=null),t(wt!=null),At=ht[0];var We=wt[0];for(t(Dt!=null),t(te!=null),Dt[0]=null,Lt[0]=null,te[0]=0;;){if(ht[0]=At,wt[0]=We,8>We){ht=7;break t}var vi=Zt(Gt,At+4);if(4294967286<vi){ht=3;break t}var De=8+vi+1&-2;if(Pe+=De,0<Xt&&Pe>Xt){ht=3;break t}if(!n(Gt,At,"VP8 ")||!n(Gt,At,"VP8L")){ht=0;break t}if(We[0]<De){ht=7;break t}n(Gt,At,"ALPH")||(Dt[0]=Gt,Lt[0]=At+8,te[0]=vi),At+=De,We-=De}}if(v=v[0],rt.na=rt.na[0],rt.P=rt.P[0],rt.Sa=rt.Sa[0],ht!=0)break}v=[v],rt.Ja=[rt.Ja],rt.xa=[rt.xa];t:if(Xt=h,ht=m,wt=v,Dt=rt.gb[0],Lt=rt.Ja,te=rt.xa,Gt=ht[0],At=!n(Xt,Gt,"VP8 "),Pe=!n(Xt,Gt,"VP8L"),t(Xt!=null),t(wt!=null),t(Lt!=null),t(te!=null),8>wt[0])ht=7;else{if(At||Pe){if(Xt=Zt(Xt,Gt+4),12<=Dt&&Xt>Dt-12){ht=3;break t}if(Y&&Xt>wt[0]-8){ht=7;break t}Lt[0]=Xt,ht[0]+=8,wt[0]-=8,te[0]=Pe}else te[0]=5<=wt[0]&&Xt[Gt+0]==47&&!(Xt[Gt+4]>>5),Lt[0]=wt[0];ht=0}if(v=v[0],rt.Ja=rt.Ja[0],rt.xa=rt.xa[0],m=m[0],ht!=0)break;if(4294967286<rt.Ja)return 3;if(U==null||_t||(U[0]=rt.xa?2:1),B=[B],ut=[ut],rt.xa){if(5>v){ht=7;break}U=B,Y=ut,_t=j,h==null||5>v?h=0:5<=v&&h[m+0]==47&&!(h[m+4]>>5)?(wt=[0],Xt=[0],Dt=[0],ft(Lt=new $,h,m,v),Sr(Lt,wt,Xt,Dt)?(U!=null&&(U[0]=wt[0]),Y!=null&&(Y[0]=Xt[0]),_t!=null&&(_t[0]=Dt[0]),h=1):h=0):h=0}else{if(10>v){ht=7;break}U=ut,h==null||10>v||!ma(h,m+3,v-3)?h=0:(Y=h[m+0]|h[m+1]<<8|h[m+2]<<16,_t=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&Y||3<(Y>>1&7)||!(Y>>4&1)||Y>>5>=rt.Ja||!_t||!h?h=0:(B&&(B[0]=_t),U&&(U[0]=h),h=1))}if(!h||(B=B[0],ut=ut[0],dt&&(K[0]!=B||nt[0]!=ut)))return 3;q!=null&&(q[0]=rt,q.offset=m-q.w,t(4294967286>m-q.w),t(q.offset==q.ha-v));break}return ht==0||ht==7&&dt&&q==null?(j!=null&&(j[0]|=rt.na!=null&&0<rt.na.length),S!=null&&(S[0]=B),O!=null&&(O[0]=ut),0):ht}function Tf(h,m,v){var S=m.width,O=m.height,j=0,B=0,U=S,q=O;if(m.Da=h!=null&&0<h.Da,m.Da&&(U=h.cd,q=h.bd,j=h.v,B=h.j,11>v||(j&=-2,B&=-2),0>j||0>B||0>=U||0>=q||j+U>S||B+q>O))return 0;if(m.v=j,m.j=B,m.va=j+U,m.o=B+q,m.U=U,m.T=q,m.da=h!=null&&0<h.da,m.da){if(!ae(U,q,v=[h.ib],j=[h.hb]))return 0;m.ib=v[0],m.hb=j[0]}return m.ob=h!=null&&h.ob,m.Kb=h==null||!h.Sd,m.da&&(m.ob=m.ib<3*S/4&&m.hb<3*O/4,m.Kb=0),1}function xf(h){if(h==null)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else m=h.f.kb,h=h.height,m.O+=(h-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function Xo(h,m,v,S){if(S==null||0>=h||0>=m)return 2;if(v!=null){if(v.Da){var O=v.cd,j=v.bd,B=-2&v.v,U=-2&v.j;if(0>B||0>U||0>=O||0>=j||B+O>h||U+j>m)return 2;h=O,m=j}if(v.da){if(!ae(h,m,O=[v.ib],j=[v.hb]))return 2;h=O[0],m=j[0]}}S.width=h,S.height=m;t:{var q=S.width,K=S.height;if(h=S.S,0>=q||0>=K||!(h>=Gp&&13>h))h=2;else{if(0>=S.Rd&&S.sd==null){B=j=O=m=0;var nt=(U=q*Lw[h])*K;if(11>h||(j=(K+1)/2*(m=(q+1)/2),h==12&&(B=(O=q)*K)),(K=s(nt+2*j+B))==null){h=1;break t}S.sd=K,11>h?((q=S.f.RGBA).eb=K,q.fb=0,q.A=U,q.size=nt):((q=S.f.kb).y=K,q.O=0,q.fa=U,q.Fd=nt,q.f=K,q.N=0+nt,q.Ab=m,q.Cd=j,q.ea=K,q.W=0+nt+j,q.Db=m,q.Ed=j,h==12&&(q.F=K,q.J=0+nt+2*j),q.Tc=B,q.lb=O)}if(m=1,O=S.S,j=S.width,B=S.height,O>=Gp&&13>O)if(11>O)h=S.f.RGBA,m&=(U=Math.abs(h.A))*(B-1)+j<=h.size,m&=U>=j*Lw[O],m&=h.eb!=null;else{h=S.f.kb,U=(j+1)/2,nt=(B+1)/2,q=Math.abs(h.fa),K=Math.abs(h.Ab);var dt=Math.abs(h.Db),Y=Math.abs(h.lb),rt=Y*(B-1)+j;m&=q*(B-1)+j<=h.Fd,m&=K*(nt-1)+U<=h.Cd,m=(m&=dt*(nt-1)+U<=h.Ed)&q>=j&K>=U&dt>=U,m&=h.y!=null,m&=h.f!=null,m&=h.ea!=null,O==12&&(m&=Y>=j,m&=rt<=h.Tc,m&=h.F!=null)}else m=0;h=m?0:2}}return h!=0||v!=null&&v.fd&&(h=xf(S)),h}var wu=64,Wr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Kr=24,Qo=32,eo=8,Jo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Bt("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(h){return h},T.Predictor2=function(h,m,v){return m[v+0]},T.Predictor3=function(h,m,v){return m[v+1]},T.Predictor4=function(h,m,v){return m[v-1]},T.Predictor5=function(h,m,v){return ne(ne(h,m[v+1]),m[v+0])},T.Predictor6=function(h,m,v){return ne(h,m[v-1])},T.Predictor7=function(h,m,v){return ne(h,m[v+0])},T.Predictor8=function(h,m,v){return ne(m[v-1],m[v+0])},T.Predictor9=function(h,m,v){return ne(m[v+0],m[v+1])},T.Predictor10=function(h,m,v){return ne(ne(h,m[v-1]),ne(m[v+0],m[v+1]))},T.Predictor11=function(h,m,v){var S=m[v+0];return 0>=_e(S>>24&255,h>>24&255,(m=m[v-1])>>24&255)+_e(S>>16&255,h>>16&255,m>>16&255)+_e(S>>8&255,h>>8&255,m>>8&255)+_e(255&S,255&h,255&m)?S:h},T.Predictor12=function(h,m,v){var S=m[v+0];return(Qe((h>>24&255)+(S>>24&255)-((m=m[v-1])>>24&255))<<24|Qe((h>>16&255)+(S>>16&255)-(m>>16&255))<<16|Qe((h>>8&255)+(S>>8&255)-(m>>8&255))<<8|Qe((255&h)+(255&S)-(255&m)))>>>0},T.Predictor13=function(h,m,v){var S=m[v-1];return(Ie((h=ne(h,m[v+0]))>>24&255,S>>24&255)<<24|Ie(h>>16&255,S>>16&255)<<16|Ie(h>>8&255,S>>8&255)<<8|Ie(255&h,255&S))>>>0};var Nf=T.PredictorAdd0;T.PredictorAdd1=Me,Bt("Predictor2","PredictorAdd2"),Bt("Predictor3","PredictorAdd3"),Bt("Predictor4","PredictorAdd4"),Bt("Predictor5","PredictorAdd5"),Bt("Predictor6","PredictorAdd6"),Bt("Predictor7","PredictorAdd7"),Bt("Predictor8","PredictorAdd8"),Bt("Predictor9","PredictorAdd9"),Bt("Predictor10","PredictorAdd10"),Bt("Predictor11","PredictorAdd11"),Bt("Predictor12","PredictorAdd12"),Bt("Predictor13","PredictorAdd13");var Ic=T.PredictorAdd2;Jt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Qn,zp=T.ColorIndexInverseTransform,Sa=T.MapARGB,Ea=T.VP8LColorIndexInverseTransformAlpha,Cf=T.MapAlpha,Rf=T.VP8LPredictorsAdd=[];Rf.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var If,Lf,Zo,tl,el,Au,nl,Su,As,Ta,rn,gn,Jn,yi,no,Pf,Lc,qp,aw,ow,lw,uw,cw,hw,Df,fw,dw,pw,mw=s(511),gw=s(2041),yw=s(225),vw=s(767),_w=0,S0=gw,Hp=yw,Yr=vw,Ss=mw,Gp=0,Wp=1,bw=2,Kp=3,Yp=4,E0=5,ww=6,T0=7,x0=8,$p=9,N0=10,nP=[2,3,7],iP=[3,3,11],Aw=[280,256,256,256,40],rP=[0,1,1,1,0],sP=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],aP=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],oP=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],lP=8,C0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],R0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kf=null,uP=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cP=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Sw=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],hP=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fP=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dP=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pP=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],il=[],Ys=[],io=[],mP=1,Ew=2,rl=[],Es=[];Ot("UpsampleRgbLinePair",Yi,3),Ot("UpsampleBgrLinePair",xn,3),Ot("UpsampleRgbaLinePair",pr,4),Ot("UpsampleBgraLinePair",Ef,4),Ot("UpsampleArgbLinePair",Za,4),Ot("UpsampleRgba4444LinePair",bs,2),Ot("UpsampleRgb565LinePair",$i,2);var gP=T.UpsampleRgbLinePair,yP=T.UpsampleBgrLinePair,Tw=T.UpsampleRgbaLinePair,xw=T.UpsampleBgraLinePair,Nw=T.UpsampleArgbLinePair,Cw=T.UpsampleRgba4444LinePair,vP=T.UpsampleRgb565LinePair,Xp=16,Qp=1<<Xp-1,Of=-227,I0=482,_P=6,Rw=0,bP=s(256),wP=s(256),AP=s(256),SP=s(256),EP=s(I0-Of),TP=s(I0-Of);to("YuvToRgbRow",Yi,3),to("YuvToBgrRow",xn,3),to("YuvToRgbaRow",pr,4),to("YuvToBgraRow",Ef,4),to("YuvToArgbRow",Za,4),to("YuvToRgba4444Row",bs,2),to("YuvToRgb565Row",$i,2);var Iw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Jp=[0,2,8],xP=[8,7,6,4,4,2,2,2,1,1,1,1],NP=1;this.WebPDecodeRGBA=function(h,m,v,S,O){var j=Wp,B=new bt,U=new le;B.ba=U,U.S=j,U.width=[U.width],U.height=[U.height];var q=U.width,K=U.height,nt=new ue;if(nt==null||h==null)var dt=2;else t(nt!=null),dt=bu(h,m,v,nt.width,nt.height,nt.Pd,nt.Qd,nt.format,null);if(dt!=0?q=0:(q!=null&&(q[0]=nt.width[0]),K!=null&&(K[0]=nt.height[0]),q=1),q){U.width=U.width[0],U.height=U.height[0],S!=null&&(S[0]=U.width),O!=null&&(O[0]=U.height);t:{if(S=new cr,(O=new It).data=h,O.w=m,O.ha=v,O.kd=1,m=[0],t(O!=null),((h=bu(O.data,O.w,O.ha,null,null,null,m,null,O))==0||h==7)&&m[0]&&(h=4),(m=h)==0){if(t(B!=null),S.data=O.data,S.w=O.w+O.offset,S.ha=O.ha-O.offset,S.put=he,S.ac=Di,S.bc=zs,S.ma=B,O.xa){if((h=da())==null){B=1;break t}if(function(Y,rt){var ut=[0],_t=[0],ht=[0];e:for(;;){if(Y==null)return 0;if(rt==null)return Y.a=2,0;if(Y.l=rt,Y.a=0,ft(Y.m,rt.data,rt.w,rt.ha),!Sr(Y.m,ut,_t,ht)){Y.a=3;break e}if(Y.xb=Ew,rt.width=ut[0],rt.height=_t[0],!fs(ut[0],_t[0],1,Y,null))break e;return 1}return t(Y.a!=0),0}(h,S)){if(S=(m=Xo(S.width,S.height,B.Oa,B.ba))==0){e:{S=h;n:for(;;){if(S==null){S=0;break e}if(t(S.s.yc!=null),t(S.s.Ya!=null),t(0<S.s.Wb),t((v=S.l)!=null),t((O=v.ma)!=null),S.xb!=0){if(S.ca=O.ba,S.tb=O.tb,t(S.ca!=null),!Tf(O.Oa,v,Kp)){S.a=2;break n}if(!ds(S,v.width)||v.da)break n;if((v.da||ce(S.ca.S))&&mt(),11>S.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),S.ca.f.kb.F!=null&&mt()),S.Pb&&0<S.s.ua&&S.s.vb.X==null&&!H(S.s.vb,S.s.Wa.Xa)){S.a=1;break n}S.xb=0}if(!xr(S,S.V,S.Ba,S.c,S.i,v.o,qs))break n;O.Dc=S.Ma,S=1;break e}t(S.a!=0),S=0}S=!S}S&&(m=h.a)}else m=h.a}else{if((h=new Cr)==null){B=1;break t}if(h.Fa=O.na,h.P=O.P,h.qc=O.Sa,Rr(h,S)){if((m=Xo(S.width,S.height,B.Oa,B.ba))==0){if(h.Aa=0,v=B.Oa,t((O=h)!=null),v!=null){if(0<(q=0>(q=v.Md)?0:100<q?255:255*q/100)){for(K=nt=0;4>K;++K)12>(dt=O.pb[K]).lc&&(dt.ia=q*xP[0>dt.lc?0:dt.lc]>>3),nt|=dt.ia;nt&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=v.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(Y,rt){if(Y==null)return 0;if(rt==null)return wn(Y,2,"NULL VP8Io parameter in VP8Decode().");if(!Y.cb&&!Rr(Y,rt))return 0;if(t(Y.cb),rt.ac==null||rt.ac(rt)){rt.ob&&(Y.L=0);var ut=Jp[Y.L];if(Y.L==2?(Y.yb=0,Y.zb=0):(Y.yb=rt.v-ut>>4,Y.zb=rt.j-ut>>4,0>Y.yb&&(Y.yb=0),0>Y.zb&&(Y.zb=0)),Y.Va=rt.o+15+ut>>4,Y.Hb=rt.va+15+ut>>4,Y.Hb>Y.za&&(Y.Hb=Y.za),Y.Va>Y.Ub&&(Y.Va=Y.Ub),0<Y.L){var _t=Y.ed;for(ut=0;4>ut;++ut){var ht;if(Y.Qa.Cb){var wt=Y.Qa.Lb[ut];Y.Qa.Fb||(wt+=_t.Tb)}else wt=_t.Tb;for(ht=0;1>=ht;++ht){var At=Y.gd[ut][ht],Dt=wt;if(_t.Pc&&(Dt+=_t.vd[0],ht&&(Dt+=_t.od[0])),0<(Dt=0>Dt?0:63<Dt?63:Dt)){var Lt=Dt;0<_t.wb&&(Lt=4<_t.wb?Lt>>2:Lt>>1)>9-_t.wb&&(Lt=9-_t.wb),1>Lt&&(Lt=1),At.dd=Lt,At.tc=2*Dt+Lt,At.ld=40<=Dt?2:15<=Dt?1:0}else At.tc=0;At.La=ht}}}ut=0}else wn(Y,6,"Frame setup failed"),ut=Y.a;if(ut=ut==0){if(ut){Y.$c=0,0<Y.Aa||(Y.Ic=NP);e:{ut=Y.Ic,_t=4*(Lt=Y.za);var te=32*Lt,Gt=Lt+1,Pe=0<Y.L?Lt*(0<Y.Aa?2:1):0,Xt=(Y.Aa==2?2:1)*Lt;if((At=_t+832+(ht=3*(16*ut+Jp[Y.L])/2*te)+(wt=Y.Fa!=null&&0<Y.Fa.length?Y.Kc.c*Y.Kc.i:0))!=At)ut=0;else{if(At>Y.Vb){if(Y.Vb=0,Y.Ec=s(At),Y.Fc=0,Y.Ec==null){ut=wn(Y,1,"no memory during frame initialization.");break e}Y.Vb=At}At=Y.Ec,Dt=Y.Fc,Y.Ac=At,Y.Bc=Dt,Dt+=_t,Y.Gd=a(te,du),Y.Hd=0,Y.rb=a(Gt+1,Uo),Y.sb=1,Y.wa=Pe?a(Pe,ur):null,Y.Y=0,Y.D.Nb=0,Y.D.wa=Y.wa,Y.D.Y=Y.Y,0<Y.Aa&&(Y.D.Y+=Lt),t(!0),Y.oc=At,Y.pc=Dt,Dt+=832,Y.ya=a(Xt,$a),Y.aa=0,Y.D.ya=Y.ya,Y.D.aa=Y.aa,Y.Aa==2&&(Y.D.aa+=Lt),Y.R=16*Lt,Y.B=8*Lt,Lt=(te=Jp[Y.L])*Y.R,te=te/2*Y.B,Y.sa=At,Y.ta=Dt+Lt,Y.qa=Y.sa,Y.ra=Y.ta+16*ut*Y.R+te,Y.Ha=Y.qa,Y.Ia=Y.ra+8*ut*Y.B+te,Y.$c=0,Dt+=ht,Y.mb=wt?At:null,Y.nb=wt?Dt:null,t(Dt+wt<=Y.Fc+Y.Vb),Xa(Y),r(Y.Ac,Y.Bc,0,_t),ut=1}}if(ut){if(rt.ka=0,rt.y=Y.sa,rt.O=Y.ta,rt.f=Y.qa,rt.N=Y.ra,rt.ea=Y.Ha,rt.Vd=Y.Ia,rt.fa=Y.R,rt.Rc=Y.B,rt.F=null,rt.J=0,!_w){for(ut=-255;255>=ut;++ut)mw[255+ut]=0>ut?-ut:ut;for(ut=-1020;1020>=ut;++ut)gw[1020+ut]=-128>ut?-128:127<ut?127:ut;for(ut=-112;112>=ut;++ut)yw[112+ut]=-16>ut?-16:15<ut?15:ut;for(ut=-255;510>=ut;++ut)vw[255+ut]=0>ut?0:255<ut?255:ut;_w=1}nl=Ir,Su=wf,Ta=gs,rn=wc,gn=ga,As=bf,Jn=_u,yi=Ks,no=k,Pf=W,Lc=$o,qp=y,aw=J,ow=ot,lw=wa,uw=Aa,cw=Cc,hw=vu,Ys[0]=Ja,Ys[1]=Ac,Ys[2]=Ho,Ys[3]=Tc,Ys[4]=hr,Ys[5]=gu,Ys[6]=ys,Ys[7]=An,Ys[8]=yu,Ys[9]=Go,il[0]=Af,il[1]=Ec,il[2]=qo,il[3]=Ws,il[4]=Qa,il[5]=Lr,il[6]=Sf,io[0]=Wo,io[1]=Sc,io[2]=va,io[3]=xc,io[4]=Ko,io[5]=Pr,io[6]=Nc,ut=1}else ut=0}ut&&(ut=function(We,vi){for(We.M=0;We.M<We.Va;++We.M){var De,Qt=We.Jc[We.M&We.Xb],Mt=We.m,Zn=We;for(De=0;De<Zn.za;++De){var Ce=Mt,Ye=Zn,Pn=Ye.Ac,ki=Ye.Bc+4*De,mr=Ye.zc,Gn=Ye.ya[Ye.aa+De];if(Ye.Qa.Bb?Gn.$b=St(Ce,Ye.Pa.jb[0])?2+St(Ce,Ye.Pa.jb[2]):St(Ce,Ye.Pa.jb[1]):Gn.$b=0,Ye.kc&&(Gn.Ad=St(Ce,Ye.Bd)),Gn.Za=!St(Ce,145)+0,Gn.Za){var Xi=Gn.Ob,gr=0;for(Ye=0;4>Ye;++Ye){var _i,Xe=mr[0+Ye];for(_i=0;4>_i;++_i){Xe=fP[Pn[ki+_i]][Xe];for(var an=Sw[St(Ce,Xe[0])];0<an;)an=Sw[2*an+St(Ce,Xe[an])];Xe=-an,Pn[ki+_i]=Xe}i(Xi,gr,Pn,ki,4),gr+=4,mr[0+Ye]=Xe}}else Xe=St(Ce,156)?St(Ce,128)?1:3:St(Ce,163)?2:0,Gn.Ob[0]=Xe,r(Pn,ki,Xe,4),r(mr,0,Xe,4);Gn.Dd=St(Ce,142)?St(Ce,114)?St(Ce,183)?1:3:2:0}if(Zn.m.Ka)return wn(We,7,"Premature end-of-partition0 encountered.");for(;We.ja<We.za;++We.ja){if(Zn=Qt,Ce=(Mt=We).rb[Mt.sb-1],Pn=Mt.rb[Mt.sb+Mt.ja],De=Mt.ya[Mt.aa+Mt.ja],ki=Mt.kc?De.Ad:0)Ce.la=Pn.la=0,De.Za||(Ce.Na=Pn.Na=0),De.Hc=0,De.Gc=0,De.ia=0;else{var Wn,on;if(Ce=Pn,Pn=Zn,ki=Mt.Pa.Xc,mr=Mt.ya[Mt.aa+Mt.ja],Gn=Mt.pb[mr.$b],Ye=mr.ad,Xi=0,gr=Mt.rb[Mt.sb-1],Xe=_i=0,r(Ye,Xi,0,384),mr.Za)var Oi=0,$s=ki[3];else{an=s(16);var ti=Ce.Na+gr.Na;if(ti=kf(Pn,ki[1],ti,Gn.Eb,0,an,0),Ce.Na=gr.Na=(0<ti)+0,1<ti)nl(an,0,Ye,Xi);else{var Dr=an[0]+3>>3;for(an=0;256>an;an+=16)Ye[Xi+an]=Dr}Oi=1,$s=ki[0]}var yn=15&Ce.la,bi=15&gr.la;for(an=0;4>an;++an){var $r=1&bi;for(Dr=on=0;4>Dr;++Dr)yn=yn>>1|($r=(ti=kf(Pn,$s,ti=$r+(1&yn),Gn.Sc,Oi,Ye,Xi))>Oi)<<7,on=on<<2|(3<ti?3:1<ti?2:Ye[Xi+0]!=0),Xi+=16;yn>>=4,bi=bi>>1|$r<<7,_i=(_i<<8|on)>>>0}for($s=yn,Oi=bi>>4,Wn=0;4>Wn;Wn+=2){for(on=0,yn=Ce.la>>4+Wn,bi=gr.la>>4+Wn,an=0;2>an;++an){for($r=1&bi,Dr=0;2>Dr;++Dr)ti=$r+(1&yn),yn=yn>>1|($r=0<(ti=kf(Pn,ki[2],ti,Gn.Qc,0,Ye,Xi)))<<3,on=on<<2|(3<ti?3:1<ti?2:Ye[Xi+0]!=0),Xi+=16;yn>>=2,bi=bi>>1|$r<<5}Xe|=on<<4*Wn,$s|=yn<<4<<Wn,Oi|=(240&bi)<<Wn}Ce.la=$s,gr.la=Oi,mr.Hc=_i,mr.Gc=Xe,mr.ia=43690&Xe?0:Gn.ia,ki=!(_i|Xe)}if(0<Mt.L&&(Mt.wa[Mt.Y+Mt.ja]=Mt.gd[De.$b][De.Za],Mt.wa[Mt.Y+Mt.ja].La|=!ki),Zn.Ka)return wn(We,7,"Premature end-of-file encountered.")}if(Xa(We),Mt=vi,Zn=1,De=(Qt=We).D,Ce=0<Qt.L&&Qt.M>=Qt.zb&&Qt.M<=Qt.Va,Qt.Aa==0)e:{if(De.M=Qt.M,De.uc=Ce,ws(Qt,De),Zn=1,De=(on=Qt.D).Nb,Ce=(Xe=Jp[Qt.L])*Qt.R,Pn=Xe/2*Qt.B,an=16*De*Qt.R,Dr=8*De*Qt.B,ki=Qt.sa,mr=Qt.ta-Ce+an,Gn=Qt.qa,Ye=Qt.ra-Pn+Dr,Xi=Qt.Ha,gr=Qt.Ia-Pn+Dr,bi=(yn=on.M)==0,_i=yn>=Qt.Va-1,Qt.Aa==2&&ws(Qt,on),on.uc)for($r=(ti=Qt).D.M,t(ti.D.uc),on=ti.yb;on<ti.Hb;++on){Oi=on,$s=$r;var yr=(Xr=(Mi=ti).D).Nb;Wn=Mi.R;var Xr=Xr.wa[Xr.Y+Oi],Qr=Mi.sa,kr=Mi.ta+16*yr*Wn+16*Oi,Jr=Xr.dd,Nn=Xr.tc;if(Nn!=0)if(t(3<=Nn),Mi.L==1)0<Oi&&uw(Qr,kr,Wn,Nn+4),Xr.La&&hw(Qr,kr,Wn,Nn),0<$s&&lw(Qr,kr,Wn,Nn+4),Xr.La&&cw(Qr,kr,Wn,Nn);else{var Zr=Mi.B,Xs=Mi.qa,Eu=Mi.ra+8*yr*Zr+8*Oi,ro=Mi.Ha,Mi=Mi.Ia+8*yr*Zr+8*Oi;yr=Xr.ld,0<Oi&&(yi(Qr,kr,Wn,Nn+4,Jr,yr),Pf(Xs,Eu,ro,Mi,Zr,Nn+4,Jr,yr)),Xr.La&&(qp(Qr,kr,Wn,Nn,Jr,yr),ow(Xs,Eu,ro,Mi,Zr,Nn,Jr,yr)),0<$s&&(Jn(Qr,kr,Wn,Nn+4,Jr,yr),no(Xs,Eu,ro,Mi,Zr,Nn+4,Jr,yr)),Xr.La&&(Lc(Qr,kr,Wn,Nn,Jr,yr),aw(Xs,Eu,ro,Mi,Zr,Nn,Jr,yr))}}if(Qt.ia&&alert("todo:DitherRow"),Mt.put!=null){if(on=16*yn,yn=16*(yn+1),bi?(Mt.y=Qt.sa,Mt.O=Qt.ta+an,Mt.f=Qt.qa,Mt.N=Qt.ra+Dr,Mt.ea=Qt.Ha,Mt.W=Qt.Ia+Dr):(on-=Xe,Mt.y=ki,Mt.O=mr,Mt.f=Gn,Mt.N=Ye,Mt.ea=Xi,Mt.W=gr),_i||(yn-=Xe),yn>Mt.o&&(yn=Mt.o),Mt.F=null,Mt.J=null,Qt.Fa!=null&&0<Qt.Fa.length&&on<yn&&(Mt.J=f(Qt,Mt,on,yn-on),Mt.F=Qt.mb,Mt.F==null&&Mt.F.length==0)){Zn=wn(Qt,3,"Could not decode alpha data.");break e}on<Mt.j&&(Xe=Mt.j-on,on=Mt.j,t(!(1&Xe)),Mt.O+=Qt.R*Xe,Mt.N+=Qt.B*(Xe>>1),Mt.W+=Qt.B*(Xe>>1),Mt.F!=null&&(Mt.J+=Mt.width*Xe)),on<yn&&(Mt.O+=Mt.v,Mt.N+=Mt.v>>1,Mt.W+=Mt.v>>1,Mt.F!=null&&(Mt.J+=Mt.v),Mt.ka=on-Mt.j,Mt.U=Mt.va-Mt.v,Mt.T=yn-on,Zn=Mt.put(Mt))}De+1!=Qt.Ic||_i||(i(Qt.sa,Qt.ta-Ce,ki,mr+16*Qt.R,Ce),i(Qt.qa,Qt.ra-Pn,Gn,Ye+8*Qt.B,Pn),i(Qt.Ha,Qt.Ia-Pn,Xi,gr+8*Qt.B,Pn))}if(!Zn)return wn(We,6,"Output aborted.")}return 1}(Y,rt)),rt.bc!=null&&rt.bc(rt),ut&=1}return ut?(Y.cb=0,ut):0})(h,S)||(m=h.a)}}else m=h.a}m==0&&B.Oa!=null&&B.Oa.fd&&(m=xf(B.ba))}B=m}j=B!=0?null:11>j?U.f.RGBA.eb:U.f.kb.y}else j=null;return j};var Lw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,V){for(var A="",L=0;L<4;L++)A+=String.fromCharCode(T[V++]);return A}function c(T,V){return T[V+0]|T[V+1]<<8}function p(T,V){return(T[V+0]|T[V+1]<<8|T[V+2]<<16)>>>0}function g(T,V){return(T[V+0]|T[V+1]<<8|T[V+2]<<16|T[V+3]<<24)>>>0}new l;var d=[0],w=[0],x=[],I=new l,_=e,E=function(T,V){var A={},L=0,P=!1,Q=0,pt=0;if(A.frames=[],!function(F,$){for(var X=0;X<4;X++)if(F[$+X]!="RIFF".charCodeAt(X))return!0;return!1}(T,V)){for(g(T,V+=4),V+=8;V<T.length;){var it=u(T,V),at=g(T,V+=4);V+=4;var Z=at+(1&at);switch(it){case"VP8 ":case"VP8L":A.frames[L]===void 0&&(A.frames[L]={}),(Tt=A.frames[L]).src_off=P?pt:V-8,Tt.src_size=Q+at+8,L++,P&&(P=!1,Q=0,pt=0);break;case"VP8X":(Tt=A.header={}).feature_flags=T[V];var ft=V+4;Tt.canvas_width=1+p(T,ft),ft+=3,Tt.canvas_height=1+p(T,ft),ft+=3;break;case"ALPH":P=!0,Q=Z+8,pt=V-8;break;case"ANIM":(Tt=A.header).bgcolor=g(T,V),ft=V+4,Tt.loop_count=c(T,ft),ft+=2;break;case"ANMF":var Nt,Tt;(Tt=A.frames[L]={}).offset_x=2*p(T,V),V+=3,Tt.offset_y=2*p(T,V),V+=3,Tt.width=1+p(T,V),V+=3,Tt.height=1+p(T,V),V+=3,Tt.duration=p(T,V),V+=3,Nt=T[V++],Tt.dispose=1&Nt,Tt.blend=Nt>>1&1}it!="ANMF"&&(V+=Z)}return A}}(_,0);E.response=_,E.rgbaoutput=!0,E.dataurl=!1;var C=E.header?E.header:null,D=E.frames?E.frames:null;if(C){C.loop_counter=C.loop_count,d=[C.canvas_height],w=[C.canvas_width];for(var G=0;G<D.length&&D[G].blend!=0;G++);}var et=D[0],M=I.WebPDecodeRGBA(_,et.src_off,et.src_size,w,d);et.rgba=M,et.imgwidth=w[0],et.imgheight=d[0];for(var N=0;N<w[0]*d[0]*4;N++)x[N]=M[N];return this.width=w,this.height=d,this.data=x,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function n$(){var e,t=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function i$(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,n,i,r,s,a,o,l,u,c=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new a,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new a,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var p=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=F;Object.defineProperty(this,"pdf",{get:function(){return $}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(H){X=!!H}});var tt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return tt},set:function(H){tt=!!H}});var st=0;Object.defineProperty(this,"posX",{get:function(){return st},set:function(H){isNaN(H)||(st=H)}});var ct=0;Object.defineProperty(this,"posY",{get:function(){return ct},set:function(H){isNaN(H)||(ct=H)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(H){var Vt;typeof H=="number"?Vt=[H,H,H,H]:((Vt=new Array(4))[0]=H[0],Vt[1]=H.length>=2?H[1]:Vt[0],Vt[2]=H.length>=3?H[2]:Vt[0],Vt[3]=H.length>=4?H[3]:Vt[1]),u.margin=Vt}});var gt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return gt},set:function(H){gt=H}});var vt=0;Object.defineProperty(this,"lastBreak",{get:function(){return vt},set:function(H){vt=H}});var St=[];Object.defineProperty(this,"pageBreaks",{get:function(){return St},set:function(H){St=H}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(H){H instanceof c&&(u=H)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(H){u.path=H}});var kt=[];Object.defineProperty(this,"ctxStack",{get:function(){return kt},set:function(H){kt=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var Vt;Vt=g(H),this.ctx.fillStyle=Vt.style,this.ctx.isFillTransparent=Vt.a===0,this.ctx.fillOpacity=Vt.a,this.pdf.setFillColor(Vt.r,Vt.g,Vt.b,{a:Vt.a}),this.pdf.setTextColor(Vt.r,Vt.g,Vt.b,{a:Vt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var Vt=g(H);this.ctx.strokeStyle=Vt.style,this.ctx.isStrokeTransparent=Vt.a===0,this.ctx.strokeOpacity=Vt.a,Vt.a===0?this.pdf.setDrawColor(255,255,255):(Vt.a,this.pdf.setDrawColor(Vt.r,Vt.g,Vt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var Ft=null,jt=null,Zt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Zt},set:function(H){Ft=null,jt=null,Zt=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var Vt;if(this.ctx.font=H,(Vt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(H))!==null){var Ae=Vt[1];Vt[2];var ae=Vt[3],Et=Vt[4];Vt[5];var qt=Vt[6],Bt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Et)[2];Et=Math.floor(Bt==="px"?parseFloat(Et)*this.pdf.internal.scaleFactor:Bt==="em"?parseFloat(Et)*this.pdf.getFontSize():parseFloat(Et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Et);var oe=function(Jt){var Fn,Oe,xe=[],Ne=Jt.trim();if(Ne==="")return gy;if(Ne in hT)return[hT[Ne]];for(;Ne!=="";){switch(Oe=null,Fn=(Ne=dT(Ne)).charAt(0)){case'"':case"'":Oe=XY(Ne.substring(1),Fn);break;default:Oe=QY(Ne)}if(Oe===null||(xe.push(Oe[0]),(Ne=dT(Oe[1]))!==""&&Ne.charAt(0)!==","))return gy;Ne=Ne.replace(/^,/,"")}return xe}(qt);if(this.fontFaces){var ne=function(Jt,Fn){var Oe=Jt.getFontList(),xe=JSON.stringify(Oe);if(Ft===null||jt!==xe){var Ne=function(Je){var ie=[];return Object.keys(Je).forEach(function(tn){Je[tn].forEach(function(ce){var de=null;switch(ce){case"bold":de={family:tn,weight:"bold"};break;case"italic":de={family:tn,style:"italic"};break;case"bolditalic":de={family:tn,weight:"bold",style:"italic"};break;case"":case"normal":de={family:tn}}de!==null&&(de.ref={name:tn,style:ce},ie.push(de))})}),ie}(Oe);Ft=function(Je){for(var ie={},tn=0;tn<Je.length;++tn){var ce=my(Je[tn]),de=ce.family,pn=ce.stretch,le=ce.style,ue=ce.weight;ie[de]=ie[de]||{},ie[de][pn]=ie[de][pn]||{},ie[de][pn][le]=ie[de][pn][le]||{},ie[de][pn][le][ue]=ce}return ie}(Ne.concat(Fn)),jt=xe}return Ft}(this.pdf,this.fontFaces),Qe=oe.map(function(Jt){return{family:Jt,stretch:"normal",weight:ae,style:Ae}}),Ie=function(Jt,Fn,Oe){for(var xe=(Oe=Oe||{}).defaultFontFamily||"times",Ne=Object.assign({},$Y,Oe.genericFontFamilies||{}),Je=null,ie=null,tn=0;tn<Fn.length;++tn)if(Ne[(Je=my(Fn[tn])).family]&&(Je.family=Ne[Je.family]),Jt.hasOwnProperty(Je.family)){ie=Jt[Je.family];break}if(!(ie=ie||Jt[xe]))throw new Error("Could not find a font-family for the rule '"+fT(Je)+"' and default family '"+xe+"'.");if(ie=function(ce,de){if(de[ce])return de[ce];var pn=E5[ce],le=pn<=E5.normal?-1:1,ue=cT(de,ML,pn,le);if(!ue)throw new Error("Could not find a matching font-stretch value for "+ce);return ue}(Je.stretch,ie),ie=function(ce,de){if(de[ce])return de[ce];for(var pn=OL[ce],le=0;le<pn.length;++le)if(de[pn[le]])return de[pn[le]];throw new Error("Could not find a matching font-style for "+ce)}(Je.style,ie),!(ie=function(ce,de){if(de[ce])return de[ce];if(ce===400&&de[500])return de[500];if(ce===500&&de[400])return de[400];var pn=YY[ce],le=cT(de,VL,pn,ce<400?-1:1);if(!le)throw new Error("Could not find a matching font-weight for value "+ce);return le}(Je.weight,ie)))throw new Error("Failed to resolve a font for the rule '"+fT(Je)+"'.");return ie}(ne,Qe);this.pdf.setFont(Ie.ref.name,Ie.ref.style)}else{var _e="";(ae==="bold"||parseInt(ae,10)>=700||Ae==="bold")&&(_e="bold"),Ae==="italic"&&(_e+="italic"),_e.length===0&&(_e="normal");for(var Me="",ke={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},$t=0;$t<oe.length;$t++){if(this.pdf.internal.getFont(oe[$t],_e,{noFallback:!0,disableWarning:!0})!==void 0){Me=oe[$t];break}if(_e==="bolditalic"&&this.pdf.internal.getFont(oe[$t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Me=oe[$t],_e="bold";else if(this.pdf.internal.getFont(oe[$t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Me=oe[$t],_e="normal";break}}if(Me===""){for(var Se=0;Se<oe.length;Se++)if(ke[oe[Se]]){Me=ke[oe[Se]];break}}Me=Me===""?"Times":Me,this.pdf.setFont(Me,_e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,Tt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,Tt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};p.prototype.setLineDash=function(F){this.lineDash=F},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){D.call(this,"fill",!1)},p.prototype.stroke=function(){D.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(F,$){if(isNaN(F)||isNaN($))throw vn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new a(F,$));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(F,$)},p.prototype.closePath=function(){var F=new a(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&cn(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){F=new a(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(F.x,F.y)},p.prototype.lineTo=function(F,$){if(isNaN(F)||isNaN($))throw vn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new a(F,$));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(X.x,X.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},p.prototype.quadraticCurveTo=function(F,$,X,tt){if(isNaN(X)||isNaN(tt)||isNaN(F)||isNaN($))throw vn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var st=this.ctx.transform.applyToPoint(new a(X,tt)),ct=this.ctx.transform.applyToPoint(new a(F,$));this.path.push({type:"qct",x1:ct.x,y1:ct.y,x:st.x,y:st.y}),this.ctx.lastPoint=new a(st.x,st.y)},p.prototype.bezierCurveTo=function(F,$,X,tt,st,ct){if(isNaN(st)||isNaN(ct)||isNaN(F)||isNaN($)||isNaN(X)||isNaN(tt))throw vn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var gt=this.ctx.transform.applyToPoint(new a(st,ct)),vt=this.ctx.transform.applyToPoint(new a(F,$)),St=this.ctx.transform.applyToPoint(new a(X,tt));this.path.push({type:"bct",x1:vt.x,y1:vt.y,x2:St.x,y2:St.y,x:gt.x,y:gt.y}),this.ctx.lastPoint=new a(gt.x,gt.y)},p.prototype.arc=function(F,$,X,tt,st,ct){if(isNaN(F)||isNaN($)||isNaN(X)||isNaN(tt)||isNaN(st))throw vn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ct=!!ct,!this.ctx.transform.isIdentity){var gt=this.ctx.transform.applyToPoint(new a(F,$));F=gt.x,$=gt.y;var vt=this.ctx.transform.applyToPoint(new a(0,X)),St=this.ctx.transform.applyToPoint(new a(0,0));X=Math.sqrt(Math.pow(vt.x-St.x,2)+Math.pow(vt.y-St.y,2))}Math.abs(st-tt)>=2*Math.PI&&(tt=0,st=2*Math.PI),this.path.push({type:"arc",x:F,y:$,radius:X,startAngle:tt,endAngle:st,counterclockwise:ct})},p.prototype.arcTo=function(F,$,X,tt,st){throw new Error("arcTo not implemented.")},p.prototype.rect=function(F,$,X,tt){if(isNaN(F)||isNaN($)||isNaN(X)||isNaN(tt))throw vn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,$),this.lineTo(F+X,$),this.lineTo(F+X,$+tt),this.lineTo(F,$+tt),this.lineTo(F,$),this.lineTo(F+X,$),this.lineTo(F,$)},p.prototype.fillRect=function(F,$,X,tt){if(isNaN(F)||isNaN($)||isNaN(X)||isNaN(tt))throw vn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var st={};this.lineCap!=="butt"&&(st.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(st.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,$,X,tt),this.fill(),st.hasOwnProperty("lineCap")&&(this.lineCap=st.lineCap),st.hasOwnProperty("lineJoin")&&(this.lineJoin=st.lineJoin)}},p.prototype.strokeRect=function(F,$,X,tt){if(isNaN(F)||isNaN($)||isNaN(X)||isNaN(tt))throw vn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(F,$,X,tt),this.stroke())},p.prototype.clearRect=function(F,$,X,tt){if(isNaN(F)||isNaN($)||isNaN(X)||isNaN(tt))throw vn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,$,X,tt))},p.prototype.save=function(F){F=typeof F!="boolean"||F;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage($),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var tt=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=tt}},p.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage($),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(F){var $,X,tt,st;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))$=0,X=0,tt=0,st=0;else{var ct=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ct!==null)$=parseInt(ct[1]),X=parseInt(ct[2]),tt=parseInt(ct[3]),st=1;else if((ct=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)$=parseInt(ct[1]),X=parseInt(ct[2]),tt=parseInt(ct[3]),st=parseFloat(ct[4]);else{if(st=1,typeof F=="string"&&F.charAt(0)!=="#"){var gt=new CL(F);F=gt.ok?gt.toHex():"#000000"}F.length===4?($=F.substring(1,2),$+=$,X=F.substring(2,3),X+=X,tt=F.substring(3,4),tt+=tt):($=F.substring(1,3),X=F.substring(3,5),tt=F.substring(5,7)),$=parseInt($,16),X=parseInt(X,16),tt=parseInt(tt,16)}}return{r:$,g:X,b:tt,a:st,style:F}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(F,$,X,tt){if(isNaN($)||isNaN(X)||typeof F!="string")throw vn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(tt=isNaN(tt)?void 0:tt,!d.call(this)){var st=Z(this.ctx.transform.rotation),ct=this.ctx.transform.scaleX;L.call(this,{text:F,x:$,y:X,scale:ct,angle:st,align:this.textAlign,maxWidth:tt})}},p.prototype.strokeText=function(F,$,X,tt){if(isNaN($)||isNaN(X)||typeof F!="string")throw vn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){tt=isNaN(tt)?void 0:tt;var st=Z(this.ctx.transform.rotation),ct=this.ctx.transform.scaleX;L.call(this,{text:F,x:$,y:X,scale:ct,renderingMode:"stroke",angle:st,align:this.textAlign,maxWidth:tt})}},p.prototype.measureText=function(F){if(typeof F!="string")throw vn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,X=this.pdf.internal.scaleFactor,tt=$.internal.getFontSize(),st=$.getStringUnitWidth(F)*tt/$.internal.scaleFactor;return new function(ct){var gt=(ct=ct||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return gt}}),this}({width:st*=Math.round(96*X/72*1e4)/1e4})},p.prototype.scale=function(F,$){if(isNaN(F)||isNaN($))throw vn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(F,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},p.prototype.rotate=function(F){if(isNaN(F))throw vn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply($)},p.prototype.translate=function(F,$){if(isNaN(F)||isNaN($))throw vn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,F,$);this.ctx.transform=this.ctx.transform.multiply(X)},p.prototype.transform=function(F,$,X,tt,st,ct){if(isNaN(F)||isNaN($)||isNaN(X)||isNaN(tt)||isNaN(st)||isNaN(ct))throw vn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var gt=new l(F,$,X,tt,st,ct);this.ctx.transform=this.ctx.transform.multiply(gt)},p.prototype.setTransform=function(F,$,X,tt,st,ct){F=isNaN(F)?1:F,$=isNaN($)?0:$,X=isNaN(X)?0:X,tt=isNaN(tt)?1:tt,st=isNaN(st)?0:st,ct=isNaN(ct)?0:ct,this.ctx.transform=new l(F,$,X,tt,st,ct)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(F,$,X,tt,st,ct,gt,vt,St){var kt=this.pdf.getImageProperties(F),Ft=1,jt=1,Zt=1,H=1;tt!==void 0&&vt!==void 0&&(Zt=vt/tt,H=St/st,Ft=kt.width/tt*vt/tt,jt=kt.height/st*St/st),ct===void 0&&(ct=$,gt=X,$=0,X=0),tt!==void 0&&vt===void 0&&(vt=tt,St=st),tt===void 0&&vt===void 0&&(vt=kt.width,St=kt.height);var Vt=this.ctx.transform.decompose(),Ae=Z(Vt.rotate.shx),ae=new l,Et=(ae=(ae=(ae=ae.multiply(Vt.translate)).multiply(Vt.skew)).multiply(Vt.scale)).applyToRectangle(new o(ct-$*Zt,gt-X*H,tt*Ft,st*jt));if(this.autoPaging){for(var qt,Bt=I.call(this,Et),oe=[],ne=0;ne<Bt.length;ne+=1)oe.indexOf(Bt[ne])===-1&&oe.push(Bt[ne]);C(oe);for(var Qe=oe[0],Ie=oe[oe.length-1],_e=Qe;_e<Ie+1;_e++){this.pdf.setPage(_e);var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ke=_e===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=_e===1?0:$t+(_e-2)*Se;if(this.ctx.clip_path.length!==0){var Fn=this.path;qt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(qt,this.posX+this.margin[3],-Jt+ke+this.ctx.prevPageLastElemOffset),G.call(this,"fill",!0),this.path=Fn}var Oe=JSON.parse(JSON.stringify(Et));Oe=E([Oe],this.posX+this.margin[3],-Jt+ke+this.ctx.prevPageLastElemOffset)[0];var xe=(_e>Qe||_e<Ie)&&x.call(this);xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,Se,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,Ae),xe&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(F,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,Ae)};var I=function(F,$,X){var tt=[];$=$||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var st=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":tt.push(Math.floor((F.y+st)/X)+1);break;case"arc":tt.push(Math.floor((F.y+st-F.radius)/X)+1),tt.push(Math.floor((F.y+st+F.radius)/X)+1);break;case"qct":var ct=ft(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);tt.push(Math.floor((ct.y+st)/X)+1),tt.push(Math.floor((ct.y+ct.h+st)/X)+1);break;case"bct":var gt=Nt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);tt.push(Math.floor((gt.y+st)/X)+1),tt.push(Math.floor((gt.y+gt.h+st)/X)+1);break;case"rect":tt.push(Math.floor((F.y+st)/X)+1),tt.push(Math.floor((F.y+F.h+st)/X)+1)}for(var vt=0;vt<tt.length;vt+=1)for(;this.pdf.internal.getNumberOfPages()<tt[vt];)_.call(this);return tt},_=function(){var F=this.fillStyle,$=this.strokeStyle,X=this.font,tt=this.lineCap,st=this.lineWidth,ct=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=$,this.font=X,this.lineCap=tt,this.lineWidth=st,this.lineJoin=ct},E=function(F,$,X){for(var tt=0;tt<F.length;tt++)switch(F[tt].type){case"bct":F[tt].x2+=$,F[tt].y2+=X;case"qct":F[tt].x1+=$,F[tt].y1+=X;default:F[tt].x+=$,F[tt].y+=X}return F},C=function(F){return F.sort(function($,X){return $-X})},D=function(F,$){var X=this.fillStyle,tt=this.strokeStyle,st=this.lineCap,ct=this.lineWidth,gt=Math.abs(ct*this.ctx.transform.scaleX),vt=this.lineJoin;if(this.autoPaging){for(var St,kt,Ft=JSON.parse(JSON.stringify(this.path)),jt=JSON.parse(JSON.stringify(this.path)),Zt=[],H=0;H<jt.length;H++)if(jt[H].x!==void 0)for(var Vt=I.call(this,jt[H]),Ae=0;Ae<Vt.length;Ae+=1)Zt.indexOf(Vt[Ae])===-1&&Zt.push(Vt[Ae]);for(var ae=0;ae<Zt.length;ae++)for(;this.pdf.internal.getNumberOfPages()<Zt[ae];)_.call(this);C(Zt);for(var Et=Zt[0],qt=Zt[Zt.length-1],Bt=Et;Bt<qt+1;Bt++){this.pdf.setPage(Bt),this.fillStyle=X,this.strokeStyle=tt,this.lineCap=st,this.lineWidth=gt,this.lineJoin=vt;var oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ne=Bt===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_e=Bt===1?0:Qe+(Bt-2)*Ie;if(this.ctx.clip_path.length!==0){var Me=this.path;St=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(St,this.posX+this.margin[3],-_e+ne+this.ctx.prevPageLastElemOffset),G.call(this,F,!0),this.path=Me}if(kt=JSON.parse(JSON.stringify(Ft)),this.path=E(kt,this.posX+this.margin[3],-_e+ne+this.ctx.prevPageLastElemOffset),$===!1||Bt===0){var ke=(Bt>Et||Bt<qt)&&x.call(this);ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],oe,Ie,null).clip().discardPath()),G.call(this,F,$),ke&&this.pdf.restoreGraphicsState()}this.lineWidth=ct}this.path=Ft}else this.lineWidth=gt,G.call(this,F,$),this.lineWidth=ct},G=function(F,$){if((F!=="stroke"||$||!w.call(this))&&(F==="stroke"||$||!d.call(this))){for(var X,tt,st=[],ct=this.path,gt=0;gt<ct.length;gt++){var vt=ct[gt];switch(vt.type){case"begin":st.push({begin:!0});break;case"close":st.push({close:!0});break;case"mt":st.push({start:vt,deltas:[],abs:[]});break;case"lt":var St=st.length;if(ct[gt-1]&&!isNaN(ct[gt-1].x)&&(X=[vt.x-ct[gt-1].x,vt.y-ct[gt-1].y],St>0)){for(;St>=0;St--)if(st[St-1].close!==!0&&st[St-1].begin!==!0){st[St-1].deltas.push(X),st[St-1].abs.push(vt);break}}break;case"bct":X=[vt.x1-ct[gt-1].x,vt.y1-ct[gt-1].y,vt.x2-ct[gt-1].x,vt.y2-ct[gt-1].y,vt.x-ct[gt-1].x,vt.y-ct[gt-1].y],st[st.length-1].deltas.push(X);break;case"qct":var kt=ct[gt-1].x+2/3*(vt.x1-ct[gt-1].x),Ft=ct[gt-1].y+2/3*(vt.y1-ct[gt-1].y),jt=vt.x+2/3*(vt.x1-vt.x),Zt=vt.y+2/3*(vt.y1-vt.y),H=vt.x,Vt=vt.y;X=[kt-ct[gt-1].x,Ft-ct[gt-1].y,jt-ct[gt-1].x,Zt-ct[gt-1].y,H-ct[gt-1].x,Vt-ct[gt-1].y],st[st.length-1].deltas.push(X);break;case"arc":st.push({deltas:[],abs:[],arc:!0}),Array.isArray(st[st.length-1].abs)&&st[st.length-1].abs.push(vt)}}tt=$?null:F==="stroke"?"stroke":"fill";for(var Ae=!1,ae=0;ae<st.length;ae++)if(st[ae].arc)for(var Et=st[ae].abs,qt=0;qt<Et.length;qt++){var Bt=Et[qt];Bt.type==="arc"?N.call(this,Bt.x,Bt.y,Bt.radius,Bt.startAngle,Bt.endAngle,Bt.counterclockwise,void 0,$,!Ae):P.call(this,Bt.x,Bt.y),Ae=!0}else if(st[ae].close===!0)this.pdf.internal.out("h"),Ae=!1;else if(st[ae].begin!==!0){var oe=st[ae].start.x,ne=st[ae].start.y;Q.call(this,st[ae].deltas,oe,ne),Ae=!0}tt&&T.call(this,tt),$&&V.call(this)}},et=function(F){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-X;case"top":return F+$-X;case"hanging":return F+$-2*X;case"middle":return F+$/2-X;default:return F}},M=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function($,X){this.colorStops.push([$,X])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(F,$,X,tt,st,ct,gt,vt,St){for(var kt=it.call(this,X,tt,st,ct),Ft=0;Ft<kt.length;Ft++){var jt=kt[Ft];Ft===0&&(St?A.call(this,jt.x1+F,jt.y1+$):P.call(this,jt.x1+F,jt.y1+$)),pt.call(this,F,$,jt.x2,jt.y2,jt.x3,jt.y3,jt.x4,jt.y4)}vt?V.call(this):T.call(this,gt)},T=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(F,$){this.pdf.internal.out(n(F)+" "+i($)+" m")},L=function(F){var $;switch(F.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var X,tt,st,ct=this.pdf.getTextDimensions(F.text),gt=et.call(this,F.y),vt=M.call(this,gt)-ct.h,St=this.ctx.transform.applyToPoint(new a(F.x,gt));if(this.autoPaging){var kt=this.ctx.transform.decompose(),Ft=new l;Ft=(Ft=(Ft=Ft.multiply(kt.translate)).multiply(kt.skew)).multiply(kt.scale);for(var jt=this.ctx.transform.applyToRectangle(new o(F.x,gt,ct.w,ct.h)),Zt=Ft.applyToRectangle(new o(F.x,vt,ct.w,ct.h)),H=I.call(this,Zt),Vt=[],Ae=0;Ae<H.length;Ae+=1)Vt.indexOf(H[Ae])===-1&&Vt.push(H[Ae]);C(Vt);for(var ae=Vt[0],Et=Vt[Vt.length-1],qt=ae;qt<Et+1;qt++){this.pdf.setPage(qt);var Bt=qt===1?this.posY+this.margin[0]:this.margin[0],oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ne=this.pdf.internal.pageSize.height-this.margin[2],Qe=ne-this.margin[0],Ie=this.pdf.internal.pageSize.width-this.margin[1],_e=Ie-this.margin[3],Me=qt===1?0:oe+(qt-2)*Qe;if(this.ctx.clip_path.length!==0){var ke=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(X,this.posX+this.margin[3],-1*Me+Bt),G.call(this,"fill",!0),this.path=ke}var $t=E([JSON.parse(JSON.stringify(Zt))],this.posX+this.margin[3],-Me+Bt+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*F.scale),st=this.lineWidth,this.lineWidth=st*F.scale);var Se=this.autoPaging!=="text";if(Se||$t.y+$t.h<=ne){if(Se||$t.y>=Bt&&$t.x<=Ie){var Jt=Se?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Ie-$t.x)[0],Fn=E([JSON.parse(JSON.stringify(jt))],this.posX+this.margin[3],-Me+Bt+this.ctx.prevPageLastElemOffset)[0],Oe=Se&&(qt>ae||qt<Et)&&x.call(this);Oe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,Qe,null).clip().discardPath()),this.pdf.text(Jt,Fn.x,Fn.y,{angle:F.angle,align:$,renderingMode:F.renderingMode}),Oe&&this.pdf.restoreGraphicsState()}}else $t.y<ne&&(this.ctx.prevPageLastElemOffset+=ne-$t.y);F.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=st)}}else F.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*F.scale),st=this.lineWidth,this.lineWidth=st*F.scale),this.pdf.text(F.text,St.x+this.posX,St.y+this.posY,{angle:F.angle,align:$,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=st)},P=function(F,$,X,tt){X=X||0,tt=tt||0,this.pdf.internal.out(n(F+X)+" "+i($+tt)+" l")},Q=function(F,$,X){return this.pdf.lines(F,$,X,null,null)},pt=function(F,$,X,tt,st,ct,gt,vt){this.pdf.internal.out([t(r(X+F)),t(s(tt+$)),t(r(st+F)),t(s(ct+$)),t(r(gt+F)),t(s(vt+$)),"c"].join(" "))},it=function(F,$,X,tt){for(var st=2*Math.PI,ct=Math.PI/2;$>X;)$-=st;var gt=Math.abs(X-$);gt<st&&tt&&(gt=st-gt);for(var vt=[],St=tt?-1:1,kt=$;gt>1e-5;){var Ft=kt+St*Math.min(gt,ct);vt.push(at.call(this,F,kt,Ft)),gt-=Math.abs(Ft-kt),kt=Ft}return vt},at=function(F,$,X){var tt=(X-$)/2,st=F*Math.cos(tt),ct=F*Math.sin(tt),gt=st,vt=-ct,St=gt*gt+vt*vt,kt=St+gt*st+vt*ct,Ft=4/3*(Math.sqrt(2*St*kt)-kt)/(gt*ct-vt*st),jt=gt-Ft*vt,Zt=vt+Ft*gt,H=jt,Vt=-Zt,Ae=tt+$,ae=Math.cos(Ae),Et=Math.sin(Ae);return{x1:F*Math.cos($),y1:F*Math.sin($),x2:jt*ae-Zt*Et,y2:jt*Et+Zt*ae,x3:H*ae-Vt*Et,y3:H*Et+Vt*ae,x4:F*Math.cos(X),y4:F*Math.sin(X)}},Z=function(F){return 180*F/Math.PI},ft=function(F,$,X,tt,st,ct){var gt=F+.5*(X-F),vt=$+.5*(tt-$),St=st+.5*(X-st),kt=ct+.5*(tt-ct),Ft=Math.min(F,st,gt,St),jt=Math.max(F,st,gt,St),Zt=Math.min($,ct,vt,kt),H=Math.max($,ct,vt,kt);return new o(Ft,Zt,jt-Ft,H-Zt)},Nt=function(F,$,X,tt,st,ct,gt,vt){var St,kt,Ft,jt,Zt,H,Vt,Ae,ae,Et,qt,Bt,oe,ne,Qe=X-F,Ie=tt-$,_e=st-X,Me=ct-tt,ke=gt-st,$t=vt-ct;for(kt=0;kt<41;kt++)ae=(Vt=(Ft=F+(St=kt/40)*Qe)+St*((Zt=X+St*_e)-Ft))+St*(Zt+St*(st+St*ke-Zt)-Vt),Et=(Ae=(jt=$+St*Ie)+St*((H=tt+St*Me)-jt))+St*(H+St*(ct+St*$t-H)-Ae),kt==0?(qt=ae,Bt=Et,oe=ae,ne=Et):(qt=Math.min(qt,ae),Bt=Math.min(Bt,Et),oe=Math.max(oe,ae),ne=Math.max(ne,Et));return new o(Math.round(qt),Math.round(Bt),Math.round(oe-qt),Math.round(ne-Bt))},Tt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,$,X=(F=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:$}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(ee.API),function(e){var t=function(a){var o,l,u,c,p,g,d,w,x,I;for(l=[],u=0,c=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;c>u;u+=4)(p=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(g=(p=((p=((p=((p=(p-(I=p%85))/85)-(x=p%85))/85)-(w=p%85))/85)-(d=p%85))/85)%85,l.push(g+33,d+33,w+33,x+33,I+33)):l.push(122);return function(_,E){for(var C=E;C>0;C--)_.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,u,c,p,g=String,d="length",w=255,x="charCodeAt",I="slice",_="replace";for(a[I](-2),a=a[I](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),u=[],c=0,p=(a+=o="uuuuu"[I](a[d]%5||5))[d];p>c;c+=5)l=52200625*(a[x](c)-33)+614125*(a[x](c+1)-33)+7225*(a[x](c+2)-33)+85*(a[x](c+3)-33)+(a[x](c+4)-33),u.push(w&l>>24,w&l>>16,w&l>>8,w&l);return function(E,C){for(var D=C;D>0;D--)E.pop()}(u,o[d]),g.fromCharCode.apply(g,u)},i=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=y5(o)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};e.processDataByFilters=function(a,o){var l=0,u=a||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=i(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(ee.API),function(e){e.loadFile=function(t,n,i){return function(r,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,c){var p=new XMLHttpRequest,g=0,d=function(w){var x=w.length,I=[],_=String.fromCharCode;for(g=0;g<x;g+=1)I.push(_(255&w.charCodeAt(g)));return I.join("")};if(p.open("GET",l,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?c(d(this.responseText)):c(void 0)}),p.send(null),u&&p.status===200)return d(p.responseText)}(r,s,a)}catch{}return o}(t,n,i)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(ee.API),function(e){function t(){return(ve.html2canvas?Promise.resolve(ve.html2canvas):Q2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(ve.DOMPurify?Promise.resolve(ve.DOMPurify):Q2(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var l=cn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(o,l){var u=document.createElement(o);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},s=function o(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||c.appendChild(o(p,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),u);return(c=c.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(u){return this.set({src:r("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var d=0;d<c.length;++d){var w=c[d],x=w.src.find(function(I){return I.format==="truetype"});x&&u.addFont(x.url,w.ref.name,w.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(i(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(o=o||ee.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,c){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,c){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(c,p){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,c),g}).then(c,p).then(function(g){return u.updateProgress(1),g})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var c=this;o&&(o=o.bind(c)),l&&(l=l.bind(c));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:a.convert(Object.assign({},c),Promise.prototype),g=u.call(p,o,l);return a.convert(g,c.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,ee.getPageSize=function(o,l,u){if(cn(o)==="object"){var c=o;o=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+u).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var w,x=0,I=0;if(d.hasOwnProperty(g))x=d[g][1]/p,I=d[g][0]/p;else try{x=u[1],I=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",I>x&&(w=I,I=x,x=w);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>I&&(w=I,I=x,x=w)}return{width:I,height:x,unit:l,k:p,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(my):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}}(ee.API),ee.API.addJS=function(e){var t,n,i=e;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+i+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),s=0;s<r.length;s++){var a=r[s],o=i.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var p=n.internal.newObject();c.push(p);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var d=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<c.length;s++)n.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+d+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,s){var a={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var a=i.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var u=0;u<i.children.length;u++)this.renderItems(i.children[u])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(ee.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,i,r,s,a,o){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(p){for(var g,d=256*p.charCodeAt(4)+p.charCodeAt(5),w=p.length,x={width:0,height:0,numcomponents:1},I=4;I<w;I+=2){if(I+=d,t.indexOf(p.charCodeAt(I+1))!==-1){g=256*p.charCodeAt(I+5)+p.charCodeAt(I+6),x={width:256*p.charCodeAt(I+7)+p.charCodeAt(I+8),height:g,numcomponents:p.charCodeAt(I+9)};break}d=256*p.charCodeAt(I+2)+p.charCodeAt(I+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:i,alias:r}}return c}}(ee.API),ee.API.processPNG=function(e,t,n,i){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var r,s=kY(e,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,u=s.palette,c=s.depth;r=u&&l===1?function(N){for(var T=N.width,V=N.height,A=N.data,L=N.palette,P=N.depth,Q=!1,pt=[],it=[],at=void 0,Z=!1,ft=0,Nt=0;Nt<L.length;Nt++){var Tt=_E(L[Nt],4),F=Tt[0],$=Tt[1],X=Tt[2],tt=Tt[3];pt.push(F,$,X),tt!=null&&(tt===0?(ft++,it.length<1&&it.push(Nt)):tt<255&&(Z=!0))}if(Z||ft>1){Q=!0,it=void 0;var st=T*V;at=new Uint8Array(st);for(var ct=new DataView(A.buffer),gt=0;gt<st;gt++){var vt=yy(ct,gt,P),St=_E(L[vt],4)[3];at[gt]=St}}else ft===0&&(it=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Q?8:void 0,colorBytes:A,alphaBytes:at,needSMask:Q,palette:pt,mask:it}}(s):l===2||l===4?function(N){for(var T=N.data,V=N.width,A=N.height,L=N.channels,P=N.depth,Q=L===2?"DeviceGray":"DeviceRGB",pt=L-1,it=V*A,at=pt,Z=it*at,ft=1*it,Nt=Math.ceil(Z*P/8),Tt=Math.ceil(ft*P/8),F=new Uint8Array(Nt),$=new Uint8Array(Tt),X=new DataView(T.buffer),tt=new DataView(F.buffer),st=new DataView($.buffer),ct=!1,gt=0;gt<it;gt++){for(var vt=gt*L,St=0;St<at;St++)AT(tt,yy(X,vt+St,P),gt*at+St,P);var kt=yy(X,vt+at,P);kt<(1<<P)-1&&(ct=!0),AT(st,kt,1*gt,P)}return{colorSpace:Q,colorsPerPixel:pt,sMaskBitsPerComponent:ct?P:void 0,colorBytes:F,alphaBytes:$,needSMask:ct}}(s):function(N){var T=N.data,V=N.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:V,colorsPerPixel:V==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(A){for(var L=A.length,P=new Uint8Array(2*L),Q=new DataView(P.buffer,P.byteOffset,P.byteLength),pt=0;pt<L;pt++)Q.setUint16(2*pt,A[pt],!1);return P}(T):T,needSMask:!1}}(s);var p,g,d,w=r,x=w.colorSpace,I=w.colorsPerPixel,_=w.sMaskBitsPerComponent,E=w.colorBytes,C=w.alphaBytes,D=w.needSMask,G=w.palette,et=w.mask,M=null;return i!==ee.API.image_compression.NONE&&typeof y5=="function"?(M=function(N){var T;switch(N){case ee.API.image_compression.FAST:T=11;break;case ee.API.image_compression.MEDIUM:T=13;break;case ee.API.image_compression.SLOW:T=14;break;default:T=12}return T}(i),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(M," /Colors ").concat(I," /BitsPerComponent ").concat(c," /Columns ").concat(a),e=yT(E,Math.ceil(a*I*c/8),I,c,i),D&&(d=yT(C,Math.ceil(a*_/8),1,_,i))):(p=void 0,g=void 0,e=E,D&&(d=C)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:n,data:e,index:t,filter:p,decodeParameters:g,transparency:et,palette:G,sMask:d,predictor:M,width:a,height:o,bitsPerComponent:c,sMaskBitsPerComponent:_,colorSpace:x}}},function(e){e.processGIF89A=function(t,n,i,r){var s=new e$(t),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},c=new vy(100).encode(u,100);return e.processJPEG.call(this,c,n,i,r)},e.processGIF87A=e.processGIF89A}(ee.API),Zs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zs.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(n){vn.log("bit decode error:"+n)}},Zs.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*r*4,o=0;o<8&&8*r+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Zs.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++){var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*r*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*r+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},Zs.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*i;if(r<this.palette.length){var a=this.palette[r];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Zs.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,u=s>>15?255:0,c=i*this.width*4+4*r;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=a,this.data[c+3]=u}this.pos+=e}},Zs.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&n)/n*255|0,u=(a>>11)/t*255|0,c=r*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=e}},Zs.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},Zs.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=a}},Zs.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,i,r){var s=new Zs(t,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new vy(100).encode(l,100);return e.processJPEG.call(this,u,n,i,r)}}(ee.API),ET.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,i,r){var s=new ET(t),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new vy(100).encode(l,100);return e.processJPEG.call(this,u,n,i,r)}}(ee.API),ee.API.processRGBA=function(e,t,n){for(var i=e.data,r=i.length,s=new Uint8Array(r/4*3),a=new Uint8Array(r/4),o=0,l=0,u=0;u<r;u+=4){var c=i[u],p=i[u+1],g=i[u+2],d=i[u+3];s[o++]=c,s[o++]=p,s[o++]=g,a[l++]=d}var w=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:w,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ee.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vc=ee.API,Bm=Vc.getCharWidthsArray=function(e,t){var n,i,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:r.metadata.Unicode.widths,l=o.fof?o.fof:1,u=t.kerning?t.kerning:r.metadata.Unicode.kerning,c=u.fof?u.fof:1,p=t.doKerning!==!1,g=0,d=e.length,w=0,x=o[0]||l,I=[];for(n=0;n<d;n++)i=e.charCodeAt(n),typeof r.metadata.widthOfString=="function"?I.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(g=p&&cn(u[i])==="object"&&!isNaN(parseInt(u[i][w],10))?u[i][w]/c:0,I.push((o[i]||x)/l+g)),w=i;return I},pT=Vc.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return Vc.processArabic&&(e=Vc.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,n,r)/n:Bm.apply(this,arguments).reduce(function(s,a){return s+a},0)},mT=function(e,t,n,i){for(var r=[],s=0,a=e.length,o=0;s!==a&&o+t[s]<n;)o+=t[s],s++;r.push(e.slice(0,s));var l=s;for(o=0;s!==a;)o+t[s]>i&&(r.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&r.push(e.slice(l,s)),r},gT=function(e,t,n){n||(n={});var i,r,s,a,o,l,u,c=[],p=[c],g=n.textIndent||0,d=0,w=0,x=e.split(" "),I=Bm.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var _=Array(l).join(" "),E=[];x.map(function(D){(D=D.split(/\s*\n/)).length>1?E=E.concat(D.map(function(G,et){return(et&&G.length?`
`:"")+G})):E.push(D[0])}),x=E,l=pT.apply(this,[_,n])}for(s=0,a=x.length;s<a;s++){var C=0;if(i=x[s],l&&i[0]==`
`&&(i=i.substr(1),C=1),g+d+(w=(r=Bm.apply(this,[i,n])).reduce(function(D,G){return D+G},0))>t||C){if(w>t){for(o=mT.apply(this,[i,r,t-(g+d),t]),c.push(o.shift()),c=[o.pop()];o.length;)p.push([o.shift()]);w=r.slice(i.length-(c[0]?c[0].length:0)).reduce(function(D,G){return D+G},0)}else c=[i];p.push(c),g=w+l,d=I}else c.push(i),g+=d+w,d=I}return u=l?function(D,G){return(G?_:"")+D.join(" ")}:function(D){return D.join(" ")},p.map(u)},Vc.splitTextToSize=function(e,t,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var p=this.internal.getFont(c.fontName,c.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/r;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=n.lineIndent;var o,l,u=[];for(o=0,l=i.length;o<l;o++)u=u.concat(gT.apply(this,[i[o],a,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",i={},r={},s=0;s<16;s++)i[n[s]]=t[s],r[t[s]]=n[s];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=e.__fontmetrics__.compress=function(g){var d,w,x,I,_=["{"];for(var E in g){if(d=g[E],isNaN(parseInt(E,10))?w="'"+E+"'":(E=parseInt(E,10),w=(w=a(E).slice(2)).slice(0,-1)+r[w.slice(-1)]),typeof d=="number")d<0?(x=a(d).slice(3),I="-"):(x=a(d).slice(2),I=""),x=I+x.slice(0,-1)+r[x.slice(-1)];else{if(cn(d)!=="object")throw new Error("Don't know what to do with value type "+cn(d)+".");x=o(d)}_.push(w+x)}return _.push("}"),_.join("")},l=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,w,x,I,_={},E=1,C=_,D=[],G="",et="",M=g.length-1,N=1;N<M;N+=1)(I=g[N])=="'"?d?(x=d.join(""),d=void 0):d=[]:d?d.push(I):I=="{"?(D.push([C,x]),C={},x=void 0):I=="}"?((w=D.pop())[0][w[1]]=C,x=void 0,C=w[0]):I=="-"?E=-1:x===void 0?i.hasOwnProperty(I)?(G+=i[I],x=parseInt(G,16)*E,E=1,G=""):G+=I:i.hasOwnProperty(I)?(et+=i[I],C[x]=parseInt(et,16)*E,E=1,x=void 0,et=""):et+=I;return _},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var d=g.font,w=p.Unicode[d.postScriptName];w&&(d.metadata.Unicode={},d.metadata.Unicode.widths=w.widths,d.metadata.Unicode.kerning=w.kerning);var x=c.Unicode[d.postScriptName];x&&(d.metadata.Unicode.encoding=x,d.encoding=x.codePages[0])}])}(ee.API),function(e){var t=function(n){for(var i=n.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=n.charCodeAt(s);return r};e.API.events.push(["addFont",function(n){var i=void 0,r=n.font,s=n.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(_g(o)),a.metadata=e.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(r,i)}}])}(ee),ee.API.addSvgAsImage=function(e,t,n,i,r,s,a,o){if(isNaN(t)||isNaN(n))throw vn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw vn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=r;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(ve.canvg?Promise.resolve(ve.canvg):Q2(()=>import("./index.es-Bz8XYECI.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,e,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(c)}).then(function(){p.addImage(l.toDataURL("image/jpeg",1),t,n,i,r,a,o)})},ee.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,n);return this},ee.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,r,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,c=0,p=0;function g(w,x){var I,_=!1;for(I=0;I<w.length;I+=1)w[I]===x&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=o.length;for(p=0;p<d;p+=1)n[o[p]].value=n[o[p]].defaultValue,n[o[p]].explicitSet=!1}if(cn(e)==="object"){for(r in e)if(s=e[r],g(o,r)&&s!==void 0){if(n[r].type==="boolean"&&typeof s=="boolean")n[r].value=s;else if(n[r].type==="name"&&g(n[r].valueSet,s))n[r].value=s;else if(n[r].type==="integer"&&Number.isInteger(s))n[r].value=s;else if(n[r].type==="array"){for(u=0;u<s.length;u+=1)if(i=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(i=!1);i===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[r].value="["+l.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,x=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?x.push("/"+w+" /"+n[w].value):x.push("/"+w+" "+n[w].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},ee.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",i$),this.internal.events.subscribe("postPutResources",n$)),this},function(e){var t=e.API,n=t.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],p=0,g=s.length;p<g;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(u[4-o.length],o)}return c.join("")},i=function(s){var a,o,l,u,c,p,g;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(o=Object.keys(s).sort(function(d,w){return d-w})).length;p<g;p++)a=o[p],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",w=0;w<g.length;w++)d+=String.fromCharCode(g[w]);var x=u();c({data:d,addLength1:!0,objectId:x}),l("endobj");var I=u();c({data:i(o.metadata.toUnicode),addLength1:!0,objectId:I}),l("endobj");var _=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Kc(o.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var E=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Kc(o.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+e.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+I+" 0 R"),l("/BaseFont /"+Kc(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+E+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",d=0;d<p.length;d++)g+=String.fromCharCode(p[d]);var w=u();c({data:g,addLength1:!0,objectId:w}),l("endobj");var x=u();c({data:i(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var I=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Kc(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var _=0;_<o.metadata.hmtx.widths.length;_++)o.metadata.hmtx.widths[_]=parseInt(o.metadata.hmtx.widths[_]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Kc(o.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var r=function(s){var a,o=s.text||"",l=s.x,u=s.y,c=s.options||{},p=s.mutex||{},g=p.pdfEscape,d=p.activeFontKey,w=p.fonts,x=d,I="",_=0,E="",C=w[x].encoding;if(w[x].encoding!=="Identity-H")return{text:o,x:l,y:u,options:c,mutex:p};for(E=o,x=d,Array.isArray(o)&&(E=o[0]),_=0;_<E.length;_+=1)w[x].metadata.hasOwnProperty("cmap")&&(a=w[x].metadata.cmap.unicode.codeMap[E[_].charCodeAt(0)]),a||E[_].charCodeAt(0)<256&&w[x].metadata.hasOwnProperty("Unicode")?I+=E[_]:I+="";var D="";return parseInt(x.slice(1))<14||C==="WinAnsiEncoding"?D=g(I,x).split("").map(function(G){return G.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(D=n(I,w[x])),p.isHex=!0,{text:D,x:l,y:u,options:c,mutex:p}};t.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([r(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(r(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=r(Object.assign({},l,{text:a})).text}])}(ee),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,i){return t.call(this),this.internal.vFS[n]=i,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ee.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var r,s,a,o,l,u,c,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,C=0;this.__bidiEngine__={};var D=function(A){var L=A.charCodeAt(),P=L>>8,Q=x[P];return Q!==void 0?p[256*Q+(255&L)]:P===252||P===253?"AL":_.test(P)?"L":P===8?"R":"N"},G=function(A){for(var L,P=0;P<A.length;P++){if((L=D(A.charAt(P)))==="L")return!1;if(L==="R")return!0}return!1},et=function(A,L,P,Q){var pt,it,at,Z,ft=L[Q];switch(ft){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(ft="AN");break;case"AL":E=!0,ft="R";break;case"WS":case"BN":ft="N";break;case"CS":Q<1||Q+1>=L.length||(pt=P[Q-1])!=="EN"&&pt!=="AN"||(it=L[Q+1])!=="EN"&&it!=="AN"?ft="N":E&&(it="AN"),ft=it===pt?it:"N";break;case"ES":ft=(pt=Q>0?P[Q-1]:"B")==="EN"&&Q+1<L.length&&L[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&P[Q-1]==="EN"){ft="EN";break}if(E){ft="N";break}for(at=Q+1,Z=L.length;at<Z&&L[at]==="ET";)at++;ft=at<Z&&L[at]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Z=L.length,at=Q+1;at<Z&&L[at]==="NSM";)at++;if(at<Z){var Nt=A[Q],Tt=Nt>=1425&&Nt<=2303||Nt===64286;if(pt=L[at],Tt&&(pt==="R"||pt==="AL")){ft="R";break}}}ft=Q<1||(pt=L[Q-1])==="B"?"N":P[Q-1];break;case"B":E=!1,r=!0,ft=C;break;case"S":s=!0,ft="N"}return ft},M=function(A,L,P){var Q=A.split("");return P&&N(Q,P,{hiLevel:C}),Q.reverse(),L&&L.reverse(),Q.join("")},N=function(A,L,P){var Q,pt,it,at,Z,ft=-1,Nt=A.length,Tt=0,F=[],$=C?d:g,X=[];for(E=!1,r=!1,s=!1,pt=0;pt<Nt;pt++)X[pt]=D(A[pt]);for(it=0;it<Nt;it++){if(Z=Tt,F[it]=et(A,X,F,it),Q=240&(Tt=$[Z][w[F[it]]]),Tt&=15,L[it]=at=$[Tt][5],Q>0)if(Q===16){for(pt=ft;pt<it;pt++)L[pt]=1;ft=-1}else ft=-1;if($[Tt][6])ft===-1&&(ft=it);else if(ft>-1){for(pt=ft;pt<it;pt++)L[pt]=at;ft=-1}X[it]==="B"&&(L[it]=0),P.hiLevel|=at}s&&function(tt,st,ct){for(var gt=0;gt<ct;gt++)if(tt[gt]==="S"){st[gt]=C;for(var vt=gt-1;vt>=0&&tt[vt]==="WS";vt--)st[vt]=C}}(X,L,Nt)},T=function(A,L,P,Q,pt){if(!(pt.hiLevel<A)){if(A===1&&C===1&&!r)return L.reverse(),void(P&&P.reverse());for(var it,at,Z,ft,Nt=L.length,Tt=0;Tt<Nt;){if(Q[Tt]>=A){for(Z=Tt+1;Z<Nt&&Q[Z]>=A;)Z++;for(ft=Tt,at=Z-1;ft<at;ft++,at--)it=L[ft],L[ft]=L[at],L[at]=it,P&&(it=P[ft],P[ft]=P[at],P[at]=it);Tt=Z}Tt++}}},V=function(A,L,P){var Q=A.split(""),pt={hiLevel:C};return P||(P=[]),N(Q,P,pt),function(it,at,Z){if(Z.hiLevel!==0&&c)for(var ft,Nt=0;Nt<it.length;Nt++)at[Nt]===1&&(ft=I.indexOf(it[Nt]))>=0&&(it[Nt]=I[ft+1])}(Q,P,pt),T(2,Q,L,P,pt),T(1,Q,L,P,pt),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(A,L,P){if(function(pt,it){if(it)for(var at=0;at<pt.length;at++)it[at]=at;o===void 0&&(o=G(pt)),u===void 0&&(u=G(pt))}(A,L),a||!l||u)if(a&&l&&o^u)C=o?1:0,A=M(A,L,P);else if(!a&&l&&u)C=o?1:0,A=V(A,L,P),A=M(A,L);else if(!a||o||l||u){if(a&&!l&&o^u)A=M(A,L),o?(C=0,A=V(A,L,P)):(C=1,A=V(A,L,P),A=M(A,L));else if(a&&o&&!l&&u)C=1,A=V(A,L,P),A=M(A,L);else if(!a&&!l&&o^u){var Q=c;o?(C=1,A=V(A,L,P),C=0,c=!1,A=V(A,L,P),c=Q):(C=0,A=V(A,L,P),A=M(A,L),C=1,c=!1,A=V(A,L,P),c=Q,A=M(A,L))}}else C=0,A=V(A,L,P);else C=o?1:0,A=V(A,L,P);return A},this.__bidiEngine__.setOptions=function(A){A&&(a=A.isInputVisual,l=A.isOutputVisual,o=A.isInputRtl,u=A.isOutputRtl,c=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var o=0;for(a=[],o=0;o<r.length;o+=1)Object.prototype.toString.call(r[o])==="[object Array]"?a.push([n.doBidiReorder(r[o][0]),r[o][1],r[o][2]]):a.push([n.doBidiReorder(r[o])]);i.text=a}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}(ee),ee.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new au(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new v$(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new r$(this.contents),this.head=new a$(this),this.name=new h$(this),this.cmap=new FL(this),this.toUnicode={},this.hhea=new o$(this),this.maxp=new f$(this),this.hmtx=new d$(this),this.post=new u$(this),this.os2=new l$(this),this.loca=new y$(this),this.glyf=new p$(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)t=l[a],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(n=r>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,i){var r,s,a,o;for(a=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)r=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return a*(n/1e3)},e.prototype.lineHeight=function(t,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e}();var fa,au=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,i;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var n,i,r;for(r=[],n=0,i=t.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(t.charCodeAt(n)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,i,r,s,a,o,l;return t=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*i+4294967296*r+16777216*s+65536*a+256*o+l},e.prototype.writeLongLong=function(t){var n,i;return n=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,i;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push(this.readByte());return n},e.prototype.write=function(t){var n,i,r,s;for(s=[],i=0,r=t.length;i<r;i++)n=t[i],s.push(this.writeByte(n));return s},e}(),r$=function(){var e;function t(n){var i,r,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(n){var i,r,s,a,o,l,u,c,p,g,d,w,x;for(x in d=Object.keys(n).length,l=Math.log(2),p=16*Math.floor(Math.log(d)/l),a=Math.floor(p/l),c=16*d-p,(r=new au).writeInt(this.scalarType),r.writeShort(d),r.writeShort(p),r.writeShort(a),r.writeShort(c),s=16*d,u=r.pos+s,o=null,w=[],n)for(g=n[x],r.writeString(x),r.writeInt(e(g)),r.writeInt(u),r.writeInt(g.length),w=w.concat(g),x==="head"&&(o=u),u+=g.length;u%4;)w.push(0),u++;return r.write(w),i=2981146554-e(r.data),r.pos=o+8,r.writeUInt32(i),r.data},e=function(n){var i,r,s,a;for(n=BL.call(n);n.length%4;)n.push(0);for(s=new au(n),r=0,i=0,a=n.length;i<a;i=i+=4)r+=s.readUInt32();return 4294967295&r},t}(),s$={}.hasOwnProperty,Wa=function(e,t){for(var n in t)s$.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};fa=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var a$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,fa),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new au).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),TT=function(){function e(t,n){var i,r,s,a,o,l,u,c,p,g,d,w,x,I,_,E,C;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),g=d/2,t.pos+=6,s=function(){var D,G;for(G=[],l=D=0;0<=g?D<g:D>g;l=0<=g?++D:--D)G.push(t.readUInt16());return G}(),t.pos+=2,x=function(){var D,G;for(G=[],l=D=0;0<=g?D<g:D>g;l=0<=g?++D:--D)G.push(t.readUInt16());return G}(),u=function(){var D,G;for(G=[],l=D=0;0<=g?D<g:D>g;l=0<=g?++D:--D)G.push(t.readUInt16());return G}(),c=function(){var D,G;for(G=[],l=D=0;0<=g?D<g:D>g;l=0<=g?++D:--D)G.push(t.readUInt16());return G}(),r=(this.length-t.pos+this.offset)/2,o=function(){var D,G;for(G=[],l=D=0;0<=r?D<r:D>r;l=0<=r?++D:--D)G.push(t.readUInt16());return G}(),l=_=0,C=s.length;_<C;l=++_)for(I=s[l],i=E=w=x[l];w<=I?E<=I:E>=I;i=w<=I?++E:--E)c[l]===0?a=i+u[l]:(a=o[c[l]/2+(i-w)-(g-l)]||0)!==0&&(a+=u[l]),this.codeMap[i]=65535&a}t.pos=p}return e.encode=function(t,n){var i,r,s,a,o,l,u,c,p,g,d,w,x,I,_,E,C,D,G,et,M,N,T,V,A,L,P,Q,pt,it,at,Z,ft,Nt,Tt,F,$,X,tt,st,ct,gt,vt,St,kt,Ft;switch(Q=new au,a=Object.keys(t).sort(function(jt,Zt){return jt-Zt}),n){case"macroman":for(x=0,I=function(){var jt=[];for(w=0;w<256;++w)jt.push(0);return jt}(),E={0:0},s={},pt=0,ft=a.length;pt<ft;pt++)E[vt=t[r=a[pt]]]==null&&(E[vt]=++x),s[r]={old:t[r],new:E[t[r]]},I[r]=E[t[r]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(I),{charMap:s,subtable:Q.data,maxGlyphID:x+1};case"unicode":for(L=[],p=[],C=0,E={},i={},_=u=null,it=0,Nt=a.length;it<Nt;it++)E[G=t[r=a[it]]]==null&&(E[G]=++C),i[r]={old:G,new:E[G]},o=E[G]-r,_!=null&&o===u||(_&&p.push(_),L.push(r),u=o),_=r;for(_&&p.push(_),p.push(65535),L.push(65535),V=2*(T=L.length),N=2*Math.pow(Math.log(T)/Math.LN2,2),g=Math.log(N/2)/Math.LN2,M=2*T-N,l=[],et=[],d=[],w=at=0,Tt=L.length;at<Tt;w=++at){if(A=L[w],c=p[w],A===65535){l.push(0),et.push(0);break}if(A-(P=i[A].new)>=32768)for(l.push(0),et.push(2*(d.length+T-w)),r=Z=A;A<=c?Z<=c:Z>=c;r=A<=c?++Z:--Z)d.push(i[r].new);else l.push(P-A),et.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*T+2*d.length),Q.writeUInt16(0),Q.writeUInt16(V),Q.writeUInt16(N),Q.writeUInt16(g),Q.writeUInt16(M),ct=0,F=p.length;ct<F;ct++)r=p[ct],Q.writeUInt16(r);for(Q.writeUInt16(0),gt=0,$=L.length;gt<$;gt++)r=L[gt],Q.writeUInt16(r);for(St=0,X=l.length;St<X;St++)o=l[St],Q.writeUInt16(o);for(kt=0,tt=et.length;kt<tt;kt++)D=et[kt],Q.writeUInt16(D);for(Ft=0,st=d.length;Ft<st;Ft++)x=d[Ft],Q.writeUInt16(x);return{charMap:i,subtable:Q.data,maxGlyphID:C+1}}},e}(),FL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,fa),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,i,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n=new TT(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var i,r;return n==null&&(n="macroman"),i=TT.encode(t,n),(r=new au).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},e}(),o$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,fa),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),l$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,fa),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(t.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),u$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,fa),e.prototype.tag="post",e.prototype.parse=function(t){var n,i,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)n=t.readByte(),r.push(this.names.push(t.readString(n)));return r;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(t.readUInt32());return l}).call(this)}},e}(),c$=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},h$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,fa),e.prototype.tag="name",e.prototype.parse=function(t){var n,i,r,s,a,o,l,u,c,p,g;for(t.pos=this.offset,t.readShort(),n=t.readShort(),o=t.readShort(),i=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},s=c=0,p=i.length;c<p;s=++c)r=i[s],t.pos=r.offset,u=t.readString(r.length),a=new c$(u,r),l[g=r.nameID]==null&&(l[g]=[]),l[r.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),f$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,fa),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),d$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,fa),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,i,r,s,a,o,l;for(t.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],n=u=0;0<=r?u<r:u>r;n=0<=r?++u:--u)c.push(t.readInt16());return c}(),this.widths=(function(){var u,c,p,g;for(g=[],u=0,c=(p=this.metrics).length;u<c;u++)s=p[u],g.push(s.advance);return g}).call(this),i=this.widths[this.widths.length-1],l=[],n=a=0;0<=r?a<r:a>r;n=0<=r?++a:--a)l.push(this.widths.push(i));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),BL=[].slice,p$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,fa),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,i,r,s,a,o,l,u,c,p;return t in this.cache?this.cache[t]:(s=this.file.loca,n=this.file.contents,i=s.indexOf(t),(r=s.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+i,a=(o=new au(n.read(r))).readShort(),u=o.readShort(),p=o.readShort(),l=o.readShort(),c=o.readShort(),this.cache[t]=a===-1?new g$(o,u,p,l,c):new m$(o,a,u,p,l,c),this.cache[t]))},e.prototype.encode=function(t,n,i){var r,s,a,o,l;for(a=[],s=[],o=0,l=n.length;o<l;o++)r=t[n[o]],s.push(a.length),r&&(a=a.concat(r.encode(i)));return s.push(a.length),{table:a,offsets:s}},e}(),m$=function(){function e(t,n,i,r,s,a){this.raw=t,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),g$=function(){function e(t,n,i,r,s){var a,o;for(this.raw=t,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var t,n,i;for(n=new au(BL.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),y$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,fa),e.prototype.tag="loca",e.prototype.parse=function(t){var n,i;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var i=new Uint32Array(this.offsets.length),r=0,s=0,a=0;a<i.length;++a)if(i[a]=r,s<n.length&&n[s]==a){++s,i[a]=r;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(r+=l)}for(var u=new Array(4*i.length),c=0;c<i.length;++c)u[4*c+3]=255&i[c],u[4*c+2]=(65280&i[c])>>8,u[4*c+1]=(16711680&i[c])>>16,u[4*c]=(4278190080&i[c])>>24;return u},e}(),v$=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,i,r,s;for(n in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)i=s[n],t[n]=r[i];return t},e.prototype.glyphsFor=function(t){var n,i,r,s,a,o,l;for(r={},a=0,o=t.length;a<o;a++)r[s=t[a]]=this.font.glyf.glyphFor(s);for(s in n=[],r)(i=r[s])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))i=l[s],r[s]=i;return r},e.prototype.encode=function(t,n){var i,r,s,a,o,l,u,c,p,g,d,w,x,I,_;for(r in i=FL.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),d={0:0},_=i.charMap)d[(l=_[r]).old]=l.new;for(w in g=i.maxGlyphID,a)w in d||(d[w]=g++);return c=function(E){var C,D;for(C in D={},E)D[E[C]]=C;return D}(d),p=Object.keys(c).sort(function(E,C){return E-C}),x=function(){var E,C,D;for(D=[],E=0,C=p.length;E<C;E++)o=p[E],D.push(c[o]);return D}(),s=this.font.glyf.encode(a,x,d),u=this.font.loca.encode(s.offsets,x),I={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},e}();ee.API.PDFObject=function(){var e;function t(){}return e=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},t.convert=function(n){var i,r,s,a;if(Array.isArray(n))return"["+function(){var o,l,u;for(u=[],o=0,l=n.length;o<l;o++)i=n[o],u.push(t.convert(i));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in s=["<<"],n)a=n[r],s.push("/"+r+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+n},t}();function UL(e,t,n,i,r){i=i||{};var s=1.15,a=r.internal.scaleFactor,o=r.internal.getFontSize()/a,l=r.getLineHeightFactor?r.getLineHeightFactor():s,u=o*l,c=/\r\n|\r|\n/g,p="",g=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(p=typeof e=="string"?e.split(c):e,g=p.length||1),n+=o*(2-s),i.valign==="middle"?n-=g/2*u:i.valign==="bottom"&&(n-=g*u),i.halign==="center"||i.halign==="right"){var d=o;if(i.halign==="center"&&(d*=.5),p&&g>=1){for(var w=0;w<p.length;w++)r.text(p[w],t-r.getStringUnitWidth(p[w])*d,n),n+=u;return r}t-=r.getStringUnitWidth(e)*d}return i.halign==="justify"?r.text(e,t,n,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(e,t,n),r}var xT={},Lh=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:xT=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var i,r,s;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var c=e.unifyColor(t.fillColor);c&&(i=this.jsPDFDocument).setFillColor.apply(i,c),c=e.unifyColor(t.textColor),c&&(r=this.jsPDFDocument).setTextColor.apply(r,c),c=e.unifyColor(t.lineColor),c&&(s=this.jsPDFDocument).setDrawColor.apply(s,c),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,i){return this.jsPDFDocument.splitTextToSize(t,n,i)},e.prototype.rect=function(t,n,i,r,s){return this.jsPDFDocument.rect(t,n,i,r,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return xT||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),T5=function(e,t){return T5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},T5(e,t)};function zL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");T5(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var qL=function(e){zL(t,e);function t(n){var i=e.call(this)||this;return i._element=n,i}return t}(Array);function _$(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function b$(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function L1(e,t,n){n.applyStyles(t,!0);var i=Array.isArray(e)?e:[e],r=i.map(function(s){return n.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return r}function HL(e,t,n,i){var r=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:r,lineColor:s});var a=GL(r,!1);a&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),i.y-n.y,a)}function GL(e,t){var n=e>0,i=t||t===0;return n&&i?"DF":n?"S":i?"F":null}function A0(e,t){var n,i,r,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(i=e.top)!==null&&i!==void 0?i:t,right:(r=e.right)!==null&&r!==void 0?r:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function WL(e,t){var n=A0(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function w$(e,t,n,i,r){var s={},a=1.3333333333333333,o=_y(t,function(C){return r.getComputedStyle(C).backgroundColor});o!=null&&(s.fillColor=o);var l=_y(t,function(C){return r.getComputedStyle(C).color});l!=null&&(s.textColor=l);var u=S$(i,n);u&&(s.cellPadding=u);var c="borderTopColor",p=a*n,g=i.borderTopWidth;if(i.borderBottomWidth===g&&i.borderRightWidth===g&&i.borderLeftWidth===g){var d=(parseFloat(g)||0)/p;d&&(s.lineWidth=d)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/p,right:(parseFloat(i.borderRightWidth)||0)/p,bottom:(parseFloat(i.borderBottomWidth)||0)/p,left:(parseFloat(i.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?c="borderRightColor":s.lineWidth.bottom?c="borderBottomColor":s.lineWidth.left&&(c="borderLeftColor"));var w=_y(t,function(C){return r.getComputedStyle(C)[c]});w!=null&&(s.lineColor=w);var x=["left","right","center","justify"];x.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),x=["middle","bottom","top"],x.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var I=parseInt(i.fontSize||"");isNaN(I)||(s.fontSize=I/a);var _=A$(i);_&&(s.fontStyle=_);var E=(i.fontFamily||"").toLowerCase();return e.indexOf(E)!==-1&&(s.font=E),s}function A$(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function _y(e,t){var n=KL(e,t);if(!n)return null;var i=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function KL(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:KL(e.parentElement,t):n}function S$(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],i=96/(72/t),r=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=n.map(function(o){return parseInt(o||"0")/i}),a=A0(s,0);return r>a.top&&(a.top=r),r>a.bottom&&(a.bottom=r),a}function YL(e,t,n,i,r){var s,a;i===void 0&&(i=!1),r===void 0&&(r=!1);var o;typeof t=="string"?o=n.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),u=e.scaleFactor(),c=[],p=[],g=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:c,body:p,foot:g};for(var d=0;d<o.rows.length;d++){var w=o.rows[d],x=(a=(s=w==null?void 0:w.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),I=E$(l,u,n,w,i,r);I&&(x==="thead"?c.push(I):x==="tfoot"?g.push(I):p.push(I))}return{head:c,body:p,foot:g}}function E$(e,t,n,i,r,s){for(var a=new qL(i),o=0;o<i.cells.length;o++){var l=i.cells[o],u=n.getComputedStyle(l);if(r||u.display!=="none"){var c=void 0;s&&(c=w$(e,l,t,u,n)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:T$(l)})}}var p=n.getComputedStyle(i);if(a.length>0&&(r||p.display!=="none"))return a}function T$(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function x$(e,t,n){for(var i=0,r=[e,t,n];i<r.length;i++){var s=r[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Ao(e,t,n,i,r){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function $L(e,t){var n=new Lh(e),i=n.getDocumentOptions(),r=n.getGlobalOptions();x$(r,i,t);var s=Ao({},r,i,t),a;typeof window<"u"&&(a=window);var o=N$(r,i,t),l=C$(r,i,t),u=R$(n,s),c=L$(n,s,a);return{id:t.tableId,content:c,hooks:l,styles:o,settings:u}}function N$(e,t,n){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(l){if(l==="columnStyles"){var u=e[l],c=t[l],p=n[l];i.columnStyles=Ao({},u,c,p)}else{var g=[e,t,n],d=g.map(function(w){return w[l]||{}});i[l]=Ao({},d[0],d[1],d[2])}},s=0,a=Object.keys(i);s<a.length;s++){var o=a[s];r(o)}return i}function C$(e,t,n){for(var i=[e,t,n],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=i;s<a.length;s++){var o=a[s];o.didParseCell&&r.didParseCell.push(o.didParseCell),o.willDrawCell&&r.willDrawCell.push(o.willDrawCell),o.didDrawCell&&r.didDrawCell.push(o.didDrawCell),o.willDrawPage&&r.willDrawPage.push(o.willDrawPage),o.didDrawPage&&r.didDrawPage.push(o.didDrawPage)}return r}function R$(e,t){var n,i,r,s,a,o,l,u,c,p,g,d,w=A0(t.margin,40/e.scaleFactor()),x=(n=I$(e,t.startY))!==null&&n!==void 0?n:w.top,I;t.showFoot===!0?I="everyPage":t.showFoot===!1?I="never":I=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var _;t.showHead===!0?_="everyPage":t.showHead===!1?_="never":_=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var E=(s=t.useCss)!==null&&s!==void 0?s:!1,C=t.theme||(E?"plain":"striped"),D=!!t.horizontalPageBreak,G=(a=t.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:E,theme:C,startY:x,margin:w,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=t.tableWidth)!==null&&c!==void 0?c:"auto",showHead:_,showFoot:I,tableLineWidth:(p=t.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:D,horizontalPageBreakRepeat:G,horizontalPageBreakBehaviour:(d=t.horizontalPageBreakBehaviour)!==null&&d!==void 0?d:"afterAllRows"}}function I$(e,t){var n=e.getLastAutoTable(),i=e.scaleFactor(),r=e.pageNumber(),s=!1;if(n&&n.startPageNumber){var a=n.startPageNumber+n.pageNumber-1;s=a===r}return typeof t=="number"?t:(t==null||t===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/i:null}function L$(e,t,n){var i=t.head||[],r=t.body||[],s=t.foot||[];if(t.html){var a=t.includeHiddenHtml;if(n){var o=YL(e,t.html,n,a,t.useCss)||{};i=o.head||i,r=o.body||i,s=o.foot||i}else console.error("Cannot parse html in non browser environment")}var l=t.columns||P$(i,r,s);return{columns:l,head:i,body:r,foot:s}}function P$(e,t,n){var i=e[0]||t[0]||n[0]||[],r=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(i)?o=i[parseInt(s)]:o=i[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var l=0;l<a;l++){var u=void 0;Array.isArray(i)?u=r.length:u=s+(l>0?"_".concat(l):"");var c={dataKey:u};r.push(c)}}),r}var x5=function(){function e(t,n,i){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=i,this.doc=t.getDocument()}return e}(),D$=function(e){zL(t,e);function t(n,i,r,s,a,o){var l=e.call(this,n,i,o)||this;return l.cell=r,l.row=s,l.column=a,l.section=s.section,l}return t}(x5),k$=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,i){return n+i.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,i){return n+i.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,i,r,s,a){for(var o=0,l=n;o<l.length;o++){var u=l[o],c=new D$(t,this,i,r,s,a),p=u(c)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],p)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var s=r[i];s(new x5(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var s=r[i];s(new x5(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(r,s){return r+s.wrappedWidth},0);return n}else{var i=this.settings.margin;return t-i.left-i.right}},e}(),XL=function(){function e(t,n,i,r,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof qL&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=i,this.cells=r,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(i,r){var s;return Math.max(i,((s=n.cells[r.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(i){var r=n.cells[i.index];return r?r.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var i=this;return t.reduce(function(r,s){var a=i.cells[s.index];if(!a)return 0;var o=n.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),u=l+o;return u>r?u:r},0)},e}(),QL=function(){function e(t,n,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=i,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*n,s=i*r+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=A0(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),O$=function(){function e(t,n,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=i}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,i=0,r=t.allRows();i<r.length;i++){var s=r[i],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(n=Math.max(n,a.styles.cellWidth))}return n},e}();function M$(e,t){V$(e,t);var n=[],i=0;t.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(t);a?s.width=a:(s.width=s.wrappedWidth,n.push(s)),i+=s.width});var r=t.getWidth(e.pageSize().width)-i;r&&(r=N5(n,r,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),r&&(r=N5(n,r,function(s){return s.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/e.scaleFactor()&&(r=r<1?r:Math.round(r),console.log("Of the table content, ".concat(r," units width could not fit page"))),F$(t),B$(t,e),j$(t)}function V$(e,t){var n=e.scaleFactor(),i=t.settings.horizontalPageBreak,r=WL(e,t);t.allRows().forEach(function(s){for(var a=0,o=t.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){var c=t.hooks.didParseCell;t.callCellHooks(e,c,u,s,l,null);var p=u.padding("horizontal");u.contentWidth=L1(u.text,u.styles,e)+p;var g=L1(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||i===!0)u.contentWidth>r?(u.minWidth=r,u.wrappedWidth=r):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var d=10/n;u.minWidth=u.styles.minCellWidth||d,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(s){for(var a=0,o=t.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},p=c.cellWidth||c.minCellWidth;p&&typeof p=="number"&&(l.minWidth=p,l.wrappedWidth=p)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function N5(e,t,n){for(var i=t,r=e.reduce(function(d,w){return d+w.wrappedWidth},0),s=0;s<e.length;s++){var a=e[s],o=a.wrappedWidth/r,l=i*o,u=a.width+l,c=n(a),p=u<c?c:u;t-=p-a.width,a.width=p}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(d){return t<0?d.width>n(d):!0});g.length&&(t=N5(g,t,n))}return t}function j$(e){for(var t={},n=1,i=e.allRows(),r=0;r<i.length;r++)for(var s=i[r],a=0,o=e.columns;a<o.length;a++){var l=o[a],u=t[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete t[l.index];else{var c=s.cells[l.index];if(!c)continue;if(c.height=s.height,c.rowSpan>1){var p=i.length-r,g=c.rowSpan>p?p:c.rowSpan;t[l.index]={cell:c,left:g,row:s}}}}}function F$(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var i=t[n],r=null,s=0,a=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(a-=1,a>1&&e.columns[o+1])s+=l.width,delete i.cells[l.index];else if(r){var u=r;delete i.cells[l.index],r=null,u.width=l.width+s}else{var u=i.cells[l.index];if(!u)continue;if(a=u.colSpan,s=0,u.colSpan>1){r=u,s+=l.width;continue}u.width=l.width+s}}}function B$(e,t){for(var n={count:0,height:0},i=0,r=e.allRows();i<r.length;i++){for(var s=r[i],a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){t.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,c+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=NT(u.text,c,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=NT(u.text,c,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var p=u.styles.overflow(u.text,c);typeof p=="string"?u.text=[p]:u.text=p}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<g*u.rowSpan?n={height:g,count:u.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>s.height&&(s.height=g)}}n.count--}}function NT(e,t,n,i,r){return e.map(function(s){return U$(s,t,n,i,r)})}function U$(e,t,n,i,r){var s=1e4*i.scaleFactor();if(t=Math.ceil(t*s)/s,t>=L1(e,n,i))return e;for(;t<L1(e+r,n,i)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+r}function JL(e,t){var n=new Lh(e),i=z$(t,n.scaleFactor()),r=new k$(t,i);return M$(n,r),n.applyStyles(n.userStyles),r}function z$(e,t){var n=e.content,i=H$(n.columns);if(n.head.length===0){var r=CT(i,"head");r&&n.head.push(r)}if(n.foot.length===0){var r=CT(i,"foot");r&&n.foot.push(r)}var s=e.settings.theme,a=e.styles;return{columns:i,head:by("head",n.head,i,a,s,t),body:by("body",n.body,i,a,s,t),foot:by("foot",n.foot,i,a,s,t)}}function by(e,t,n,i,r,s){var a={},o=t.map(function(l,u){for(var c=0,p={},g=0,d=0,w=0,x=n;w<x.length;w++){var I=x[w];if(a[I.index]==null||a[I.index].left===0)if(d===0){var _=void 0;Array.isArray(l)?_=l[I.index-g-c]:_=l[I.dataKey];var E={};typeof _=="object"&&!Array.isArray(_)&&(E=(_==null?void 0:_.styles)||{});var C=G$(e,I,u,r,i,s,E),D=new QL(_,C,e);p[I.dataKey]=D,p[I.index]=D,d=D.colSpan-1,a[I.index]={left:D.rowSpan-1,times:d}}else d--,g++;else a[I.index].left--,d=a[I.index].times,c++}return new XL(l,u,e,p)});return o}function CT(e,t){var n={};return e.forEach(function(i){if(i.raw!=null){var r=q$(t,i.raw);r!=null&&(n[i.dataKey]=r)}}),Object.keys(n).length>0?n:null}function q$(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function H$(e){return e.map(function(t,n){var i,r;return typeof t=="object"?r=(i=t.dataKey)!==null&&i!==void 0?i:n:r=n,new O$(r,t,n)})}function G$(e,t,n,i,r,s,a){var o=b$(i),l;e==="head"?l=r.headStyles:e==="body"?l=r.bodyStyles:e==="foot"&&(l=r.footStyles);var u=Ao({},o.table,o[e],r.styles,l),c=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},p=e==="body"?c:{},g=e==="body"&&n%2===0?Ao({},o.alternateRow,r.alternateRowStyles):{},d=_$(s),w=Ao({},d,u,g,p);return Ao(w,a)}function W$(e,t,n){var i;n===void 0&&(n={});var r=WL(e,t),s=new Map,a=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var d=t.columns.find(function(w){return w.dataKey===g||w.index===g});d&&!s.has(d.index)&&(s.set(d.index,!0),a.push(d.index),o.push(t.columns[d.index]),r-=d.wrappedWidth)});for(var u=!0,c=(i=n==null?void 0:n.start)!==null&&i!==void 0?i:0;c<t.columns.length;){if(s.has(c)){c++;continue}var p=t.columns[c].wrappedWidth;if(u||r>=p)u=!1,a.push(c),o.push(t.columns[c]),r-=p;else break;c++}return{colIndexes:a,columns:o,lastIndex:c-1}}function K$(e,t){for(var n=[],i=0;i<t.columns.length;i++){var r=W$(e,t,{start:i});r.columns.length&&(n.push(r),i=r.lastIndex)}return n}function ZL(e,t){var n=t.settings,i=n.startY,r=n.margin,s={x:r.left,y:i},a=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=i+r.bottom+a;if(n.pageBreak==="avoid"){var l=t.body,u=l.reduce(function(g,d){return g+d.height},0);o+=u}var c=new Lh(e);(n.pageBreak==="always"||n.startY!=null&&o>c.pageSize().height)&&(eP(c),s.y=r.top),t.callWillDrawPageHooks(c,s);var p=Ao({},s);t.startPageNumber=c.pageNumber(),n.horizontalPageBreak?Y$(c,t,p,s):(c.applyStyles(c.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(g){return Vo(c,t,g,s,t.columns)}),c.applyStyles(c.userStyles),t.body.forEach(function(g,d){var w=d===t.body.length-1;P1(c,t,g,w,p,s,t.columns)}),c.applyStyles(c.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(g){return Vo(c,t,g,s,t.columns)})),HL(c,t,p,s),t.callEndPageHooks(c,s),t.finalY=s.y,e.lastAutoTable=t,c.applyStyles(c.userStyles)}function Y$(e,t,n,i){var r=K$(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(u,c){e.applyStyles(e.userStyles),c>0?Od(e,t,n,i,u.columns,!0):RT(e,t,i,u.columns),$$(e,t,n,i,u.columns),wy(e,t,i,u.columns)});else for(var a=-1,o=r[0],l=function(){var u=a;if(o){e.applyStyles(e.userStyles);var c=o.columns;a>=0?Od(e,t,n,i,c,!0):RT(e,t,i,c),u=IT(e,t,a+1,i,c),wy(e,t,i,c)}var p=u-a;r.slice(1).forEach(function(g){e.applyStyles(e.userStyles),Od(e,t,n,i,g.columns,!0),IT(e,t,a+1,i,g.columns,p),wy(e,t,i,g.columns)}),a=u};a<t.body.length-1;)l()}function RT(e,t,n,i){var r=t.settings;e.applyStyles(e.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(s){return Vo(e,t,s,n,i)})}function $$(e,t,n,i,r){e.applyStyles(e.userStyles),t.body.forEach(function(s,a){var o=a===t.body.length-1;P1(e,t,s,o,n,i,r)})}function IT(e,t,n,i,r,s){e.applyStyles(e.userStyles),s=s??t.body.length;var a=Math.min(n+s,t.body.length),o=-1;return t.body.slice(n,a).forEach(function(l,u){var c=n+u===t.body.length-1,p=tP(e,t,c,i);l.canEntireRowFit(p,r)&&(Vo(e,t,l,i,r),o=n+u)}),o}function wy(e,t,n,i){var r=t.settings;e.applyStyles(e.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(s){return Vo(e,t,s,n,i)})}function X$(e,t,n){var i=n.getLineHeight(e.styles.fontSize),r=e.padding("vertical"),s=Math.floor((t-r)/i);return Math.max(0,s)}function Q$(e,t,n,i){var r={};e.spansMultiplePages=!0,e.height=0;for(var s=0,a=0,o=n.columns;a<o.length;a++){var l=o[a],u=e.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new QL(u.raw,u.styles,u.section);c=Ao(c,u),c.text=[];var p=X$(u,t,i);u.text.length>p&&(c.text=u.text.splice(p,u.text.length));var g=i.scaleFactor(),d=i.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,d),u.contentHeight>=t&&(u.contentHeight=t,c.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),c.contentHeight=c.getContentHeight(g,d),c.contentHeight>s&&(s=c.contentHeight),r[l.index]=c}}var w=new XL(e.raw,-1,e.section,r,!0);w.height=s;for(var x=0,I=n.columns;x<I.length;x++){var l=I[x],c=w.cells[l.index];c&&(c.height=w.height);var u=e.cells[l.index];u&&(u.height=e.height)}return w}function J$(e,t,n,i){var r=e.pageSize().height,s=i.settings.margin,a=s.top+s.bottom,o=r-a;t.section==="body"&&(o-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var l=t.getMinimumRowHeight(i.columns,e),u=l<n;if(l>o)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=t.hasRowSpan(i.columns),p=t.getMaxCellHeight(i.columns)>o;return p?(c&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||i.settings.rowPageBreak==="avoid")}function P1(e,t,n,i,r,s,a){var o=tP(e,t,i,s);if(n.canEntireRowFit(o,a))Vo(e,t,n,s,a);else if(J$(e,n,o,t)){var l=Q$(n,o,t,e);Vo(e,t,n,s,a),Od(e,t,r,s,a),P1(e,t,l,i,r,s,a)}else Od(e,t,r,s,a),P1(e,t,n,i,r,s,a)}function Vo(e,t,n,i,r){i.x=t.settings.margin.left;for(var s=0,a=r;s<a.length;s++){var o=a[s],l=n.cells[o.index];if(!l){i.x+=o.width;continue}e.applyStyles(l.styles),l.x=i.x,l.y=i.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,l,n,o,i);if(u===!1){i.x+=o.width;continue}Z$(e,l,i);var c=l.getTextPos();UL(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,n,o,i),i.x+=o.width}i.y+=n.height}function Z$(e,t,n){var i=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=GL(i.lineWidth,i.fillColor);r&&e.rect(t.x,n.y,t.width,t.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),tX(e,t,n,i.lineWidth))}function tX(e,t,n,i){var r,s,a,o;i.top&&(r=n.x,s=n.y,a=n.x+t.width,o=n.y,i.right&&(a+=.5*i.right),i.left&&(r-=.5*i.left),l(i.top,r,s,a,o)),i.bottom&&(r=n.x,s=n.y+t.height,a=n.x+t.width,o=n.y+t.height,i.right&&(a+=.5*i.right),i.left&&(r-=.5*i.left),l(i.bottom,r,s,a,o)),i.left&&(r=n.x,s=n.y,a=n.x,o=n.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(o+=.5*i.bottom),l(i.left,r,s,a,o)),i.right&&(r=n.x+t.width,s=n.y,a=n.x+t.width,o=n.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(o+=.5*i.bottom),l(i.right,r,s,a,o));function l(u,c,p,g,d){e.getDocument().setLineWidth(u),e.getDocument().line(c,p,g,d,"S")}}function tP(e,t,n,i){var r=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(r+=t.getFootHeight(t.columns)),e.pageSize().height-i.y-r}function Od(e,t,n,i,r,s){r===void 0&&(r=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(o){return Vo(e,t,o,i,r)}),t.callEndPageHooks(e,i);var a=t.settings.margin;HL(e,t,n,i),eP(e),t.pageNumber++,i.x=a.left,i.y=a.top,n.y=a.top,t.callWillDrawPageHooks(e,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Vo(e,t,o,i,r)}),e.applyStyles(e.userStyles))}function eP(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function eX(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t[0],r=$L(this,i),s=JL(this,r);return ZL(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,i,r){UL(t,n,i,r,this)},e.API.autoTableSetDefaults=function(t){return Lh.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){Lh.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var i;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new Lh(this),s=YL(r,t,window,n,!1),a=s.head,o=s.body,l=((i=a[0])===null||i===void 0?void 0:i.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var Ay;function nX(e,t){var n=$L(e,t),i=JL(e,n);ZL(e,i)}try{if(typeof window<"u"&&window){var LT=window,PT=LT.jsPDF||((Ay=LT.jspdf)===null||Ay===void 0?void 0:Ay.jsPDF);PT&&eX(PT)}}catch(e){console.error("Could not apply autoTable plugin",e)}const iX=async(e,t,n,i,r)=>{try{const s=new ee;s.setFontSize(22),s.setTextColor(40,40,40),s.text(e,105,20,{align:"center"}),s.setFontSize(16),s.setTextColor(60,60,60),s.text(t,105,30,{align:"center"}),s.setFontSize(12),s.setTextColor(80,80,80),s.text(`Purpose: ${n}`,14,45),s.text(`Date: ${new Date().toLocaleDateString()}`,14,52);const a=["Change","Name","Amount"],o=i.map((l,u)=>[u+1,l.name,`Rs ${l.amount}`]);nX(s,{startY:60,head:[["No.","Name","Amount"]],body:i.map((l,u)=>[u+1,l.name,`Rs ${l.amount}`]),styles:{fontSize:11,cellPadding:3},headStyles:{fillColor:[79,70,229],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[249,250,251]},columnStyles:{0:{cellWidth:20},1:{cellWidth:"auto"},2:{cellWidth:40,halign:"right"}},foot:[["","Total",`Rs ${r}`]],footStyles:{fillColor:[255,255,255],textColor:[0,0,0],fontStyle:"bold",fontSize:12,lineColor:[200,200,200],lineWidth:{top:.1}},didParseCell:function(l){l.column.index===2&&l.section==="body"&&(l.cell.styles.halign="right")}}),s.save(`Church_Fund_${n.replace(/\s+/g,"_")}_${Date.now()}.pdf`)}catch(s){console.error("PDF Generation Error:",s)}},rX=({userName:e,lastActivePurpose:t,onResume:n,onNew:i,onLogout:r})=>{const s=e?e.split(" ")[0]:"User";return yt.jsxs("div",{className:"min-h-screen bg-gray-50 p-6 flex flex-col",children:[yt.jsxs("header",{className:"flex justify-between items-center mb-8",children:[yt.jsxs("div",{children:[yt.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome, ",s]}),yt.jsx("p",{className:"text-gray-500 text-sm",children:"Manage your collections"})]}),yt.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white shadow-sm text-gray-500 hover:text-red-600 transition-colors",children:yt.jsx(bR,{size:20})})]}),yt.jsxs("main",{className:"flex-grow space-y-6",children:[t&&yt.jsxs(Ia.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[yt.jsx("h2",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Resume Working"}),yt.jsxs("div",{className:"flex justify-between items-end",children:[yt.jsxs("div",{children:[yt.jsx("h3",{className:"text-xl font-bold text-indigo-900",children:t}),yt.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Continue adding entries"})]}),yt.jsxs("button",{onClick:n,className:"flex items-center space-x-2 bg-indigo-50 text-indigo-600 px-4 py-2 rounded-xl font-medium hover:bg-indigo-100 transition-colors",children:[yt.jsx("span",{children:"Open"}),yt.jsx(Fj,{size:18})]})]})]}),yt.jsxs(Ia.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-2xl p-6 shadow-lg shadow-indigo-200 flex flex-col items-center justify-center space-y-3",children:[yt.jsx("div",{className:"bg-white/20 p-3 rounded-full",children:yt.jsx(wR,{size:32})}),yt.jsxs("div",{children:[yt.jsx("span",{className:"font-bold text-lg block",children:"Start New Collection"}),yt.jsx("span",{className:"text-indigo-100 text-sm",children:"Setup logic for a new fund"})]})]})]})]})};function sX(){const[e,t]=Pt.useState(""),[n,i]=Pt.useState(""),[r,s]=Pt.useState(""),[a,o]=Pt.useState("home"),{currentUser:l,logout:u}=tw(),[c,p]=Pt.useState(!0);Pt.useEffect(()=>{let I;if(l){const _=E1(Pd,"users",l.uid),E=setTimeout(()=>{p(C=>(C&&console.warn("Loading timed out, forcing app open"),!1))},2e3);return I=K8(_,C=>{if(C.exists()){const D=C.data();D.parish&&t(D.parish),D.koottayma&&i(D.koottayma),D.lastPurpose&&s(D.lastPurpose)}p(!1)},C=>{console.error("Error fetching user data:",C),p(!1)}),()=>{I&&I(),clearTimeout(E)}}else p(!1);return()=>{I&&I()}},[l]);const g=async(I,_,E)=>{if(t(I),i(_),s(E),o("entry"),l)try{await vW(E1(Pd,"users",l.uid),{parish:I,koottayma:_,lastPurpose:E},{merge:!0})}catch(C){console.error("Error saving setup data:",C),alert("Failed to save setup data! "+C.message)}},d=()=>{o(r?"entry":"setup")},w=()=>{t(""),i(""),s(""),o("setup")},x=async(I,_)=>{if(I.length===0){alert("No entries to export!");return}try{await iX(e,n,r,I,_)}catch(E){console.error("Export failed",E),alert("Failed to export PDF. See console.")}};return l?c?yt.jsx("div",{className:"min-h-screen flex items-center justify-center font-medium text-gray-500",children:"Initializing App..."}):yt.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900 flex flex-col",children:[yt.jsxs("div",{className:"flex-grow",children:[a==="home"&&yt.jsx(rX,{userName:l.displayName,lastActivePurpose:r,onResume:d,onNew:w,onLogout:u}),a==="setup"&&yt.jsx(TW,{onComplete:g,initialParish:e,initialKoottayma:n}),a==="entry"&&yt.jsx(EW,{purpose:r,onBack:()=>o("home"),onExport:x,onLogout:u})]}),yt.jsxs("footer",{className:"text-center text-xs text-gray-400 py-2",children:["v1.2.3 (Debug: ",l?l.uid.substring(0,5)+"...":"No User",")"]})]}):yt.jsx(xW,{})}function aX(){return yt.jsx(SW,{children:yt.jsx(sX,{})})}Vk.createRoot(document.getElementById("root")).render(yt.jsx(Pt.StrictMode,{children:yt.jsx(aX,{})}));export{cn as _};
